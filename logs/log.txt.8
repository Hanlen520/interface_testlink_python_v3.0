2016-07-19 18:35:18,472 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'relBranchList': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'shop': {'thirdAppId': None, 'id': 42, 'parent': None, 'fullName': None, 'name': None, 'suffixShop': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'phoneNumber': None, 'logoUrl': None, 'serial': None}, 'createTime': None, 'meituanSyncStatus': None, 'business': None, 'hasActivity': 0, 'soldCount': 179, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'useTime': None, 'servicePhone': None, 'name': '插线板更名后', 'price': 1000, 'transientOriPrice': 0.0, 'oriPrice': 0, 'waimaiChannel': None, 'goodsCopyId': None, 'standardAllSku': None, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'relType': None, 'id': 26189, 'istop': 0, 'expirTime': None, 'rules': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'skuQuantity': 89, 'description': '100', 'cateName': None, 'dishCount': None, 'cwId': None, 'branch': None, 'preRemind': None, 'soldAllCount': 185, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'rank': None, 'lunchBoxCount': None, 'cateId': 0, 'baiduSyncStatus': None, 'shopId': None, 'standard': 1, 'delFlag': None, 'detail': None, 'status': 1, 'syncStatus': 0, 'outerId': None}, {'relBranchList': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'shop': {'thirdAppId': None, 'id': 42, 'parent': None, 'fullName': None, 'name': None, 'suffixShop': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'phoneNumber': None, 'logoUrl': None, 'serial': None}, 'createTime': None, 'meituanSyncStatus': None, 'business': None, 'hasActivity': 0, 'soldCount': 72, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'useTime': None, 'servicePhone': None, 'name': '水淀粉', 'price': 100000000, 'transientOriPrice': 0.0, 'oriPrice': 0, 'waimaiChannel': None, 'goodsCopyId': None, 'standardAllSku': None, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'relType': None, 'id': 26188, 'istop': 0, 'expirTime': None, 'rules': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'skuQuantity': 9265759, 'description': '阿斯达', 'cateName': None, 'dishCount': None, 'cwId': None, 'branch': None, 'preRemind': None, 'soldAllCount': 72, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'rank': None, 'lunchBoxCount': None, 'cateId': 0, 'baiduSyncStatus': None, 'shopId': None, 'standard': 1, 'delFlag': None, 'detail': None, 'status': 1, 'syncStatus': 0, 'outerId': None}, {'relBranchList': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'shop': {'thirdAppId': None, 'id': 42, 'parent': None, 'fullName': None, 'name': None, 'suffixShop': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'phoneNumber': None, 'logoUrl': None, 'serial': None}, 'createTime': None, 'meituanSyncStatus': None, 'business': None, 'hasActivity': 0, 'soldCount': 0, 'mallGoodsStandards': None, 'standardLowPrice': 0.01, 'useTime': None, 'servicePhone': None, 'name': '接口-测试商品2', 'price': 0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'waimaiChannel': None, 'goodsCopyId': None, 'standardAllSku': None, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'relType': None, 'id': 26839, 'istop': 0, 'expirTime': None, 'rules': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'description': '接口测试专用,勿动', 'cateName': None, 'dishCount': None, 'cwId': None, 'branch': None, 'preRemind': None, 'soldAllCount': 2, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'rank': None, 'lunchBoxCount': None, 'cateId': 0, 'baiduSyncStatus': None, 'shopId': None, 'standard': 2, 'delFlag': None, 'detail': None, 'status': 1, 'syncStatus': 0, 'outerId': None}, {'relBranchList': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'shop': {'thirdAppId': None, 'id': 42, 'parent': None, 'fullName': None, 'name': None, 'suffixShop': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'phoneNumber': None, 'logoUrl': None, 'serial': None}, 'createTime': None, 'meituanSyncStatus': None, 'business': None, 'hasActivity': 0, 'soldCount': 0, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'useTime': None, 'servicePhone': None, 'name': '接口-测试商品1', 'price': 1, 'transientOriPrice': 0.0, 'oriPrice': 0, 'waimaiChannel': None, 'goodsCopyId': None, 'standardAllSku': None, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'relType': None, 'id': 26838, 'istop': 0, 'expirTime': None, 'rules': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'skuQuantity': 1000000, 'description': '接口测试专用,烦请勿删,勿操作', 'cateName': None, 'dishCount': None, 'cwId': None, 'branch': None, 'preRemind': None, 'soldAllCount': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'rank': None, 'lunchBoxCount': None, 'cateId': 0, 'baiduSyncStatus': None, 'shopId': None, 'standard': 1, 'delFlag': None, 'detail': None, 'status': 1, 'syncStatus': 0, 'outerId': None}, {'relBranchList': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'shop': {'thirdAppId': None, 'id': 42, 'parent': None, 'fullName': None, 'name': None, 'suffixShop': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'phoneNumber': None, 'logoUrl': None, 'serial': None}, 'createTime': None, 'meituanSyncStatus': None, 'business': None, 'hasActivity': 0, 'soldCount': 0, 'mallGoodsStandards': None, 'standardLowPrice': 1.0, 'useTime': None, 'servicePhone': None, 'name': '多规格冗余测试', 'price': 0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'waimaiChannel': None, 'goodsCopyId': None, 'standardAllSku': None, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'relType': None, 'id': 26836, 'istop': 0, 'expirTime': None, 'rules': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'description': '啊啊啊啊啊', 'cateName': None, 'dishCount': None, 'cwId': None, 'branch': None, 'preRemind': None, 'soldAllCount': 8, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 259, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'rank': None, 'lunchBoxCount': None, 'cateId': 0, 'baiduSyncStatus': None, 'shopId': None, 'standard': 2, 'delFlag': None, 'detail': None, 'status': 1, 'syncStatus': 0, 'outerId': None}], 'pageInfo': {'totalRows': 5, 'hasNextPage': False, 'hasPreviousPage': False, 'params': None, 'pageStartRow': 0, 'currentPage': 1, 'totalPages': 1, 'pageEndRow': 5, 'pageSize': 10, 'pagination': True}}
2016-07-19 18:35:18,479 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:35:18,494 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:35:18,498 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:35:18,502 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-19 18:35:18,502 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-19 18:35:18" WHERE executed_history_id = 20160719183517 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:35:18,504 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-19 18:35:18,505 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:35:18,505 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-19 18:35:18" WHERE executed_history_id = 20160719183517 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:35:18,680 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:35:18,803 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:35:18,803 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:35:18,804 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:35:18,804 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183517',)
2016-07-19 18:35:18,805 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:35:18,805 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183517')
2016-07-19 18:35:18,806 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:35:18,806 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183517')
2016-07-19 18:35:18,807 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:35:18,807 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183517')
2016-07-19 18:35:18,808 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:35:18,808 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183517')
2016-07-19 18:35:18,809 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:35:18,810 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183517',)
2016-07-19 18:35:18,811 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:35:18,811 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183517')
2016-07-19 18:35:18,812 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:35:18,812 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:35:18,812 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183517',)
2016-07-19 18:35:18,813 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:35:18,814 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183517')
2016-07-19 18:35:18,815 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:35:18,816 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183517')
2016-07-19 18:35:18,817 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:35:18,818 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183517.html
2016-07-19 18:35:18,818 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:35:18,819 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:35:20,285 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183517.html
2016-07-19 18:35:20,286 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:35:20,286 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:36:33,893 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:36:33,903 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:36:33,908 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:36:33,957 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-19 18:36:33,957 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:36:33,958 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-19 18:36:33,959 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:36:33,960 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-19 18:36:33,962 main.py[line: 71] INFO: 按项目运行测试
2016-07-19 18:36:33,962 main.py[line: 107] INFO: 运行指定项目
2016-07-19 18:36:34,184 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:36:34,185 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:36:34,185 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:36:34,186 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:36:34,325 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:36:34,443 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:36:34,443 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:36:34,573 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:36:34,848 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:36:34,849 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183633', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:36:34,850 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:36:34,850 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:36:34,851 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183633', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:36:34,852 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:36:34,852 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:36:34,853 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:36:34,853 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:36:35,034 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pageSize': 10, 'hasPreviousPage': False, 'hasNextPage': False, 'totalRows': 5, 'totalPages': 1, 'pageEndRow': 5, 'pageStartRow': 0, 'params': None, 'currentPage': 1, 'pagination': True}, 'dataList': [{'detail': None, 'price': 1000, 'preRemind': None, 'istop': 0, 'syncStatus': 0, 'id': 26189, 'branch': None, 'useTime': None, 'standardLowPrice': 0.0, 'rules': None, 'elemeSyncStatus': None, 'soldAllCount': 185, 'hasActivity': 0, 'oriPrice': 0, 'status': 1, 'expirTime': None, 'standard': 1, 'cateName': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'relBranchList': None, 'rank': None, 'meituanSyncStatus': None, 'standardAllSku': None, 'waimaiChannel': None, 'goodsCopyId': None, 'business': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'baiduSyncStatus': None, 'dishCount': None, 'transientPrice': 0.0, 'description': '100', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'outerId': None, 'cannotUseTime': None, 'servicePhone': None, 'shopId': None, 'isSku': 0, 'mallGoodsCate': {'orderNum': None, 'oldName': None, 'name': None, 'shop': None, 'goodsAmount': 0, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'shop': {'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'logoUrl': None, 'printAdText': None, 'id': 42, 'createTime': None, 'serial': None, 'email': None, 'phoneNumber': None, 'name': None, 'suffixShop': None, 'parent': None}, 'skuQuantity': 89, 'createTime': None, 'cateId': 0, 'standardTopPrice': 0.0, 'name': '插线板更名后', 'soldCount': 179, 'mallGoodsStandards': None}, {'detail': None, 'price': 100000000, 'preRemind': None, 'istop': 0, 'syncStatus': 0, 'id': 26188, 'branch': None, 'useTime': None, 'standardLowPrice': 0.0, 'rules': None, 'elemeSyncStatus': None, 'soldAllCount': 72, 'hasActivity': 0, 'oriPrice': 0, 'status': 1, 'expirTime': None, 'standard': 1, 'cateName': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'relBranchList': None, 'rank': None, 'meituanSyncStatus': None, 'standardAllSku': None, 'waimaiChannel': None, 'goodsCopyId': None, 'business': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'baiduSyncStatus': None, 'dishCount': None, 'transientPrice': 0.0, 'description': '阿斯达', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'outerId': None, 'cannotUseTime': None, 'servicePhone': None, 'shopId': None, 'isSku': 0, 'mallGoodsCate': {'orderNum': None, 'oldName': None, 'name': None, 'shop': None, 'goodsAmount': 0, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'shop': {'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'logoUrl': None, 'printAdText': None, 'id': 42, 'createTime': None, 'serial': None, 'email': None, 'phoneNumber': None, 'name': None, 'suffixShop': None, 'parent': None}, 'skuQuantity': 9265759, 'createTime': None, 'cateId': 0, 'standardTopPrice': 0.0, 'name': '水淀粉', 'soldCount': 72, 'mallGoodsStandards': None}, {'detail': None, 'price': 0, 'preRemind': None, 'istop': 0, 'syncStatus': 0, 'id': 26839, 'branch': None, 'useTime': None, 'standardLowPrice': 0.01, 'rules': None, 'elemeSyncStatus': None, 'soldAllCount': 2, 'hasActivity': 0, 'oriPrice': 0, 'status': 1, 'expirTime': None, 'standard': 2, 'cateName': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'relBranchList': None, 'rank': None, 'meituanSyncStatus': None, 'standardAllSku': None, 'waimaiChannel': None, 'goodsCopyId': None, 'business': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'baiduSyncStatus': None, 'dishCount': None, 'transientPrice': 0.0, 'description': '接口测试专用,勿动', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'outerId': None, 'cannotUseTime': None, 'servicePhone': None, 'shopId': None, 'isSku': 0, 'mallGoodsCate': {'orderNum': None, 'oldName': None, 'name': None, 'shop': None, 'goodsAmount': 0, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'shop': {'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'logoUrl': None, 'printAdText': None, 'id': 42, 'createTime': None, 'serial': None, 'email': None, 'phoneNumber': None, 'name': None, 'suffixShop': None, 'parent': None}, 'skuQuantity': None, 'createTime': None, 'cateId': 0, 'standardTopPrice': 0.0, 'name': '接口-测试商品2', 'soldCount': 0, 'mallGoodsStandards': None}, {'detail': None, 'price': 1, 'preRemind': None, 'istop': 0, 'syncStatus': 0, 'id': 26838, 'branch': None, 'useTime': None, 'standardLowPrice': 0.0, 'rules': None, 'elemeSyncStatus': None, 'soldAllCount': 0, 'hasActivity': 0, 'oriPrice': 0, 'status': 1, 'expirTime': None, 'standard': 1, 'cateName': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'relBranchList': None, 'rank': None, 'meituanSyncStatus': None, 'standardAllSku': None, 'waimaiChannel': None, 'goodsCopyId': None, 'business': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'baiduSyncStatus': None, 'dishCount': None, 'transientPrice': 0.0, 'description': '接口测试专用,烦请勿删,勿操作', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'outerId': None, 'cannotUseTime': None, 'servicePhone': None, 'shopId': None, 'isSku': 0, 'mallGoodsCate': {'orderNum': None, 'oldName': None, 'name': None, 'shop': None, 'goodsAmount': 0, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'shop': {'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'logoUrl': None, 'printAdText': None, 'id': 42, 'createTime': None, 'serial': None, 'email': None, 'phoneNumber': None, 'name': None, 'suffixShop': None, 'parent': None}, 'skuQuantity': 1000000, 'createTime': None, 'cateId': 0, 'standardTopPrice': 0.0, 'name': '接口-测试商品1', 'soldCount': 0, 'mallGoodsStandards': None}, {'detail': None, 'price': 0, 'preRemind': None, 'istop': 0, 'syncStatus': 0, 'id': 26836, 'branch': None, 'useTime': None, 'standardLowPrice': 1.0, 'rules': None, 'elemeSyncStatus': None, 'soldAllCount': 8, 'hasActivity': 0, 'oriPrice': 0, 'status': 1, 'expirTime': None, 'standard': 2, 'cateName': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'relBranchList': None, 'rank': None, 'meituanSyncStatus': None, 'standardAllSku': None, 'waimaiChannel': None, 'goodsCopyId': None, 'business': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'baiduSyncStatus': None, 'dishCount': None, 'transientPrice': 0.0, 'description': '啊啊啊啊啊', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'outerId': None, 'cannotUseTime': None, 'servicePhone': None, 'shopId': None, 'isSku': 0, 'mallGoodsCate': {'orderNum': None, 'oldName': None, 'name': None, 'shop': None, 'goodsAmount': 0, 'id': 259, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'shop': {'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'logoUrl': None, 'printAdText': None, 'id': 42, 'createTime': None, 'serial': None, 'email': None, 'phoneNumber': None, 'name': None, 'suffixShop': None, 'parent': None}, 'skuQuantity': None, 'createTime': None, 'cateId': 0, 'standardTopPrice': 0.0, 'name': '多规格冗余测试', 'soldCount': 0, 'mallGoodsStandards': None}]}
2016-07-19 18:36:35,039 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:36:35,053 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:36:35,057 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:36:35,061 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-19 18:36:35,062 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-19 18:36:34" WHERE executed_history_id = 20160719183633 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:36:35,065 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-19 18:36:35,066 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:36:35,066 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-19 18:36:34" WHERE executed_history_id = 20160719183633 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:36:35,270 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:36:35,409 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:36:35,409 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:36:35,410 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:36:35,410 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183633',)
2016-07-19 18:36:35,411 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:36:35,412 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183633')
2016-07-19 18:36:35,412 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:36:35,413 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183633')
2016-07-19 18:36:35,413 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:36:35,413 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183633')
2016-07-19 18:36:35,414 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:36:35,414 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183633')
2016-07-19 18:36:35,415 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:36:35,416 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183633',)
2016-07-19 18:36:35,417 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:36:35,417 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183633')
2016-07-19 18:36:35,419 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:36:35,419 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:36:35,419 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183633',)
2016-07-19 18:36:35,421 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:36:35,421 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183633')
2016-07-19 18:36:35,422 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:36:35,422 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183633')
2016-07-19 18:36:35,424 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:36:35,424 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183633.html
2016-07-19 18:36:35,424 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:36:35,425 main.py[line: 252] INFO: 生成测试报告成功
2016-07-19 18:36:39,089 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160719183633.html
2016-07-19 18:36:39,090 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-19 18:36:39,090 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 10:35:34,816 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 10:35:34,831 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 10:35:34,838 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 10:35:34,928 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 10:35:34,929 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 10:35:34,932 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 10:35:34,933 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 10:35:34,935 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 10:35:34,938 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 10:35:34,938 main.py[line: 107] INFO: 运行指定项目
2016-07-20 10:35:35,254 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 10:35:35,255 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 10:35:35,256 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 10:35:35,256 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 10:35:35,391 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 10:35:35,523 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 10:35:35,524 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 10:35:35,683 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-20 10:35:35,984 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 10:35:35,984 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720103534', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 10:35:35,986 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 10:35:35,987 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 10:35:35,987 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720103534', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 10:35:35,989 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 10:35:35,989 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 10:35:35,989 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 10:35:35,989 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 10:35:36,064 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'mallGoodsCatagoryId': None, 'price': 1000, 'dishCount': None, 'expirTime': None, 'useTime': None, 'id': 26189, 'name': '插线板更名后', 'transientPrice': 0.0, 'lunchBoxCount': None, 'business': None, 'cwId': None, 'shopId': None, 'hasActivity': 0, 'goodsCopyId': None, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'suffixShop': None, 'createTime': None, 'id': 42, 'logoUrl': None, 'email': None, 'thirdAppId': None, 'serial': None, 'parent': None, 'fullName': None, 'name': None, 'printAdText': None}, 'cannotUseTime': None, 'status': 1, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'rank': None, 'delFlag': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'rules': None, 'meituanSyncStatus': None, 'soldAllCount': 187, 'standard': 1, 'outerId': None, 'createTime': None, 'relBranchList': None, 'oriPrice': 0, 'istop': 0, 'relType': None, 'detail': None, 'transientOriPrice': 0.0, 'description': '100', 'skuQuantity': 87, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'cateId': 0, 'preRemind': None, 'soldCount': 181, 'isSku': 0, 'cateName': None, 'branch': None, 'elemeSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'goodsAmount': 0, 'shop': None, 'name': None}, 'baiduSyncStatus': None, 'standardLowPrice': 0.0, 'servicePhone': None}, {'mallGoodsCatagoryId': None, 'price': 100000000, 'dishCount': None, 'expirTime': None, 'useTime': None, 'id': 26188, 'name': '水淀粉', 'transientPrice': 0.0, 'lunchBoxCount': None, 'business': None, 'cwId': None, 'shopId': None, 'hasActivity': 0, 'goodsCopyId': None, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'suffixShop': None, 'createTime': None, 'id': 42, 'logoUrl': None, 'email': None, 'thirdAppId': None, 'serial': None, 'parent': None, 'fullName': None, 'name': None, 'printAdText': None}, 'cannotUseTime': None, 'status': 1, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'rank': None, 'delFlag': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'rules': None, 'meituanSyncStatus': None, 'soldAllCount': 72, 'standard': 1, 'outerId': None, 'createTime': None, 'relBranchList': None, 'oriPrice': 0, 'istop': 0, 'relType': None, 'detail': None, 'transientOriPrice': 0.0, 'description': '阿斯达', 'skuQuantity': 9265759, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'cateId': 0, 'preRemind': None, 'soldCount': 72, 'isSku': 0, 'cateName': None, 'branch': None, 'elemeSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'goodsAmount': 0, 'shop': None, 'name': None}, 'baiduSyncStatus': None, 'standardLowPrice': 0.0, 'servicePhone': None}, {'mallGoodsCatagoryId': None, 'price': 0, 'dishCount': None, 'expirTime': None, 'useTime': None, 'id': 26839, 'name': '接口-测试商品2', 'transientPrice': 0.0, 'lunchBoxCount': None, 'business': None, 'cwId': None, 'shopId': None, 'hasActivity': 0, 'goodsCopyId': None, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'suffixShop': None, 'createTime': None, 'id': 42, 'logoUrl': None, 'email': None, 'thirdAppId': None, 'serial': None, 'parent': None, 'fullName': None, 'name': None, 'printAdText': None}, 'cannotUseTime': None, 'status': 1, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'rank': None, 'delFlag': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'rules': None, 'meituanSyncStatus': None, 'soldAllCount': 29, 'standard': 2, 'outerId': None, 'createTime': None, 'relBranchList': None, 'oriPrice': 0, 'istop': 0, 'relType': None, 'detail': None, 'transientOriPrice': 0.0, 'description': '接口测试专用,勿动', 'skuQuantity': None, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'cateId': 0, 'preRemind': None, 'soldCount': 0, 'isSku': 0, 'cateName': None, 'branch': None, 'elemeSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'goodsAmount': 0, 'shop': None, 'name': None}, 'baiduSyncStatus': None, 'standardLowPrice': 0.01, 'servicePhone': None}, {'mallGoodsCatagoryId': None, 'price': 1, 'dishCount': None, 'expirTime': None, 'useTime': None, 'id': 26838, 'name': '接口-测试商品1', 'transientPrice': 0.0, 'lunchBoxCount': None, 'business': None, 'cwId': None, 'shopId': None, 'hasActivity': 0, 'goodsCopyId': None, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'suffixShop': None, 'createTime': None, 'id': 42, 'logoUrl': None, 'email': None, 'thirdAppId': None, 'serial': None, 'parent': None, 'fullName': None, 'name': None, 'printAdText': None}, 'cannotUseTime': None, 'status': 1, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'rank': None, 'delFlag': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'rules': None, 'meituanSyncStatus': None, 'soldAllCount': 1, 'standard': 1, 'outerId': None, 'createTime': None, 'relBranchList': None, 'oriPrice': 0, 'istop': 0, 'relType': None, 'detail': None, 'transientOriPrice': 0.0, 'description': '接口测试专用,烦请勿删,勿操作', 'skuQuantity': 999999, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'cateId': 0, 'preRemind': None, 'soldCount': 1, 'isSku': 0, 'cateName': None, 'branch': None, 'elemeSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'goodsAmount': 0, 'shop': None, 'name': None}, 'baiduSyncStatus': None, 'standardLowPrice': 0.0, 'servicePhone': None}, {'mallGoodsCatagoryId': None, 'price': 0, 'dishCount': None, 'expirTime': None, 'useTime': None, 'id': 26836, 'name': '多规格冗余测试', 'transientPrice': 0.0, 'lunchBoxCount': None, 'business': None, 'cwId': None, 'shopId': None, 'hasActivity': 0, 'goodsCopyId': None, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'suffixShop': None, 'createTime': None, 'id': 42, 'logoUrl': None, 'email': None, 'thirdAppId': None, 'serial': None, 'parent': None, 'fullName': None, 'name': None, 'printAdText': None}, 'cannotUseTime': None, 'status': 1, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'rank': None, 'delFlag': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'rules': None, 'meituanSyncStatus': None, 'soldAllCount': 8, 'standard': 2, 'outerId': None, 'createTime': None, 'relBranchList': None, 'oriPrice': 0, 'istop': 0, 'relType': None, 'detail': None, 'transientOriPrice': 0.0, 'description': '啊啊啊啊啊', 'skuQuantity': None, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'cateId': 0, 'preRemind': None, 'soldCount': 0, 'isSku': 0, 'cateName': None, 'branch': None, 'elemeSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 259, 'goodsAmount': 0, 'shop': None, 'name': None}, 'baiduSyncStatus': None, 'standardLowPrice': 1.0, 'servicePhone': None}], 'pageInfo': {'totalRows': 5, 'pageEndRow': 5, 'pageSize': 10, 'params': None, 'pagination': True, 'hasNextPage': False, 'currentPage': 1, 'pageStartRow': 0, 'hasPreviousPage': False, 'totalPages': 1}}
2016-07-20 10:35:36,065 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 10:35:36,081 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 10:35:36,085 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 10:35:36,089 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 10:35:36,089 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 10:35:35" WHERE executed_history_id = 20160720103534 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 10:35:36,091 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 10:35:36,092 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 10:35:36,092 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 10:35:35" WHERE executed_history_id = 20160720103534 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 10:35:36,227 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 10:35:36,361 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 10:35:36,361 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 10:35:36,362 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 10:35:36,362 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720103534',)
2016-07-20 10:35:36,363 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 10:35:36,363 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720103534')
2016-07-20 10:35:36,364 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 10:35:36,364 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720103534')
2016-07-20 10:35:36,365 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 10:35:36,366 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720103534')
2016-07-20 10:35:36,367 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 10:35:36,367 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720103534')
2016-07-20 10:35:36,368 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 10:35:36,368 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720103534',)
2016-07-20 10:35:36,369 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 10:35:36,369 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720103534')
2016-07-20 10:35:36,370 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 10:35:36,371 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 10:35:36,371 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720103534',)
2016-07-20 10:35:36,372 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 10:35:36,372 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720103534')
2016-07-20 10:35:36,373 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 10:35:36,374 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720103534')
2016-07-20 10:35:36,375 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 10:35:36,375 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720103534.html
2016-07-20 10:35:36,375 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 10:35:36,376 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 10:35:37,624 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720103534.html
2016-07-20 10:35:37,624 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 10:35:37,624 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:29:14,648 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:29:14,658 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:29:14,664 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:29:14,717 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:29:14,717 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:29:14,719 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:29:14,719 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:29:14,721 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:29:14,722 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:29:14,723 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:29:14,852 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:29:14,852 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:29:14,853 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:29:14,853 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:29:14,991 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:29:15,112 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:29:15,113 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:29:15,249 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-20 11:29:15,601 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:29:15,602 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720112914', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:29:15,603 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:29:15,604 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:29:15,604 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720112914', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:29:15,607 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:29:15,608 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:29:15,608 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:29:15,608 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:29:15,686 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'pageInfo': {'totalRows': 5, 'hasPreviousPage': False, 'pageEndRow': 5, 'currentPage': 1, 'pageStartRow': 0, 'params': None, 'pagination': True, 'pageSize': 10, 'hasNextPage': False, 'totalPages': 1}, 'dataList': [{'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'elemeSyncStatus': None, 'cwId': None, 'lunchBoxCount': None, 'description': '100', 'isSku': 0, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'cateName': None, 'hasActivity': 0, 'oriPrice': 0, 'meituanSyncStatus': None, 'syncStatus': 0, 'waimaiChannel': None, 'preRemind': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'standardAllSku': None, 'standardTopPrice': 0.0, 'expirTime': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'id': 26189, 'relType': None, 'transientPrice': 0.0, 'standard': 1, 'detail': None, 'price': 1000, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'business': None, 'name': '插线板更名后', 'shop': {'parent': None, 'suffixShop': None, 'createTime': None, 'printAdText': None, 'thirdAppId': None, 'id': 42, 'serial': None, 'fullName': None, 'email': None, 'name': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None}, 'rank': None, 'soldCount': 181, 'createTime': None, 'mallGoodsCatagoryId': None, 'skuQuantity': 87, 'rules': None, 'mallGoodsStandards': None, 'relBranchList': None, 'useTime': None, 'servicePhone': None, 'outerId': None, 'mallGoodsCate': {'branchId': None, 'delFlag': None, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260, 'goodsAmount': 0, 'name': None, 'shop': None}, 'soldAllCount': 187}, {'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'elemeSyncStatus': None, 'cwId': None, 'lunchBoxCount': None, 'description': '阿斯达', 'isSku': 0, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'cateName': None, 'hasActivity': 0, 'oriPrice': 0, 'meituanSyncStatus': None, 'syncStatus': 0, 'waimaiChannel': None, 'preRemind': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'standardAllSku': None, 'standardTopPrice': 0.0, 'expirTime': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'id': 26188, 'relType': None, 'transientPrice': 0.0, 'standard': 1, 'detail': None, 'price': 100000000, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'business': None, 'name': '水淀粉', 'shop': {'parent': None, 'suffixShop': None, 'createTime': None, 'printAdText': None, 'thirdAppId': None, 'id': 42, 'serial': None, 'fullName': None, 'email': None, 'name': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None}, 'rank': None, 'soldCount': 72, 'createTime': None, 'mallGoodsCatagoryId': None, 'skuQuantity': 9265759, 'rules': None, 'mallGoodsStandards': None, 'relBranchList': None, 'useTime': None, 'servicePhone': None, 'outerId': None, 'mallGoodsCate': {'branchId': None, 'delFlag': None, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260, 'goodsAmount': 0, 'name': None, 'shop': None}, 'soldAllCount': 72}, {'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'elemeSyncStatus': None, 'cwId': None, 'lunchBoxCount': None, 'description': '接口测试专用,勿动', 'isSku': 0, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'cateName': None, 'hasActivity': 0, 'oriPrice': 0, 'meituanSyncStatus': None, 'syncStatus': 0, 'waimaiChannel': None, 'preRemind': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'standardAllSku': None, 'standardTopPrice': 0.0, 'expirTime': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.01, 'id': 26839, 'relType': None, 'transientPrice': 0.0, 'standard': 2, 'detail': None, 'price': 0, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'business': None, 'name': '接口-测试商品2', 'shop': {'parent': None, 'suffixShop': None, 'createTime': None, 'printAdText': None, 'thirdAppId': None, 'id': 42, 'serial': None, 'fullName': None, 'email': None, 'name': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None}, 'rank': None, 'soldCount': 0, 'createTime': None, 'mallGoodsCatagoryId': None, 'skuQuantity': None, 'rules': None, 'mallGoodsStandards': None, 'relBranchList': None, 'useTime': None, 'servicePhone': None, 'outerId': None, 'mallGoodsCate': {'branchId': None, 'delFlag': None, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268, 'goodsAmount': 0, 'name': None, 'shop': None}, 'soldAllCount': 29}, {'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'elemeSyncStatus': None, 'cwId': None, 'lunchBoxCount': None, 'description': '接口测试专用,烦请勿删,勿操作', 'isSku': 0, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'cateName': None, 'hasActivity': 0, 'oriPrice': 0, 'meituanSyncStatus': None, 'syncStatus': 0, 'waimaiChannel': None, 'preRemind': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'standardAllSku': None, 'standardTopPrice': 0.0, 'expirTime': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'id': 26838, 'relType': None, 'transientPrice': 0.0, 'standard': 1, 'detail': None, 'price': 1, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'business': None, 'name': '接口-测试商品1', 'shop': {'parent': None, 'suffixShop': None, 'createTime': None, 'printAdText': None, 'thirdAppId': None, 'id': 42, 'serial': None, 'fullName': None, 'email': None, 'name': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None}, 'rank': None, 'soldCount': 3, 'createTime': None, 'mallGoodsCatagoryId': None, 'skuQuantity': 999997, 'rules': None, 'mallGoodsStandards': None, 'relBranchList': None, 'useTime': None, 'servicePhone': None, 'outerId': None, 'mallGoodsCate': {'branchId': None, 'delFlag': None, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268, 'goodsAmount': 0, 'name': None, 'shop': None}, 'soldAllCount': 3}, {'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'elemeSyncStatus': None, 'cwId': None, 'lunchBoxCount': None, 'description': '啊啊啊啊啊', 'isSku': 0, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'cateName': None, 'hasActivity': 0, 'oriPrice': 0, 'meituanSyncStatus': None, 'syncStatus': 0, 'waimaiChannel': None, 'preRemind': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'standardAllSku': None, 'standardTopPrice': 0.0, 'expirTime': None, 'transientOriPrice': 0.0, 'standardLowPrice': 1.0, 'id': 26836, 'relType': None, 'transientPrice': 0.0, 'standard': 2, 'detail': None, 'price': 0, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'business': None, 'name': '多规格冗余测试', 'shop': {'parent': None, 'suffixShop': None, 'createTime': None, 'printAdText': None, 'thirdAppId': None, 'id': 42, 'serial': None, 'fullName': None, 'email': None, 'name': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None}, 'rank': None, 'soldCount': 0, 'createTime': None, 'mallGoodsCatagoryId': None, 'skuQuantity': None, 'rules': None, 'mallGoodsStandards': None, 'relBranchList': None, 'useTime': None, 'servicePhone': None, 'outerId': None, 'mallGoodsCate': {'branchId': None, 'delFlag': None, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 259, 'goodsAmount': 0, 'name': None, 'shop': None}, 'soldAllCount': 8}]}
2016-07-20 11:29:15,688 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:29:15,704 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:29:15,708 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:29:15,713 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:29:15,713 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:29:15" WHERE executed_history_id = 20160720112914 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:29:15,716 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:29:15,716 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:29:15,716 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:29:15" WHERE executed_history_id = 20160720112914 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:29:15,867 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:29:16,000 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:29:16,000 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:29:16,001 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:29:16,001 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720112914',)
2016-07-20 11:29:16,002 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:29:16,002 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720112914')
2016-07-20 11:29:16,003 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:29:16,003 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720112914')
2016-07-20 11:29:16,004 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:29:16,004 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720112914')
2016-07-20 11:29:16,005 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:29:16,005 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720112914')
2016-07-20 11:29:16,007 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:29:16,007 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720112914',)
2016-07-20 11:29:16,008 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:29:16,008 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720112914')
2016-07-20 11:29:16,010 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:29:16,011 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:29:16,011 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720112914',)
2016-07-20 11:29:16,012 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:29:16,013 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720112914')
2016-07-20 11:29:16,014 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:29:16,014 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720112914')
2016-07-20 11:29:16,016 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:29:16,016 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720112914.html
2016-07-20 11:29:16,016 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:29:16,018 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:29:17,226 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720112914.html
2016-07-20 11:29:17,227 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:29:17,227 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:30:02,389 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:30:02,400 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:30:02,408 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:30:02,451 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:30:02,451 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:30:02,453 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:30:02,453 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:30:02,454 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:30:02,456 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:30:02,456 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:30:02,587 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:30:02,587 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:30:02,588 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:30:02,588 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:30:02,719 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:30:02,836 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:30:02,836 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:30:02,963 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76'])
2016-07-20 11:30:03,258 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:30:03,259 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113002', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:30:03,260 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:30:03,260 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:30:03,261 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113002', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:30:03,262 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:30:03,262 casestep.py[line: 59] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:30:46,771 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:30:46,780 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:30:46,787 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:30:46,830 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:30:46,830 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:30:46,831 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:30:46,832 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:30:46,833 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:30:46,834 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:30:46,834 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:30:47,117 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:30:47,117 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:30:47,118 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:30:47,118 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:30:47,241 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:30:47,379 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:30:47,379 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:30:47,534 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76'])
2016-07-20 11:30:47,855 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:30:47,855 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113046', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:30:47,857 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:30:47,858 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:30:47,858 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113046', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:30:47,859 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:30:47,859 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:30:47,859 wechatno_wemall.py[line: 97] INFO: 正在发起GET请求...
2016-07-20 11:30:47,860 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?
2016-07-20 11:30:48,051 wechatno_wemall.py[line: 104] INFO: 正在解析返回结果:200
2016-07-20 11:30:48,051 wechatno_wemall.py[line: 108] ERROR: 服务器返回http状态码为200
2016-07-20 11:30:48,051 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:30:48,051 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 11:30:47" WHERE executed_history_id = 20160720113046 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:30:48,053 testcase.py[line: 101] INFO: 测试用例[id=80, name=点击商品]执行成功
2016-07-20 11:30:48,054 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:30:48,054 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:30:47" WHERE executed_history_id = 20160720113046 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:30:48,194 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 11:30:48,611 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:30:48,612 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113046', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:30:48,614 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:30:48,614 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:30:48,614 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113046', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:30:48,615 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:30:48,616 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:30:48,616 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:30:48,616 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:30:48,692 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'dataList': [{'soldAllCount': 187, 'transientOriPrice': 0.0, 'oriPrice': 0, 'rules': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'syncStatus': 0, 'standardLowPrice': 0.0, 'useTime': None, 'business': None, 'istop': 0, 'preRemind': None, 'status': 1, 'detail': None, 'mallGoodsCatagoryId': None, 'goodsCopyId': None, 'lunchBoxCount': None, 'cwId': None, 'branch': None, 'outerId': None, 'rank': None, 'waimaiChannel': None, 'standardAllSku': None, 'cateName': None, 'relBranchList': None, 'price': 1000, 'delFlag': None, 'expirTime': None, 'standard': 1, 'servicePhone': None, 'shopId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'id': 26189, 'cannotUseTime': None, 'description': '100', 'dishCount': None, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'transientPrice': 0.0, 'name': '插线板更名后', 'soldCount': 181, 'standardTopPrice': 0.0, 'cateId': 0, 'createTime': None, 'meituanSyncStatus': None, 'shop': {'name': None, 'parent': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'email': None, 'logoUrl': None, 'id': 42, 'fullName': None, 'printAdUrl': None, 'thirdAppId': None}, 'isSku': 0, 'skuQuantity': 87, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'orderNum': None, 'oldName': None}, 'relType': None}, {'soldAllCount': 72, 'transientOriPrice': 0.0, 'oriPrice': 0, 'rules': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'syncStatus': 0, 'standardLowPrice': 0.0, 'useTime': None, 'business': None, 'istop': 0, 'preRemind': None, 'status': 1, 'detail': None, 'mallGoodsCatagoryId': None, 'goodsCopyId': None, 'lunchBoxCount': None, 'cwId': None, 'branch': None, 'outerId': None, 'rank': None, 'waimaiChannel': None, 'standardAllSku': None, 'cateName': None, 'relBranchList': None, 'price': 100000000, 'delFlag': None, 'expirTime': None, 'standard': 1, 'servicePhone': None, 'shopId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'id': 26188, 'cannotUseTime': None, 'description': '阿斯达', 'dishCount': None, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'transientPrice': 0.0, 'name': '水淀粉', 'soldCount': 72, 'standardTopPrice': 0.0, 'cateId': 0, 'createTime': None, 'meituanSyncStatus': None, 'shop': {'name': None, 'parent': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'email': None, 'logoUrl': None, 'id': 42, 'fullName': None, 'printAdUrl': None, 'thirdAppId': None}, 'isSku': 0, 'skuQuantity': 9265759, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'orderNum': None, 'oldName': None}, 'relType': None}, {'soldAllCount': 30, 'transientOriPrice': 0.0, 'oriPrice': 0, 'rules': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'syncStatus': 0, 'standardLowPrice': 0.01, 'useTime': None, 'business': None, 'istop': 0, 'preRemind': None, 'status': 1, 'detail': None, 'mallGoodsCatagoryId': None, 'goodsCopyId': None, 'lunchBoxCount': None, 'cwId': None, 'branch': None, 'outerId': None, 'rank': None, 'waimaiChannel': None, 'standardAllSku': None, 'cateName': None, 'relBranchList': None, 'price': 0, 'delFlag': None, 'expirTime': None, 'standard': 2, 'servicePhone': None, 'shopId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'id': 26839, 'cannotUseTime': None, 'description': '接口测试专用,勿动', 'dishCount': None, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'transientPrice': 0.0, 'name': '接口-测试商品2', 'soldCount': 0, 'standardTopPrice': 0.0, 'cateId': 0, 'createTime': None, 'meituanSyncStatus': None, 'shop': {'name': None, 'parent': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'email': None, 'logoUrl': None, 'id': 42, 'fullName': None, 'printAdUrl': None, 'thirdAppId': None}, 'isSku': 0, 'skuQuantity': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'orderNum': None, 'oldName': None}, 'relType': None}, {'soldAllCount': 3, 'transientOriPrice': 0.0, 'oriPrice': 0, 'rules': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'syncStatus': 0, 'standardLowPrice': 0.0, 'useTime': None, 'business': None, 'istop': 0, 'preRemind': None, 'status': 1, 'detail': None, 'mallGoodsCatagoryId': None, 'goodsCopyId': None, 'lunchBoxCount': None, 'cwId': None, 'branch': None, 'outerId': None, 'rank': None, 'waimaiChannel': None, 'standardAllSku': None, 'cateName': None, 'relBranchList': None, 'price': 1, 'delFlag': None, 'expirTime': None, 'standard': 1, 'servicePhone': None, 'shopId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'id': 26838, 'cannotUseTime': None, 'description': '接口测试专用,烦请勿删,勿操作', 'dishCount': None, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'transientPrice': 0.0, 'name': '接口-测试商品1', 'soldCount': 3, 'standardTopPrice': 0.0, 'cateId': 0, 'createTime': None, 'meituanSyncStatus': None, 'shop': {'name': None, 'parent': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'email': None, 'logoUrl': None, 'id': 42, 'fullName': None, 'printAdUrl': None, 'thirdAppId': None}, 'isSku': 0, 'skuQuantity': 999997, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'orderNum': None, 'oldName': None}, 'relType': None}, {'soldAllCount': 8, 'transientOriPrice': 0.0, 'oriPrice': 0, 'rules': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'syncStatus': 0, 'standardLowPrice': 1.0, 'useTime': None, 'business': None, 'istop': 0, 'preRemind': None, 'status': 1, 'detail': None, 'mallGoodsCatagoryId': None, 'goodsCopyId': None, 'lunchBoxCount': None, 'cwId': None, 'branch': None, 'outerId': None, 'rank': None, 'waimaiChannel': None, 'standardAllSku': None, 'cateName': None, 'relBranchList': None, 'price': 0, 'delFlag': None, 'expirTime': None, 'standard': 2, 'servicePhone': None, 'shopId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'id': 26836, 'cannotUseTime': None, 'description': '啊啊啊啊啊', 'dishCount': None, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'transientPrice': 0.0, 'name': '多规格冗余测试', 'soldCount': 0, 'standardTopPrice': 0.0, 'cateId': 0, 'createTime': None, 'meituanSyncStatus': None, 'shop': {'name': None, 'parent': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'email': None, 'logoUrl': None, 'id': 42, 'fullName': None, 'printAdUrl': None, 'thirdAppId': None}, 'isSku': 0, 'skuQuantity': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'id': 259, 'orderNum': None, 'oldName': None}, 'relType': None}], 'pageInfo': {'params': None, 'totalPages': 1, 'currentPage': 1, 'pagination': True, 'pageStartRow': 0, 'pageSize': 10, 'pageEndRow': 5, 'totalRows': 5, 'hasNextPage': False, 'hasPreviousPage': False}}
2016-07-20 11:30:48,695 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:30:48,710 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:30:48,714 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:30:48,718 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:30:48,718 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:30:48" WHERE executed_history_id = 20160720113046 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:30:48,722 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:30:48,722 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:30:48,722 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:30:48" WHERE executed_history_id = 20160720113046 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:30:48,863 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:30:49,047 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:30:49,048 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:30:49,048 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:30:49,048 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720113046',)
2016-07-20 11:30:49,050 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:30:49,050 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720113046')
2016-07-20 11:30:49,051 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:30:49,051 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720113046')
2016-07-20 11:30:49,052 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:30:49,052 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720113046')
2016-07-20 11:30:49,053 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:30:49,053 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720113046')
2016-07-20 11:30:49,054 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:30:49,054 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113046',)
2016-07-20 11:30:49,055 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:30:49,056 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113046')
2016-07-20 11:30:49,057 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:30:49,058 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:30:49,058 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113046',)
2016-07-20 11:30:49,059 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:30:49,059 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113046')
2016-07-20 11:30:49,061 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 11:30:49,061 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720113046')
2016-07-20 11:30:49,062 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:30:49,062 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720113046')
2016-07-20 11:30:49,064 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:30:49,064 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720113046.html
2016-07-20 11:30:49,064 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:30:49,065 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:30:49,226 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720113046.html
2016-07-20 11:30:49,226 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:30:49,226 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:33:55,008 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:33:55,019 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:33:55,025 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:33:55,071 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:33:55,072 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:33:55,073 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:33:55,073 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:33:55,074 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:33:55,076 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:33:55,076 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:33:55,310 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:33:55,310 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:33:55,312 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:33:55,312 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:33:55,442 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:33:55,567 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:33:55,567 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:33:55,697 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76'])
2016-07-20 11:33:55,947 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:33:55,947 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113355', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:33:55,948 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:33:55,948 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:33:55,948 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113355', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:33:55,950 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:33:55,950 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:33:55,950 wechatno_wemall.py[line: 92] INFO: 正在发起GET请求...
2016-07-20 11:33:55,950 wechatno_wemall.py[line: 95] INFO: b'id=26838&serial=10549840601068216320'
2016-07-20 11:33:55,950 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?
2016-07-20 11:33:56,166 wechatno_wemall.py[line: 99] INFO: 正在解析返回结果:200
2016-07-20 11:33:56,167 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:33:56,167 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 11:33:55" WHERE executed_history_id = 20160720113355 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:33:56,169 testcase.py[line: 101] INFO: 测试用例[id=80, name=点击商品]执行成功
2016-07-20 11:33:56,170 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:33:56,170 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:33:55" WHERE executed_history_id = 20160720113355 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:33:56,358 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 11:33:56,834 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:33:56,835 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113355', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:33:56,838 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:33:56,838 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:33:56,839 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113355', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:33:56,841 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:33:56,842 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:33:56,842 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:33:56,843 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:33:56,926 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'pageInfo': {'hasNextPage': False, 'params': None, 'pageEndRow': 5, 'currentPage': 1, 'totalRows': 5, 'pageSize': 10, 'pageStartRow': 0, 'totalPages': 1, 'pagination': True, 'hasPreviousPage': False}, 'dataList': [{'description': '100', 'transientPrice': 0.0, 'mallGoodsCate': {'name': None, 'goodsAmount': 0, 'branchId': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 260, 'shop': None, 'oldName': None, 'delFlag': None}, 'createTime': None, 'elemeSyncStatus': None, 'outerId': None, 'dishCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'cateName': None, 'standard': 1, 'shop': {'email': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'printAdUrl': None, 'name': None, 'createTime': None, 'thirdAppId': None, 'parent': None, 'phoneNumber': None, 'serial': None, 'suffixShop': None, 'fullName': None}, 'istop': 0, 'syncStatus': 0, 'mallGoodsCatagoryId': None, 'oriPrice': 0, 'soldCount': 181, 'cwId': None, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'branch': None, 'detail': None, 'cateId': 0, 'rules': None, 'cannotUseTime': None, 'id': 26189, 'price': 1000, 'preRemind': None, 'name': '插线板更名后', 'lunchBoxCount': None, 'skuQuantity': 87, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'mallGoodsStandards': None, 'status': 1, 'standardAllSku': None, 'standardLowPrice': 0.0, 'expirTime': None, 'rank': None, 'goodsCopyId': None, 'shopId': None, 'standardTopPrice': 0.0, 'transientOriPrice': 0.0, 'waimaiChannel': None, 'isSku': 0, 'soldAllCount': 187, 'relType': None, 'useTime': None, 'hasActivity': 0}, {'description': '阿斯达', 'transientPrice': 0.0, 'mallGoodsCate': {'name': None, 'goodsAmount': 0, 'branchId': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 260, 'shop': None, 'oldName': None, 'delFlag': None}, 'createTime': None, 'elemeSyncStatus': None, 'outerId': None, 'dishCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'cateName': None, 'standard': 1, 'shop': {'email': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'printAdUrl': None, 'name': None, 'createTime': None, 'thirdAppId': None, 'parent': None, 'phoneNumber': None, 'serial': None, 'suffixShop': None, 'fullName': None}, 'istop': 0, 'syncStatus': 0, 'mallGoodsCatagoryId': None, 'oriPrice': 0, 'soldCount': 72, 'cwId': None, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'branch': None, 'detail': None, 'cateId': 0, 'rules': None, 'cannotUseTime': None, 'id': 26188, 'price': 100000000, 'preRemind': None, 'name': '水淀粉', 'lunchBoxCount': None, 'skuQuantity': 9265759, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'mallGoodsStandards': None, 'status': 1, 'standardAllSku': None, 'standardLowPrice': 0.0, 'expirTime': None, 'rank': None, 'goodsCopyId': None, 'shopId': None, 'standardTopPrice': 0.0, 'transientOriPrice': 0.0, 'waimaiChannel': None, 'isSku': 0, 'soldAllCount': 72, 'relType': None, 'useTime': None, 'hasActivity': 0}, {'description': '接口测试专用,勿动', 'transientPrice': 0.0, 'mallGoodsCate': {'name': None, 'goodsAmount': 0, 'branchId': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 268, 'shop': None, 'oldName': None, 'delFlag': None}, 'createTime': None, 'elemeSyncStatus': None, 'outerId': None, 'dishCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'cateName': None, 'standard': 2, 'shop': {'email': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'printAdUrl': None, 'name': None, 'createTime': None, 'thirdAppId': None, 'parent': None, 'phoneNumber': None, 'serial': None, 'suffixShop': None, 'fullName': None}, 'istop': 0, 'syncStatus': 0, 'mallGoodsCatagoryId': None, 'oriPrice': 0, 'soldCount': 0, 'cwId': None, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'branch': None, 'detail': None, 'cateId': 0, 'rules': None, 'cannotUseTime': None, 'id': 26839, 'price': 0, 'preRemind': None, 'name': '接口-测试商品2', 'lunchBoxCount': None, 'skuQuantity': None, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'mallGoodsStandards': None, 'status': 1, 'standardAllSku': None, 'standardLowPrice': 0.01, 'expirTime': None, 'rank': None, 'goodsCopyId': None, 'shopId': None, 'standardTopPrice': 0.0, 'transientOriPrice': 0.0, 'waimaiChannel': None, 'isSku': 0, 'soldAllCount': 30, 'relType': None, 'useTime': None, 'hasActivity': 0}, {'description': '接口测试专用,烦请勿删,勿操作', 'transientPrice': 0.0, 'mallGoodsCate': {'name': None, 'goodsAmount': 0, 'branchId': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 268, 'shop': None, 'oldName': None, 'delFlag': None}, 'createTime': None, 'elemeSyncStatus': None, 'outerId': None, 'dishCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'cateName': None, 'standard': 1, 'shop': {'email': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'printAdUrl': None, 'name': None, 'createTime': None, 'thirdAppId': None, 'parent': None, 'phoneNumber': None, 'serial': None, 'suffixShop': None, 'fullName': None}, 'istop': 0, 'syncStatus': 0, 'mallGoodsCatagoryId': None, 'oriPrice': 0, 'soldCount': 3, 'cwId': None, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'branch': None, 'detail': None, 'cateId': 0, 'rules': None, 'cannotUseTime': None, 'id': 26838, 'price': 1, 'preRemind': None, 'name': '接口-测试商品1', 'lunchBoxCount': None, 'skuQuantity': 999997, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'mallGoodsStandards': None, 'status': 1, 'standardAllSku': None, 'standardLowPrice': 0.0, 'expirTime': None, 'rank': None, 'goodsCopyId': None, 'shopId': None, 'standardTopPrice': 0.0, 'transientOriPrice': 0.0, 'waimaiChannel': None, 'isSku': 0, 'soldAllCount': 3, 'relType': None, 'useTime': None, 'hasActivity': 0}, {'description': '啊啊啊啊啊', 'transientPrice': 0.0, 'mallGoodsCate': {'name': None, 'goodsAmount': 0, 'branchId': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 259, 'shop': None, 'oldName': None, 'delFlag': None}, 'createTime': None, 'elemeSyncStatus': None, 'outerId': None, 'dishCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'cateName': None, 'standard': 2, 'shop': {'email': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'printAdUrl': None, 'name': None, 'createTime': None, 'thirdAppId': None, 'parent': None, 'phoneNumber': None, 'serial': None, 'suffixShop': None, 'fullName': None}, 'istop': 0, 'syncStatus': 0, 'mallGoodsCatagoryId': None, 'oriPrice': 0, 'soldCount': 0, 'cwId': None, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'branch': None, 'detail': None, 'cateId': 0, 'rules': None, 'cannotUseTime': None, 'id': 26836, 'price': 0, 'preRemind': None, 'name': '多规格冗余测试', 'lunchBoxCount': None, 'skuQuantity': None, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'mallGoodsStandards': None, 'status': 1, 'standardAllSku': None, 'standardLowPrice': 1.0, 'expirTime': None, 'rank': None, 'goodsCopyId': None, 'shopId': None, 'standardTopPrice': 0.0, 'transientOriPrice': 0.0, 'waimaiChannel': None, 'isSku': 0, 'soldAllCount': 8, 'relType': None, 'useTime': None, 'hasActivity': 0}]}
2016-07-20 11:33:56,930 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:33:56,945 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:33:56,950 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:33:56,958 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:33:56,958 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:33:56" WHERE executed_history_id = 20160720113355 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:33:56,963 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:33:56,963 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:33:56,963 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:33:56" WHERE executed_history_id = 20160720113355 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:33:57,101 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:33:57,243 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:33:57,243 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:33:57,244 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:33:57,244 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720113355',)
2016-07-20 11:33:57,245 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:33:57,246 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720113355')
2016-07-20 11:33:57,247 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:33:57,247 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720113355')
2016-07-20 11:33:57,249 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:33:57,249 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720113355')
2016-07-20 11:33:57,250 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:33:57,251 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720113355')
2016-07-20 11:33:57,252 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:33:57,252 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113355',)
2016-07-20 11:33:57,253 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:33:57,253 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113355')
2016-07-20 11:33:57,255 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:33:57,255 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:33:57,256 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113355',)
2016-07-20 11:33:57,257 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:33:57,257 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113355')
2016-07-20 11:33:57,259 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 11:33:57,259 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720113355')
2016-07-20 11:33:57,261 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:33:57,262 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720113355')
2016-07-20 11:33:57,264 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:33:57,264 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720113355.html
2016-07-20 11:33:57,264 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:33:57,266 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:33:57,512 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720113355.html
2016-07-20 11:33:57,512 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:33:57,513 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:35:01,538 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:35:01,549 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:35:01,557 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:35:01,604 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:35:01,604 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:35:01,605 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:35:01,605 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:35:01,608 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:35:01,610 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:35:01,610 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:35:01,768 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:35:01,768 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:35:01,769 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:35:01,769 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:35:01,894 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:35:02,034 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:35:02,034 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:35:02,189 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '80'])
2016-07-20 11:35:02,486 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:35:02,486 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113501', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:35:02,488 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:35:02,489 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:35:02,489 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113501', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:35:02,490 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:35:02,491 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:35:02,491 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:35:02,491 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:35:02,560 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'pageInfo': {'currentPage': 1, 'pagination': True, 'totalPages': 1, 'hasPreviousPage': False, 'pageSize': 10, 'pageStartRow': 0, 'params': None, 'pageEndRow': 5, 'hasNextPage': False, 'totalRows': 5}, 'dataList': [{'transientPrice': 0.0, 'standardLowPrice': 0.0, 'outerId': None, 'hasActivity': 0, 'price': 1000, 'meituanSyncStatus': None, 'baiduSyncStatus': None, 'skuQuantity': 87, 'cateName': None, 'rules': None, 'elemeSyncStatus': None, 'useTime': None, 'branch': None, 'preRemind': None, 'business': None, 'cateId': 0, 'cwId': None, 'relBranchList': None, 'shop': {'thirdAppId': None, 'fullName': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'parent': None, 'name': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'createTime': None}, 'soldCount': 181, 'mallGoodsStandards': None, 'syncStatus': 0, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'oriPrice': 0, 'mallGoodsCatagoryId': None, 'name': '插线板更名后', 'transientOriPrice': 0.0, 'standardAllSku': None, 'goodsCopyId': None, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'description': '100', 'isSku': 0, 'standard': 1, 'mallGoodsCate': {'name': None, 'delFlag': None, 'id': 260, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0, 'orderNum': None, 'branchId': None}, 'dishCount': None, 'cannotUseTime': None, 'shopId': None, 'relType': None, 'delFlag': None, 'id': 26189, 'status': 1, 'lunchBoxCount': None, 'createTime': None, 'soldAllCount': 187, 'servicePhone': None, 'istop': 0, 'detail': None, 'expirTime': None}, {'transientPrice': 0.0, 'standardLowPrice': 0.0, 'outerId': None, 'hasActivity': 0, 'price': 100000000, 'meituanSyncStatus': None, 'baiduSyncStatus': None, 'skuQuantity': 9265759, 'cateName': None, 'rules': None, 'elemeSyncStatus': None, 'useTime': None, 'branch': None, 'preRemind': None, 'business': None, 'cateId': 0, 'cwId': None, 'relBranchList': None, 'shop': {'thirdAppId': None, 'fullName': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'parent': None, 'name': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'createTime': None}, 'soldCount': 72, 'mallGoodsStandards': None, 'syncStatus': 0, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'oriPrice': 0, 'mallGoodsCatagoryId': None, 'name': '水淀粉', 'transientOriPrice': 0.0, 'standardAllSku': None, 'goodsCopyId': None, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'description': '阿斯达', 'isSku': 0, 'standard': 1, 'mallGoodsCate': {'name': None, 'delFlag': None, 'id': 260, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0, 'orderNum': None, 'branchId': None}, 'dishCount': None, 'cannotUseTime': None, 'shopId': None, 'relType': None, 'delFlag': None, 'id': 26188, 'status': 1, 'lunchBoxCount': None, 'createTime': None, 'soldAllCount': 72, 'servicePhone': None, 'istop': 0, 'detail': None, 'expirTime': None}, {'transientPrice': 0.0, 'standardLowPrice': 0.01, 'outerId': None, 'hasActivity': 0, 'price': 0, 'meituanSyncStatus': None, 'baiduSyncStatus': None, 'skuQuantity': None, 'cateName': None, 'rules': None, 'elemeSyncStatus': None, 'useTime': None, 'branch': None, 'preRemind': None, 'business': None, 'cateId': 0, 'cwId': None, 'relBranchList': None, 'shop': {'thirdAppId': None, 'fullName': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'parent': None, 'name': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'createTime': None}, 'soldCount': 0, 'mallGoodsStandards': None, 'syncStatus': 0, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'oriPrice': 0, 'mallGoodsCatagoryId': None, 'name': '接口-测试商品2', 'transientOriPrice': 0.0, 'standardAllSku': None, 'goodsCopyId': None, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'description': '接口测试专用,勿动', 'isSku': 0, 'standard': 2, 'mallGoodsCate': {'name': None, 'delFlag': None, 'id': 268, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0, 'orderNum': None, 'branchId': None}, 'dishCount': None, 'cannotUseTime': None, 'shopId': None, 'relType': None, 'delFlag': None, 'id': 26839, 'status': 1, 'lunchBoxCount': None, 'createTime': None, 'soldAllCount': 30, 'servicePhone': None, 'istop': 0, 'detail': None, 'expirTime': None}, {'transientPrice': 0.0, 'standardLowPrice': 0.0, 'outerId': None, 'hasActivity': 0, 'price': 1, 'meituanSyncStatus': None, 'baiduSyncStatus': None, 'skuQuantity': 999997, 'cateName': None, 'rules': None, 'elemeSyncStatus': None, 'useTime': None, 'branch': None, 'preRemind': None, 'business': None, 'cateId': 0, 'cwId': None, 'relBranchList': None, 'shop': {'thirdAppId': None, 'fullName': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'parent': None, 'name': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'createTime': None}, 'soldCount': 3, 'mallGoodsStandards': None, 'syncStatus': 0, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'oriPrice': 0, 'mallGoodsCatagoryId': None, 'name': '接口-测试商品1', 'transientOriPrice': 0.0, 'standardAllSku': None, 'goodsCopyId': None, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'description': '接口测试专用,烦请勿删,勿操作', 'isSku': 0, 'standard': 1, 'mallGoodsCate': {'name': None, 'delFlag': None, 'id': 268, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0, 'orderNum': None, 'branchId': None}, 'dishCount': None, 'cannotUseTime': None, 'shopId': None, 'relType': None, 'delFlag': None, 'id': 26838, 'status': 1, 'lunchBoxCount': None, 'createTime': None, 'soldAllCount': 3, 'servicePhone': None, 'istop': 0, 'detail': None, 'expirTime': None}, {'transientPrice': 0.0, 'standardLowPrice': 1.0, 'outerId': None, 'hasActivity': 0, 'price': 0, 'meituanSyncStatus': None, 'baiduSyncStatus': None, 'skuQuantity': None, 'cateName': None, 'rules': None, 'elemeSyncStatus': None, 'useTime': None, 'branch': None, 'preRemind': None, 'business': None, 'cateId': 0, 'cwId': None, 'relBranchList': None, 'shop': {'thirdAppId': None, 'fullName': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'parent': None, 'name': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'createTime': None}, 'soldCount': 0, 'mallGoodsStandards': None, 'syncStatus': 0, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'oriPrice': 0, 'mallGoodsCatagoryId': None, 'name': '多规格冗余测试', 'transientOriPrice': 0.0, 'standardAllSku': None, 'goodsCopyId': None, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'description': '啊啊啊啊啊', 'isSku': 0, 'standard': 2, 'mallGoodsCate': {'name': None, 'delFlag': None, 'id': 259, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0, 'orderNum': None, 'branchId': None}, 'dishCount': None, 'cannotUseTime': None, 'shopId': None, 'relType': None, 'delFlag': None, 'id': 26836, 'status': 1, 'lunchBoxCount': None, 'createTime': None, 'soldAllCount': 8, 'servicePhone': None, 'istop': 0, 'detail': None, 'expirTime': None}]}
2016-07-20 11:35:02,563 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:35:02,577 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:35:02,581 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:35:02,586 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:35:02,586 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:35:02" WHERE executed_history_id = 20160720113501 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:35:02,588 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:35:02,588 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:35:02,588 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:35:02" WHERE executed_history_id = 20160720113501 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:35:02,717 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:35:03,261 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:35:03,261 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113501', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:35:03,263 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:35:03,263 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:35:03,264 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113501', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:35:03,265 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:35:03,265 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:35:03,266 wechatno_wemall.py[line: 92] INFO: 正在发起GET请求...
2016-07-20 11:35:03,266 wechatno_wemall.py[line: 95] INFO: id=26838&serial=10549840601068216320
2016-07-20 11:35:03,266 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?
2016-07-20 11:35:03,266 httpprotocol.py[line: 78] ERROR: 发送请求失败，原因：POST data should be bytes or an iterable of bytes. It cannot be of type str.
2016-07-20 11:35:03,267 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=80, name=点击商品]
2016-07-20 11:35:03,267 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 11:35:03,267 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 97, in test_click_goods    response = response[2]TypeError: NoneType object is not subscriptable", protocol_method="get", runtime="2016-07-20 11:35:03" WHERE executed_history_id = 20160720113501 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:35:03,269 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:35:03,269 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 11:35:03" WHERE executed_history_id = 20160720113501 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:35:03,394 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 11:35:03,530 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:35:03,530 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:35:03,531 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:35:03,531 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720113501',)
2016-07-20 11:35:03,532 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:35:03,532 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720113501')
2016-07-20 11:35:03,533 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:35:03,533 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720113501')
2016-07-20 11:35:03,534 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:35:03,534 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720113501')
2016-07-20 11:35:03,535 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:35:03,535 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720113501')
2016-07-20 11:35:03,536 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:35:03,537 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113501',)
2016-07-20 11:35:03,540 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:35:03,540 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113501')
2016-07-20 11:35:03,542 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:35:03,543 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:35:03,543 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113501',)
2016-07-20 11:35:03,544 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:35:03,545 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113501')
2016-07-20 11:35:03,546 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:35:03,546 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720113501')
2016-07-20 11:35:03,548 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 11:35:03,548 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720113501')
2016-07-20 11:35:03,551 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:35:03,551 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720113501.html
2016-07-20 11:35:03,551 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:35:03,552 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:35:03,757 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720113501.html
2016-07-20 11:35:03,757 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:35:03,757 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:36:28,236 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:36:28,246 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:36:28,252 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:36:28,303 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:36:28,303 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:36:28,305 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:36:28,305 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:36:28,307 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:36:28,310 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:36:28,310 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:36:28,551 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:36:28,551 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:36:28,553 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:36:28,553 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:36:28,691 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:36:28,810 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:36:28,811 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:36:28,984 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '80'])
2016-07-20 11:36:29,266 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:36:29,266 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113628', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:36:29,269 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:36:29,269 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:36:29,269 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113628', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:36:29,270 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:36:29,271 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:36:29,271 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:36:29,271 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:36:29,354 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'dataList': [{'id': 26189, 'shop': {'id': 42, 'logoUrl': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'name': None, 'phoneNumber': None, 'email': None, 'createTime': None, 'serial': None}, 'mallGoodsStandards': None, 'skuQuantity': 87, 'relType': None, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'name': None, 'goodsAmount': 0, 'oldName': None, 'orderNum': None}, 'soldCount': 181, 'name': '插线板更名后', 'branch': None, 'cateId': 0, 'createTime': None, 'standardTopPrice': 0.0, 'description': '100', 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'dishCount': None, 'baiduSyncStatus': None, 'shopId': None, 'servicePhone': None, 'cannotUseTime': None, 'outerId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'delFlag': None, 'relBranchList': None, 'cateName': None, 'standard': 1, 'expirTime': None, 'cwId': None, 'isSku': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'standardAllSku': None, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'useTime': None, 'syncStatus': 0, 'hasActivity': 0, 'price': 1000, 'detail': None, 'istop': 0, 'preRemind': None, 'status': 1, 'rank': None, 'oriPrice': 0, 'soldAllCount': 187, 'business': None, 'elemeSyncStatus': None, 'rules': None}, {'id': 26188, 'shop': {'id': 42, 'logoUrl': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'name': None, 'phoneNumber': None, 'email': None, 'createTime': None, 'serial': None}, 'mallGoodsStandards': None, 'skuQuantity': 9265759, 'relType': None, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'name': None, 'goodsAmount': 0, 'oldName': None, 'orderNum': None}, 'soldCount': 72, 'name': '水淀粉', 'branch': None, 'cateId': 0, 'createTime': None, 'standardTopPrice': 0.0, 'description': '阿斯达', 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'dishCount': None, 'baiduSyncStatus': None, 'shopId': None, 'servicePhone': None, 'cannotUseTime': None, 'outerId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'delFlag': None, 'relBranchList': None, 'cateName': None, 'standard': 1, 'expirTime': None, 'cwId': None, 'isSku': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'standardAllSku': None, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'useTime': None, 'syncStatus': 0, 'hasActivity': 0, 'price': 100000000, 'detail': None, 'istop': 0, 'preRemind': None, 'status': 1, 'rank': None, 'oriPrice': 0, 'soldAllCount': 72, 'business': None, 'elemeSyncStatus': None, 'rules': None}, {'id': 26839, 'shop': {'id': 42, 'logoUrl': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'name': None, 'phoneNumber': None, 'email': None, 'createTime': None, 'serial': None}, 'mallGoodsStandards': None, 'skuQuantity': None, 'relType': None, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'name': None, 'goodsAmount': 0, 'oldName': None, 'orderNum': None}, 'soldCount': 0, 'name': '接口-测试商品2', 'branch': None, 'cateId': 0, 'createTime': None, 'standardTopPrice': 0.0, 'description': '接口测试专用,勿动', 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'dishCount': None, 'baiduSyncStatus': None, 'shopId': None, 'servicePhone': None, 'cannotUseTime': None, 'outerId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'delFlag': None, 'relBranchList': None, 'cateName': None, 'standard': 2, 'expirTime': None, 'cwId': None, 'isSku': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'standardAllSku': None, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.01, 'useTime': None, 'syncStatus': 0, 'hasActivity': 0, 'price': 0, 'detail': None, 'istop': 0, 'preRemind': None, 'status': 1, 'rank': None, 'oriPrice': 0, 'soldAllCount': 30, 'business': None, 'elemeSyncStatus': None, 'rules': None}, {'id': 26838, 'shop': {'id': 42, 'logoUrl': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'name': None, 'phoneNumber': None, 'email': None, 'createTime': None, 'serial': None}, 'mallGoodsStandards': None, 'skuQuantity': 999997, 'relType': None, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'name': None, 'goodsAmount': 0, 'oldName': None, 'orderNum': None}, 'soldCount': 3, 'name': '接口-测试商品1', 'branch': None, 'cateId': 0, 'createTime': None, 'standardTopPrice': 0.0, 'description': '接口测试专用,烦请勿删,勿操作', 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'dishCount': None, 'baiduSyncStatus': None, 'shopId': None, 'servicePhone': None, 'cannotUseTime': None, 'outerId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'delFlag': None, 'relBranchList': None, 'cateName': None, 'standard': 1, 'expirTime': None, 'cwId': None, 'isSku': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'standardAllSku': None, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'useTime': None, 'syncStatus': 0, 'hasActivity': 0, 'price': 1, 'detail': None, 'istop': 0, 'preRemind': None, 'status': 1, 'rank': None, 'oriPrice': 0, 'soldAllCount': 3, 'business': None, 'elemeSyncStatus': None, 'rules': None}, {'id': 26836, 'shop': {'id': 42, 'logoUrl': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'name': None, 'phoneNumber': None, 'email': None, 'createTime': None, 'serial': None}, 'mallGoodsStandards': None, 'skuQuantity': None, 'relType': None, 'mallGoodsCate': {'delFlag': None, 'id': 259, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'name': None, 'goodsAmount': 0, 'oldName': None, 'orderNum': None}, 'soldCount': 0, 'name': '多规格冗余测试', 'branch': None, 'cateId': 0, 'createTime': None, 'standardTopPrice': 0.0, 'description': '啊啊啊啊啊', 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'dishCount': None, 'baiduSyncStatus': None, 'shopId': None, 'servicePhone': None, 'cannotUseTime': None, 'outerId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'delFlag': None, 'relBranchList': None, 'cateName': None, 'standard': 2, 'expirTime': None, 'cwId': None, 'isSku': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'standardAllSku': None, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'standardLowPrice': 1.0, 'useTime': None, 'syncStatus': 0, 'hasActivity': 0, 'price': 0, 'detail': None, 'istop': 0, 'preRemind': None, 'status': 1, 'rank': None, 'oriPrice': 0, 'soldAllCount': 8, 'business': None, 'elemeSyncStatus': None, 'rules': None}], 'pageInfo': {'pageStartRow': 0, 'currentPage': 1, 'totalPages': 1, 'hasPreviousPage': False, 'params': None, 'totalRows': 5, 'hasNextPage': False, 'pageEndRow': 5, 'pageSize': 10, 'pagination': True}}
2016-07-20 11:36:29,359 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:36:29,374 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:36:29,378 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:36:29,383 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:36:29,383 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:36:29" WHERE executed_history_id = 20160720113628 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:29,386 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:36:29,386 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:36:29,386 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:36:29" WHERE executed_history_id = 20160720113628 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:29,566 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:36:30,389 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:36:30,389 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113628', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:36:30,391 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:36:30,391 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:36:30,391 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113628', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:36:30,393 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:36:30,393 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:36:30,393 wechatno_wemall.py[line: 92] INFO: 正在发起GET请求...
2016-07-20 11:36:30,393 wechatno_wemall.py[line: 95] INFO: b'id=26838&serial=10549840601068216320'
2016-07-20 11:36:30,394 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=80, name=点击商品]
2016-07-20 11:36:30,394 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 11:36:30,394 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 96, in test_click_goods    response = self.http.get(self.url, self.params)  File E:\Projects\interface_project\httpprotocol.py, line 48, in get    url = self.protocol + :// + self.host + : + str(self.port)  + url + paramsTypeError: Cant convert bytes object to str implicitly", protocol_method="get", runtime="2016-07-20 11:36:30" WHERE executed_history_id = 20160720113628 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:30,396 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:36:30,397 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 11:36:30" WHERE executed_history_id = 20160720113628 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:30,546 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 11:36:30,696 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:36:30,696 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:36:30,697 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:36:30,697 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720113628',)
2016-07-20 11:36:30,699 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:36:30,699 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720113628')
2016-07-20 11:36:30,700 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:36:30,700 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720113628')
2016-07-20 11:36:30,701 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:36:30,701 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720113628')
2016-07-20 11:36:30,702 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:36:30,702 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720113628')
2016-07-20 11:36:30,703 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:36:30,703 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113628',)
2016-07-20 11:36:30,705 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:36:30,705 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113628')
2016-07-20 11:36:30,707 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:36:30,707 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:36:30,708 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113628',)
2016-07-20 11:36:30,709 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:36:30,709 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113628')
2016-07-20 11:36:30,710 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:36:30,710 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720113628')
2016-07-20 11:36:30,712 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 11:36:30,712 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720113628')
2016-07-20 11:36:30,714 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:36:30,714 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720113628.html
2016-07-20 11:36:30,714 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:36:30,715 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:36:30,936 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720113628.html
2016-07-20 11:36:30,936 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:36:30,936 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 11:36:52,031 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 11:36:52,043 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 11:36:52,049 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 11:36:52,104 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 11:36:52,104 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 11:36:52,106 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 11:36:52,107 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 11:36:52,109 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 11:36:52,111 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 11:36:52,111 main.py[line: 107] INFO: 运行指定项目
2016-07-20 11:36:52,247 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 11:36:52,247 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 11:36:52,249 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 11:36:52,249 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 11:36:52,370 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 11:36:52,492 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 11:36:52,492 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 11:36:52,713 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76'])
2016-07-20 11:36:53,092 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:36:53,092 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113652', 80, '点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:36:53,094 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=点击商品]
2016-07-20 11:36:53,095 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:36:53,095 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113652', 80, '点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 11:36:53,096 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:36:53,096 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 11:36:53,096 wechatno_wemall.py[line: 92] INFO: 正在发起GET请求...
2016-07-20 11:36:53,097 wechatno_wemall.py[line: 95] INFO: id=26838&serial=10549840601068216320
2016-07-20 11:36:53,097 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 11:36:53,281 wechatno_wemall.py[line: 99] INFO: 正在解析返回结果:200
2016-07-20 11:36:53,282 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:36:53,282 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 11:36:53" WHERE executed_history_id = 20160720113652 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:53,285 testcase.py[line: 101] INFO: 测试用例[id=80, name=点击商品]执行成功
2016-07-20 11:36:53,285 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:36:53,285 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:36:53" WHERE executed_history_id = 20160720113652 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:53,432 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 11:36:54,030 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 11:36:54,030 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113652', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 11:36:54,032 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 11:36:54,033 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 11:36:54,033 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720113652', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 11:36:54,034 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 11:36:54,034 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 11:36:54,035 wechatno_wemall.py[line: 26] INFO: 正在发起POST请求...
2016-07-20 11:36:54,035 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 11:36:54,098 wechatno_wemall.py[line: 35] INFO: 正在解析返回结果:{'pageInfo': {'pageSize': 10, 'hasPreviousPage': False, 'currentPage': 1, 'pageEndRow': 5, 'totalRows': 5, 'hasNextPage': False, 'pagination': True, 'params': None, 'totalPages': 1, 'pageStartRow': 0}, 'dataList': [{'shopId': None, 'shop': {'thirdAppId': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None}, 'waimaiChannel': None, 'standard': 1, 'transientOriPrice': 0.0, 'standardAllSku': None, 'transientPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'isSku': 0, 'soldCount': 181, 'soldAllCount': 187, 'id': 26189, 'mallGoodsCatagoryId': None, 'rank': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'description': '100', 'relType': None, 'hasActivity': 0, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'skuQuantity': 87, 'outerId': None, 'price': 1000, 'oriPrice': 0, 'cateName': None, 'createTime': None, 'rules': None, 'useTime': None, 'syncStatus': 0, 'standardTopPrice': 0.0, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'expirTime': None, 'dishCount': None, 'detail': None, 'istop': 0, 'name': '插线板更名后', 'business': None, 'servicePhone': None, 'mallGoodsCate': {'oldName': None, 'id': 260, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'delFlag': None}, 'status': 1, 'lunchBoxCount': None, 'branch': None, 'delFlag': None}, {'shopId': None, 'shop': {'thirdAppId': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None}, 'waimaiChannel': None, 'standard': 1, 'transientOriPrice': 0.0, 'standardAllSku': None, 'transientPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'isSku': 0, 'soldCount': 72, 'soldAllCount': 72, 'id': 26188, 'mallGoodsCatagoryId': None, 'rank': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'description': '阿斯达', 'relType': None, 'hasActivity': 0, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'skuQuantity': 9265759, 'outerId': None, 'price': 100000000, 'oriPrice': 0, 'cateName': None, 'createTime': None, 'rules': None, 'useTime': None, 'syncStatus': 0, 'standardTopPrice': 0.0, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'expirTime': None, 'dishCount': None, 'detail': None, 'istop': 0, 'name': '水淀粉', 'business': None, 'servicePhone': None, 'mallGoodsCate': {'oldName': None, 'id': 260, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'delFlag': None}, 'status': 1, 'lunchBoxCount': None, 'branch': None, 'delFlag': None}, {'shopId': None, 'shop': {'thirdAppId': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None}, 'waimaiChannel': None, 'standard': 2, 'transientOriPrice': 0.0, 'standardAllSku': None, 'transientPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'isSku': 0, 'soldCount': 0, 'soldAllCount': 30, 'id': 26839, 'mallGoodsCatagoryId': None, 'rank': None, 'goodsCopyId': None, 'standardLowPrice': 0.01, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'description': '接口测试专用,勿动', 'relType': None, 'hasActivity': 0, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'skuQuantity': None, 'outerId': None, 'price': 0, 'oriPrice': 0, 'cateName': None, 'createTime': None, 'rules': None, 'useTime': None, 'syncStatus': 0, 'standardTopPrice': 0.0, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'expirTime': None, 'dishCount': None, 'detail': None, 'istop': 0, 'name': '接口-测试商品2', 'business': None, 'servicePhone': None, 'mallGoodsCate': {'oldName': None, 'id': 268, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'delFlag': None}, 'status': 1, 'lunchBoxCount': None, 'branch': None, 'delFlag': None}, {'shopId': None, 'shop': {'thirdAppId': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None}, 'waimaiChannel': None, 'standard': 1, 'transientOriPrice': 0.0, 'standardAllSku': None, 'transientPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'isSku': 0, 'soldCount': 3, 'soldAllCount': 3, 'id': 26838, 'mallGoodsCatagoryId': None, 'rank': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'description': '接口测试专用,烦请勿删,勿操作', 'relType': None, 'hasActivity': 0, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'skuQuantity': 999997, 'outerId': None, 'price': 1, 'oriPrice': 0, 'cateName': None, 'createTime': None, 'rules': None, 'useTime': None, 'syncStatus': 0, 'standardTopPrice': 0.0, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'expirTime': None, 'dishCount': None, 'detail': None, 'istop': 0, 'name': '接口-测试商品1', 'business': None, 'servicePhone': None, 'mallGoodsCate': {'oldName': None, 'id': 268, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'delFlag': None}, 'status': 1, 'lunchBoxCount': None, 'branch': None, 'delFlag': None}, {'shopId': None, 'shop': {'thirdAppId': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None}, 'waimaiChannel': None, 'standard': 2, 'transientOriPrice': 0.0, 'standardAllSku': None, 'transientPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'isSku': 0, 'soldCount': 0, 'soldAllCount': 8, 'id': 26836, 'mallGoodsCatagoryId': None, 'rank': None, 'goodsCopyId': None, 'standardLowPrice': 1.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'description': '啊啊啊啊啊', 'relType': None, 'hasActivity': 0, 'baiduSyncStatus': None, 'elemeSyncStatus': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'skuQuantity': None, 'outerId': None, 'price': 0, 'oriPrice': 0, 'cateName': None, 'createTime': None, 'rules': None, 'useTime': None, 'syncStatus': 0, 'standardTopPrice': 0.0, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'expirTime': None, 'dishCount': None, 'detail': None, 'istop': 0, 'name': '多规格冗余测试', 'business': None, 'servicePhone': None, 'mallGoodsCate': {'oldName': None, 'id': 259, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'delFlag': None}, 'status': 1, 'lunchBoxCount': None, 'branch': None, 'delFlag': None}]}
2016-07-20 11:36:54,102 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 11:36:54,116 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 11:36:54,120 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 11:36:54,124 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 11:36:54,125 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 11:36:54" WHERE executed_history_id = 20160720113652 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:54,127 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 11:36:54,127 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 11:36:54,127 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 11:36:54" WHERE executed_history_id = 20160720113652 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 11:36:54,263 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 11:36:54,404 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 11:36:54,404 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 11:36:54,405 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 11:36:54,405 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720113652',)
2016-07-20 11:36:54,407 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 11:36:54,407 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720113652')
2016-07-20 11:36:54,409 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 11:36:54,409 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720113652')
2016-07-20 11:36:54,410 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 11:36:54,410 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720113652')
2016-07-20 11:36:54,411 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 11:36:54,411 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720113652')
2016-07-20 11:36:54,412 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 11:36:54,412 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113652',)
2016-07-20 11:36:54,413 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 11:36:54,414 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113652')
2016-07-20 11:36:54,415 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 11:36:54,415 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 11:36:54,415 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720113652',)
2016-07-20 11:36:54,416 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 11:36:54,417 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720113652')
2016-07-20 11:36:54,419 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 11:36:54,419 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720113652')
2016-07-20 11:36:54,421 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 11:36:54,421 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720113652')
2016-07-20 11:36:54,423 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 11:36:54,423 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720113652.html
2016-07-20 11:36:54,423 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 11:36:54,424 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 11:36:54,670 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720113652.html
2016-07-20 11:36:54,670 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 11:36:54,670 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:00:29,421 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:00:29,430 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:00:29,436 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:00:29,479 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:00:29,479 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:00:29,480 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:00:29,481 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:00:29,482 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:00:29,484 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 12:00:29,484 main.py[line: 107] INFO: 运行指定项目
2016-07-20 12:00:29,599 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 12:00:29,600 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 12:00:29,601 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 12:00:29,601 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 12:00:29,731 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 12:00:29,837 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 12:00:29,838 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 12:00:29,964 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76'])
2016-07-20 12:00:30,265 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:00:30,265 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120029', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:00:30,267 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 12:00:30,268 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:00:30,268 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120029', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 12:00:30,270 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:00:30,271 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 12:00:30,271 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 12:00:30,271 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 12:00:30,448 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 12:00:30,448 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:00:30,449 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 12:00:30" WHERE executed_history_id = 20160720120029 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:00:30,452 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 12:00:30,452 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:00:30,452 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:00:30" WHERE executed_history_id = 20160720120029 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:00:30,613 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 12:00:31,070 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:00:31,070 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120029', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:00:31,078 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:00:31,079 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:00:31,079 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120029', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:00:31,082 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:00:31,083 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:00:31,083 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:00:31,084 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:00:31,151 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'price': 1000, 'cateId': 0, 'elemeSyncStatus': None, 'cateName': None, 'baiduSyncStatus': None, 'skuQuantity': 87, 'mallGoodsStandards': None, 'detail': None, 'shop': {'name': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'printAdUrl': None, 'id': 42, 'serial': None, 'parent': None, 'thirdAppId': None, 'email': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'relBranchList': None, 'transientOriPrice': 0.0, 'preRemind': None, 'description': '100', 'istop': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'waimaiChannel': None, 'cwId': None, 'relType': None, 'transientPrice': 0.0, 'useTime': None, 'mallGoodsCate': {'orderNum': None, 'id': 260, 'branchId': None, 'oldName': None, 'delFlag': None, 'name': None, 'shop': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0}, 'syncStatus': 0, 'soldCount': 181, 'name': '插线板更名后', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'servicePhone': None, 'hasActivity': 0, 'id': 26189, 'rules': None, 'cannotUseTime': None, 'isSku': 0, 'standardTopPrice': 0.0, 'goodsCopyId': None, 'expirTime': None, 'standardAllSku': None, 'lunchBoxCount': None, 'dishCount': None, 'shopId': None, 'soldAllCount': 187, 'createTime': None, 'outerId': None, 'rank': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'delFlag': None, 'oriPrice': 0, 'branch': None, 'standard': 1}, {'price': 100000000, 'cateId': 0, 'elemeSyncStatus': None, 'cateName': None, 'baiduSyncStatus': None, 'skuQuantity': 9265759, 'mallGoodsStandards': None, 'detail': None, 'shop': {'name': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'printAdUrl': None, 'id': 42, 'serial': None, 'parent': None, 'thirdAppId': None, 'email': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'relBranchList': None, 'transientOriPrice': 0.0, 'preRemind': None, 'description': '阿斯达', 'istop': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'waimaiChannel': None, 'cwId': None, 'relType': None, 'transientPrice': 0.0, 'useTime': None, 'mallGoodsCate': {'orderNum': None, 'id': 260, 'branchId': None, 'oldName': None, 'delFlag': None, 'name': None, 'shop': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0}, 'syncStatus': 0, 'soldCount': 72, 'name': '水淀粉', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'servicePhone': None, 'hasActivity': 0, 'id': 26188, 'rules': None, 'cannotUseTime': None, 'isSku': 0, 'standardTopPrice': 0.0, 'goodsCopyId': None, 'expirTime': None, 'standardAllSku': None, 'lunchBoxCount': None, 'dishCount': None, 'shopId': None, 'soldAllCount': 72, 'createTime': None, 'outerId': None, 'rank': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'delFlag': None, 'oriPrice': 0, 'branch': None, 'standard': 1}, {'price': 0, 'cateId': 0, 'elemeSyncStatus': None, 'cateName': None, 'baiduSyncStatus': None, 'skuQuantity': None, 'mallGoodsStandards': None, 'detail': None, 'shop': {'name': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'printAdUrl': None, 'id': 42, 'serial': None, 'parent': None, 'thirdAppId': None, 'email': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'relBranchList': None, 'transientOriPrice': 0.0, 'preRemind': None, 'description': '接口测试专用,勿动', 'istop': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'waimaiChannel': None, 'cwId': None, 'relType': None, 'transientPrice': 0.0, 'useTime': None, 'mallGoodsCate': {'orderNum': None, 'id': 268, 'branchId': None, 'oldName': None, 'delFlag': None, 'name': None, 'shop': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0}, 'syncStatus': 0, 'soldCount': 0, 'name': '接口-测试商品2', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'servicePhone': None, 'hasActivity': 0, 'id': 26839, 'rules': None, 'cannotUseTime': None, 'isSku': 0, 'standardTopPrice': 0.0, 'goodsCopyId': None, 'expirTime': None, 'standardAllSku': None, 'lunchBoxCount': None, 'dishCount': None, 'shopId': None, 'soldAllCount': 30, 'createTime': None, 'outerId': None, 'rank': None, 'standardLowPrice': 0.01, 'status': 1, 'business': None, 'delFlag': None, 'oriPrice': 0, 'branch': None, 'standard': 2}, {'price': 1, 'cateId': 0, 'elemeSyncStatus': None, 'cateName': None, 'baiduSyncStatus': None, 'skuQuantity': 999997, 'mallGoodsStandards': None, 'detail': None, 'shop': {'name': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'printAdUrl': None, 'id': 42, 'serial': None, 'parent': None, 'thirdAppId': None, 'email': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'relBranchList': None, 'transientOriPrice': 0.0, 'preRemind': None, 'description': '接口测试专用,烦请勿删,勿操作', 'istop': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'waimaiChannel': None, 'cwId': None, 'relType': None, 'transientPrice': 0.0, 'useTime': None, 'mallGoodsCate': {'orderNum': None, 'id': 268, 'branchId': None, 'oldName': None, 'delFlag': None, 'name': None, 'shop': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0}, 'syncStatus': 0, 'soldCount': 3, 'name': '接口-测试商品1', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'servicePhone': None, 'hasActivity': 0, 'id': 26838, 'rules': None, 'cannotUseTime': None, 'isSku': 0, 'standardTopPrice': 0.0, 'goodsCopyId': None, 'expirTime': None, 'standardAllSku': None, 'lunchBoxCount': None, 'dishCount': None, 'shopId': None, 'soldAllCount': 3, 'createTime': None, 'outerId': None, 'rank': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'delFlag': None, 'oriPrice': 0, 'branch': None, 'standard': 1}, {'price': 0, 'cateId': 0, 'elemeSyncStatus': None, 'cateName': None, 'baiduSyncStatus': None, 'skuQuantity': None, 'mallGoodsStandards': None, 'detail': None, 'shop': {'name': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'printAdUrl': None, 'id': 42, 'serial': None, 'parent': None, 'thirdAppId': None, 'email': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'relBranchList': None, 'transientOriPrice': 0.0, 'preRemind': None, 'description': '啊啊啊啊啊', 'istop': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'waimaiChannel': None, 'cwId': None, 'relType': None, 'transientPrice': 0.0, 'useTime': None, 'mallGoodsCate': {'orderNum': None, 'id': 259, 'branchId': None, 'oldName': None, 'delFlag': None, 'name': None, 'shop': None, 'goodsSoldOutAmount': 0, 'goodsAmount': 0}, 'syncStatus': 0, 'soldCount': 0, 'name': '多规格冗余测试', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'servicePhone': None, 'hasActivity': 0, 'id': 26836, 'rules': None, 'cannotUseTime': None, 'isSku': 0, 'standardTopPrice': 0.0, 'goodsCopyId': None, 'expirTime': None, 'standardAllSku': None, 'lunchBoxCount': None, 'dishCount': None, 'shopId': None, 'soldAllCount': 8, 'createTime': None, 'outerId': None, 'rank': None, 'standardLowPrice': 1.0, 'status': 1, 'business': None, 'delFlag': None, 'oriPrice': 0, 'branch': None, 'standard': 2}], 'pageInfo': {'params': None, 'pageStartRow': 0, 'totalRows': 5, 'currentPage': 1, 'pageSize': 10, 'totalPages': 1, 'hasNextPage': False, 'pageEndRow': 5, 'pagination': True, 'hasPreviousPage': False}}
2016-07-20 12:00:31,153 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:00:31,166 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:00:31,169 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:00:31,173 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:00:31,173 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:00:31" WHERE executed_history_id = 20160720120029 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:00:31,175 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:00:31,175 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:00:31,175 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:00:31" WHERE executed_history_id = 20160720120029 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:00:31,315 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 12:00:31,456 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 12:00:31,456 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:00:31,457 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:00:31,457 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720120029',)
2016-07-20 12:00:31,458 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:00:31,458 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720120029')
2016-07-20 12:00:31,459 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:00:31,459 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720120029')
2016-07-20 12:00:31,460 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:00:31,460 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720120029')
2016-07-20 12:00:31,461 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:00:31,461 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720120029')
2016-07-20 12:00:31,462 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:00:31,462 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120029',)
2016-07-20 12:00:31,463 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 12:00:31,463 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720120029')
2016-07-20 12:00:31,465 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 12:00:31,465 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:00:31,465 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120029',)
2016-07-20 12:00:31,466 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 12:00:31,467 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720120029')
2016-07-20 12:00:31,468 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 12:00:31,468 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720120029')
2016-07-20 12:00:31,470 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:00:31,470 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720120029')
2016-07-20 12:00:31,471 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:00:31,471 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720120029.html
2016-07-20 12:00:31,472 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:00:31,473 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:00:59,127 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:00:59,138 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:00:59,143 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:00:59,186 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:00:59,187 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:01:25,634 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:01:25,643 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:01:25,647 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:01:25,687 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:01:25,687 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:01:32,596 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720120029.html
2016-07-20 12:01:32,596 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:01:32,596 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:01:32,615 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:01:32,616 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:01:32,619 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:01:32,623 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 12:01:32,623 main.py[line: 107] INFO: 运行指定项目
2016-07-20 12:01:32,744 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 12:01:32,744 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 12:01:32,746 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 12:01:32,746 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 12:01:32,856 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 12:01:32,964 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 12:01:32,964 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 12:01:33,082 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76', '85'])
2016-07-20 12:01:33,339 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:01:33,340 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120125', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:01:33,341 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 12:01:33,341 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:01:33,341 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120125', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 12:01:33,343 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:01:33,343 casestep.py[line: 60] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 12:01:33,343 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 12:01:33,343 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 12:01:33,504 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 12:01:33,505 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:01:33,505 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 12:01:33" WHERE executed_history_id = 20160720120125 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:01:33,507 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 12:01:33,507 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:01:33,507 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:01:33" WHERE executed_history_id = 20160720120125 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:01:33,633 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 12:01:34,034 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:01:34,034 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120125', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:01:34,036 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:01:34,036 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:01:34,036 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120125', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:01:34,038 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:01:34,038 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:01:34,038 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:01:34,038 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:01:34,094 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'cateName': None, 'meituanSyncStatus': None, 'name': '插线板更名后', 'transientOriPrice': 0.0, 'price': 1000, 'standard': 1, 'preRemind': None, 'soldCount': 181, 'isSku': 0, 'id': 26189, 'useTime': None, 'status': 1, 'lunchBoxCount': None, 'expirTime': None, 'shop': {'suffixShop': None, 'thirdAppId': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'logoUrl': None, 'parent': None, 'id': 42, 'phoneNumber': None, 'fullName': None, 'createTime': None}, 'description': '100', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'istop': 0, 'rank': None, 'cateId': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'soldAllCount': 187, 'waimaiChannel': None, 'standardAllSku': None, 'createTime': None, 'hasActivity': 0, 'oriPrice': 0, 'shopId': None, 'dishCount': None, 'detail': None, 'standardTopPrice': 0.0, 'delFlag': None, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'rules': None, 'cwId': None, 'mallGoodsCate': {'delFlag': None, 'shop': None, 'branchId': None, 'id': 260, 'name': None, 'goodsAmount': 0, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'outerId': None, 'standardLowPrice': 0.0, 'syncStatus': 0, 'skuQuantity': 87, 'mallGoodsStandards': None, 'cannotUseTime': None, 'servicePhone': None, 'business': None}, {'cateName': None, 'meituanSyncStatus': None, 'name': '水淀粉', 'transientOriPrice': 0.0, 'price': 100000000, 'standard': 1, 'preRemind': None, 'soldCount': 72, 'isSku': 0, 'id': 26188, 'useTime': None, 'status': 1, 'lunchBoxCount': None, 'expirTime': None, 'shop': {'suffixShop': None, 'thirdAppId': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'logoUrl': None, 'parent': None, 'id': 42, 'phoneNumber': None, 'fullName': None, 'createTime': None}, 'description': '阿斯达', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'istop': 0, 'rank': None, 'cateId': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'soldAllCount': 72, 'waimaiChannel': None, 'standardAllSku': None, 'createTime': None, 'hasActivity': 0, 'oriPrice': 0, 'shopId': None, 'dishCount': None, 'detail': None, 'standardTopPrice': 0.0, 'delFlag': None, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'rules': None, 'cwId': None, 'mallGoodsCate': {'delFlag': None, 'shop': None, 'branchId': None, 'id': 260, 'name': None, 'goodsAmount': 0, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'outerId': None, 'standardLowPrice': 0.0, 'syncStatus': 0, 'skuQuantity': 9265759, 'mallGoodsStandards': None, 'cannotUseTime': None, 'servicePhone': None, 'business': None}, {'cateName': None, 'meituanSyncStatus': None, 'name': '接口-测试商品2', 'transientOriPrice': 0.0, 'price': 0, 'standard': 2, 'preRemind': None, 'soldCount': 0, 'isSku': 0, 'id': 26839, 'useTime': None, 'status': 1, 'lunchBoxCount': None, 'expirTime': None, 'shop': {'suffixShop': None, 'thirdAppId': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'logoUrl': None, 'parent': None, 'id': 42, 'phoneNumber': None, 'fullName': None, 'createTime': None}, 'description': '接口测试专用,勿动', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'istop': 0, 'rank': None, 'cateId': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'soldAllCount': 30, 'waimaiChannel': None, 'standardAllSku': None, 'createTime': None, 'hasActivity': 0, 'oriPrice': 0, 'shopId': None, 'dishCount': None, 'detail': None, 'standardTopPrice': 0.0, 'delFlag': None, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'rules': None, 'cwId': None, 'mallGoodsCate': {'delFlag': None, 'shop': None, 'branchId': None, 'id': 268, 'name': None, 'goodsAmount': 0, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'outerId': None, 'standardLowPrice': 0.01, 'syncStatus': 0, 'skuQuantity': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'servicePhone': None, 'business': None}, {'cateName': None, 'meituanSyncStatus': None, 'name': '接口-测试商品1', 'transientOriPrice': 0.0, 'price': 1, 'standard': 1, 'preRemind': None, 'soldCount': 3, 'isSku': 0, 'id': 26838, 'useTime': None, 'status': 1, 'lunchBoxCount': None, 'expirTime': None, 'shop': {'suffixShop': None, 'thirdAppId': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'logoUrl': None, 'parent': None, 'id': 42, 'phoneNumber': None, 'fullName': None, 'createTime': None}, 'description': '接口测试专用,烦请勿删,勿操作', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'istop': 0, 'rank': None, 'cateId': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'soldAllCount': 3, 'waimaiChannel': None, 'standardAllSku': None, 'createTime': None, 'hasActivity': 0, 'oriPrice': 0, 'shopId': None, 'dishCount': None, 'detail': None, 'standardTopPrice': 0.0, 'delFlag': None, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'rules': None, 'cwId': None, 'mallGoodsCate': {'delFlag': None, 'shop': None, 'branchId': None, 'id': 268, 'name': None, 'goodsAmount': 0, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'outerId': None, 'standardLowPrice': 0.0, 'syncStatus': 0, 'skuQuantity': 999997, 'mallGoodsStandards': None, 'cannotUseTime': None, 'servicePhone': None, 'business': None}, {'cateName': None, 'meituanSyncStatus': None, 'name': '多规格冗余测试', 'transientOriPrice': 0.0, 'price': 0, 'standard': 2, 'preRemind': None, 'soldCount': 0, 'isSku': 0, 'id': 26836, 'useTime': None, 'status': 1, 'lunchBoxCount': None, 'expirTime': None, 'shop': {'suffixShop': None, 'thirdAppId': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'logoUrl': None, 'parent': None, 'id': 42, 'phoneNumber': None, 'fullName': None, 'createTime': None}, 'description': '啊啊啊啊啊', 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'istop': 0, 'rank': None, 'cateId': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'soldAllCount': 8, 'waimaiChannel': None, 'standardAllSku': None, 'createTime': None, 'hasActivity': 0, 'oriPrice': 0, 'shopId': None, 'dishCount': None, 'detail': None, 'standardTopPrice': 0.0, 'delFlag': None, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'rules': None, 'cwId': None, 'mallGoodsCate': {'delFlag': None, 'shop': None, 'branchId': None, 'id': 259, 'name': None, 'goodsAmount': 0, 'orderNum': None, 'oldName': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'outerId': None, 'standardLowPrice': 1.0, 'syncStatus': 0, 'skuQuantity': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'servicePhone': None, 'business': None}], 'pageInfo': {'pagination': True, 'pageStartRow': 0, 'totalPages': 1, 'pageEndRow': 5, 'hasNextPage': False, 'totalRows': 5, 'currentPage': 1, 'params': None, 'pageSize': 10, 'hasPreviousPage': False}}
2016-07-20 12:01:34,096 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:01:34,110 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:01:34,114 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:01:34,118 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:01:34,119 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:01:34" WHERE executed_history_id = 20160720120125 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:01:34,123 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:01:34,123 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:01:34,123 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:01:34" WHERE executed_history_id = 20160720120125 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:01:34,267 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 12:01:34,631 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:01:34,631 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120125', 85, 'cesyongl', 'testsuit', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:01:34,632 testplan.py[line: 60] INFO: 开始执行测试用例[id=85，name=cesyongl]
2016-07-20 12:01:34,633 testcase.py[line: 101] INFO: 测试用例[id=85, name=cesyongl]执行成功
2016-07-20 12:01:34,633 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:01:34,633 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:01:34" WHERE executed_history_id = 20160720120125 AND testcase_id = 85 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:01:34,761 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=85]的执行结果
2016-07-20 12:01:34,878 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 12:01:34,878 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:01:34,879 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:01:34,879 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720120125',)
2016-07-20 12:01:34,881 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:01:34,881 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720120125')
2016-07-20 12:01:34,883 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:01:34,883 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720120125')
2016-07-20 12:01:34,884 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:01:34,884 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720120125')
2016-07-20 12:01:34,885 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:01:34,885 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720120125')
2016-07-20 12:01:34,886 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:01:34,886 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120125',)
2016-07-20 12:01:34,887 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 12:01:34,888 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720120125')
2016-07-20 12:01:34,889 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 12:01:34,889 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:01:34,890 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120125',)
2016-07-20 12:01:34,891 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 12:01:34,891 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720120125')
2016-07-20 12:01:34,893 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 12:01:34,893 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720120125')
2016-07-20 12:01:34,895 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:01:34,895 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720120125')
2016-07-20 12:01:34,896 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=85]步骤运行结果
2016-07-20 12:01:34,897 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 85, '20160720120125')
2016-07-20 12:01:34,898 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:01:34,898 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720120125.html
2016-07-20 12:01:34,898 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:01:34,899 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:02:32,486 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720120125.html
2016-07-20 12:02:32,487 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:02:32,487 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:03:48,797 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:03:48,807 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:03:48,812 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:03:48,852 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:03:48,852 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:03:48,853 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:03:48,853 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:03:48,854 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:03:48,855 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 12:03:48,856 main.py[line: 189] INFO: 已获取配置的套件id列表：[75]
2016-07-20 12:03:49,124 main.py[line: 205] INFO: 正在读取套件[id=75，name=微商城-显示商品列表接口]的协议，host，端口配置...
2016-07-20 12:03:49,125 main.py[line: 223] INFO: 正在执行测试套件[id=75 ,name=微商城-显示商品列表接口]
2016-07-20 12:03:49,125 testsuite.py[line: 42] INFO: 正在获取套件[id=75，name=微商城-显示商品列表接口]的测试用例...
2016-07-20 12:03:49,359 testsuite.py[line: 59] INFO: 记录测试用例到到测试用例报表
2016-07-20 12:03:49,360 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120348', '76', 'test-n-显示默认页面', '微商城-显示商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 12:03:49,361 testsuite.py[line: 62] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:03:49,361 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:03:49,361 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120348', '76', 'test-n-显示默认页面', '无计划', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:03:49,363 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:03:49,363 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:03:49,363 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:03:49,363 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:03:49,469 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'delFlag': None, 'dishCount': None, 'outerId': None, 'shop': {'printAdUrl': None, 'logoUrl': None, 'id': 42, 'createTime': None, 'printAdText': None, 'email': None, 'fullName': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'parent': None, 'thirdAppId': None, 'name': None}, 'createTime': None, 'mallGoodsCate': {'delFlag': None, 'oldName': None, 'shop': None, 'orderNum': None, 'id': 260, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None}, 'transientPrice': 0.0, 'description': '100', 'syncStatus': 0, 'istop': 0, 'elemeSyncStatus': None, 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'soldCount': 182, 'oriPrice': 0, 'shopId': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'cateId': 0, 'goodsCopyId': None, 'detail': None, 'branch': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'preRemind': None, 'price': 1000, 'baiduSyncStatus': None, 'id': 26189, 'cannotUseTime': None, 'status': 1, 'mallGoodsStandards': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'business': None, 'skuQuantity': 86, 'rules': None, 'hasActivity': 0, 'name': '插线板更名后', 'standardTopPrice': 0.0, 'rank': None, 'standardLowPrice': 0.0, 'waimaiChannel': None, 'useTime': None, 'relType': None, 'soldAllCount': 188, 'isSku': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0}, {'delFlag': None, 'dishCount': None, 'outerId': None, 'shop': {'printAdUrl': None, 'logoUrl': None, 'id': 42, 'createTime': None, 'printAdText': None, 'email': None, 'fullName': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'parent': None, 'thirdAppId': None, 'name': None}, 'createTime': None, 'mallGoodsCate': {'delFlag': None, 'oldName': None, 'shop': None, 'orderNum': None, 'id': 260, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None}, 'transientPrice': 0.0, 'description': '阿斯达', 'syncStatus': 0, 'istop': 0, 'elemeSyncStatus': None, 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'soldCount': 72, 'oriPrice': 0, 'shopId': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'cateId': 0, 'goodsCopyId': None, 'detail': None, 'branch': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'preRemind': None, 'price': 100000000, 'baiduSyncStatus': None, 'id': 26188, 'cannotUseTime': None, 'status': 1, 'mallGoodsStandards': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'business': None, 'skuQuantity': 9265759, 'rules': None, 'hasActivity': 0, 'name': '水淀粉', 'standardTopPrice': 0.0, 'rank': None, 'standardLowPrice': 0.0, 'waimaiChannel': None, 'useTime': None, 'relType': None, 'soldAllCount': 72, 'isSku': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0}, {'delFlag': None, 'dishCount': None, 'outerId': None, 'shop': {'printAdUrl': None, 'logoUrl': None, 'id': 42, 'createTime': None, 'printAdText': None, 'email': None, 'fullName': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'parent': None, 'thirdAppId': None, 'name': None}, 'createTime': None, 'mallGoodsCate': {'delFlag': None, 'oldName': None, 'shop': None, 'orderNum': None, 'id': 268, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None}, 'transientPrice': 0.0, 'description': '接口测试专用,勿动', 'syncStatus': 0, 'istop': 0, 'elemeSyncStatus': None, 'standard': 2, 'cateName': None, 'meituanSyncStatus': None, 'soldCount': 0, 'oriPrice': 0, 'shopId': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'cateId': 0, 'goodsCopyId': None, 'detail': None, 'branch': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'preRemind': None, 'price': 0, 'baiduSyncStatus': None, 'id': 26839, 'cannotUseTime': None, 'status': 1, 'mallGoodsStandards': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'business': None, 'skuQuantity': None, 'rules': None, 'hasActivity': 0, 'name': '接口-测试商品2', 'standardTopPrice': 0.0, 'rank': None, 'standardLowPrice': 0.01, 'waimaiChannel': None, 'useTime': None, 'relType': None, 'soldAllCount': 30, 'isSku': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0}, {'delFlag': None, 'dishCount': None, 'outerId': None, 'shop': {'printAdUrl': None, 'logoUrl': None, 'id': 42, 'createTime': None, 'printAdText': None, 'email': None, 'fullName': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'parent': None, 'thirdAppId': None, 'name': None}, 'createTime': None, 'mallGoodsCate': {'delFlag': None, 'oldName': None, 'shop': None, 'orderNum': None, 'id': 268, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None}, 'transientPrice': 0.0, 'description': '接口测试专用,烦请勿删,勿操作', 'syncStatus': 0, 'istop': 0, 'elemeSyncStatus': None, 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'soldCount': 3, 'oriPrice': 0, 'shopId': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'cateId': 0, 'goodsCopyId': None, 'detail': None, 'branch': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'preRemind': None, 'price': 1, 'baiduSyncStatus': None, 'id': 26838, 'cannotUseTime': None, 'status': 1, 'mallGoodsStandards': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'business': None, 'skuQuantity': 999997, 'rules': None, 'hasActivity': 0, 'name': '接口-测试商品1', 'standardTopPrice': 0.0, 'rank': None, 'standardLowPrice': 0.0, 'waimaiChannel': None, 'useTime': None, 'relType': None, 'soldAllCount': 3, 'isSku': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0}, {'delFlag': None, 'dishCount': None, 'outerId': None, 'shop': {'printAdUrl': None, 'logoUrl': None, 'id': 42, 'createTime': None, 'printAdText': None, 'email': None, 'fullName': None, 'suffixShop': None, 'serial': None, 'phoneNumber': None, 'parent': None, 'thirdAppId': None, 'name': None}, 'createTime': None, 'mallGoodsCate': {'delFlag': None, 'oldName': None, 'shop': None, 'orderNum': None, 'id': 259, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'branchId': None, 'name': None}, 'transientPrice': 0.0, 'description': '啊啊啊啊啊', 'syncStatus': 0, 'istop': 0, 'elemeSyncStatus': None, 'standard': 2, 'cateName': None, 'meituanSyncStatus': None, 'soldCount': 0, 'oriPrice': 0, 'shopId': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'cateId': 0, 'goodsCopyId': None, 'detail': None, 'branch': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'preRemind': None, 'price': 0, 'baiduSyncStatus': None, 'id': 26836, 'cannotUseTime': None, 'status': 1, 'mallGoodsStandards': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'business': None, 'skuQuantity': None, 'rules': None, 'hasActivity': 0, 'name': '多规格冗余测试', 'standardTopPrice': 0.0, 'rank': None, 'standardLowPrice': 1.0, 'waimaiChannel': None, 'useTime': None, 'relType': None, 'soldAllCount': 8, 'isSku': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0}], 'pageInfo': {'hasPreviousPage': False, 'params': None, 'totalPages': 1, 'pageStartRow': 0, 'pageSize': 10, 'pagination': True, 'totalRows': 5, 'currentPage': 1, 'pageEndRow': 5, 'hasNextPage': False}}
2016-07-20 12:03:49,470 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:03:49,485 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:03:49,489 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:03:49,492 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:03:49,493 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:03:49" WHERE executed_history_id = 20160720120348 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:03:49,498 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:03:49,498 testsuite.py[line: 66] INFO: 正在更新用例执行结果
2016-07-20 12:03:49,498 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:03:49" WHERE executed_history_id = 20160720120348 and testcase_id = 76 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:03:49,501 testsuite.py[line: 73] INFO: 测试套件[id=75 ,name=微商城-显示商品列表接口]已执行完
2016-07-20 12:03:49,501 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:03:49,503 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:03:49,503 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720120348',)
2016-07-20 12:03:49,504 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:03:49,505 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720120348')
2016-07-20 12:03:49,507 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:03:49,507 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720120348')
2016-07-20 12:03:49,508 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:03:49,509 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720120348')
2016-07-20 12:03:49,510 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:03:49,510 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720120348')
2016-07-20 12:03:49,511 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:03:49,512 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120348',)
2016-07-20 12:03:49,514 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 12:03:49,514 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720120348')
2016-07-20 12:03:49,516 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 12:03:49,516 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:03:49,516 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120348',)
2016-07-20 12:03:49,517 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 12:03:49,517 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720120348')
2016-07-20 12:03:49,518 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:03:49,518 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 76, '20160720120348')
2016-07-20 12:03:49,520 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:03:49,520 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720120348.html
2016-07-20 12:03:49,520 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:03:49,521 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:04:37,672 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720120348.html
2016-07-20 12:04:37,673 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:04:37,673 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:06:00,973 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:06:00,983 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:06:00,988 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:06:01,030 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:06:01,030 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:06:01,031 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:06:01,032 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:06:01,032 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:06:01,034 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 12:06:01,034 main.py[line: 189] INFO: 已获取配置的套件id列表：[75]
2016-07-20 12:06:01,290 main.py[line: 205] INFO: 正在读取套件[id=75，name=微商城-显示商品列表接口]的协议，host，端口配置...
2016-07-20 12:06:01,291 main.py[line: 223] INFO: 正在执行测试套件[id=75 ,name=微商城-显示商品列表接口]
2016-07-20 12:06:01,292 testsuite.py[line: 42] INFO: 正在获取套件[id=75，name=微商城-显示商品列表接口]的测试用例...
2016-07-20 12:06:01,518 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 12:06:01,519 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120600', '76', 'test-n-显示默认页面', '微商城-显示商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 12:06:01,520 testsuite.py[line: 63] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:06:01,520 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:06:01,521 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720120600', '76', 'test-n-显示默认页面', '无计划', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:06:01,522 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:06:01,522 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:06:01,523 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:06:01,523 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:06:01,593 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'params': None, 'currentPage': 1, 'pagination': True, 'totalPages': 1, 'hasPreviousPage': False, 'totalRows': 5, 'pageStartRow': 0, 'hasNextPage': False, 'pageEndRow': 5, 'pageSize': 10}, 'dataList': [{'cwId': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'rules': None, 'rank': None, 'shopId': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'name': None, 'delFlag': None, 'id': 260, 'orderNum': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'meituanSyncStatus': None, 'createTime': None, 'price': 1000, 'preRemind': None, 'baiduSyncStatus': None, 'id': 26189, 'cateId': 0, 'cateName': None, 'description': '100', 'transientOriPrice': 0.0, 'detail': None, 'business': None, 'elemeSyncStatus': None, 'soldAllCount': 190, 'useTime': None, 'relBranchList': None, 'branch': None, 'standardAllSku': None, 'soldCount': 184, 'goodsCopyId': None, 'istop': 0, 'skuQuantity': 84, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'standardLowPrice': 0.0, 'status': 1, 'hasActivity': 0, 'servicePhone': None, 'waimaiChannel': None, 'isSku': 0, 'shop': {'createTime': None, 'suffixShop': None, 'parent': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None, 'printAdText': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'serial': None, 'logoUrl': None}, 'name': '插线板更名后', 'delFlag': None, 'standard': 1, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'oriPrice': 0}, {'cwId': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'rules': None, 'rank': None, 'shopId': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'name': None, 'delFlag': None, 'id': 260, 'orderNum': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'meituanSyncStatus': None, 'createTime': None, 'price': 100000000, 'preRemind': None, 'baiduSyncStatus': None, 'id': 26188, 'cateId': 0, 'cateName': None, 'description': '阿斯达', 'transientOriPrice': 0.0, 'detail': None, 'business': None, 'elemeSyncStatus': None, 'soldAllCount': 72, 'useTime': None, 'relBranchList': None, 'branch': None, 'standardAllSku': None, 'soldCount': 72, 'goodsCopyId': None, 'istop': 0, 'skuQuantity': 9265759, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'standardLowPrice': 0.0, 'status': 1, 'hasActivity': 0, 'servicePhone': None, 'waimaiChannel': None, 'isSku': 0, 'shop': {'createTime': None, 'suffixShop': None, 'parent': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None, 'printAdText': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'serial': None, 'logoUrl': None}, 'name': '水淀粉', 'delFlag': None, 'standard': 1, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'oriPrice': 0}, {'cwId': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'rules': None, 'rank': None, 'shopId': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'name': None, 'delFlag': None, 'id': 268, 'orderNum': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'meituanSyncStatus': None, 'createTime': None, 'price': 0, 'preRemind': None, 'baiduSyncStatus': None, 'id': 26839, 'cateId': 0, 'cateName': None, 'description': '接口测试专用,勿动', 'transientOriPrice': 0.0, 'detail': None, 'business': None, 'elemeSyncStatus': None, 'soldAllCount': 30, 'useTime': None, 'relBranchList': None, 'branch': None, 'standardAllSku': None, 'soldCount': 0, 'goodsCopyId': None, 'istop': 0, 'skuQuantity': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'standardLowPrice': 0.01, 'status': 1, 'hasActivity': 0, 'servicePhone': None, 'waimaiChannel': None, 'isSku': 0, 'shop': {'createTime': None, 'suffixShop': None, 'parent': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None, 'printAdText': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'serial': None, 'logoUrl': None}, 'name': '接口-测试商品2', 'delFlag': None, 'standard': 2, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'oriPrice': 0}, {'cwId': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'rules': None, 'rank': None, 'shopId': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'name': None, 'delFlag': None, 'id': 268, 'orderNum': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'meituanSyncStatus': None, 'createTime': None, 'price': 1, 'preRemind': None, 'baiduSyncStatus': None, 'id': 26838, 'cateId': 0, 'cateName': None, 'description': '接口测试专用,烦请勿删,勿操作', 'transientOriPrice': 0.0, 'detail': None, 'business': None, 'elemeSyncStatus': None, 'soldAllCount': 4, 'useTime': None, 'relBranchList': None, 'branch': None, 'standardAllSku': None, 'soldCount': 4, 'goodsCopyId': None, 'istop': 0, 'skuQuantity': 999996, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'standardLowPrice': 0.0, 'status': 1, 'hasActivity': 0, 'servicePhone': None, 'waimaiChannel': None, 'isSku': 0, 'shop': {'createTime': None, 'suffixShop': None, 'parent': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None, 'printAdText': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'serial': None, 'logoUrl': None}, 'name': '接口-测试商品1', 'delFlag': None, 'standard': 1, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'oriPrice': 0}, {'cwId': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'rules': None, 'rank': None, 'shopId': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'name': None, 'delFlag': None, 'id': 259, 'orderNum': None, 'branchId': None, 'goodsSoldOutAmount': 0}, 'relType': None, 'meituanSyncStatus': None, 'createTime': None, 'price': 0, 'preRemind': None, 'baiduSyncStatus': None, 'id': 26836, 'cateId': 0, 'cateName': None, 'description': '啊啊啊啊啊', 'transientOriPrice': 0.0, 'detail': None, 'business': None, 'elemeSyncStatus': None, 'soldAllCount': 8, 'useTime': None, 'relBranchList': None, 'branch': None, 'standardAllSku': None, 'soldCount': 0, 'goodsCopyId': None, 'istop': 0, 'skuQuantity': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'standardLowPrice': 1.0, 'status': 1, 'hasActivity': 0, 'servicePhone': None, 'waimaiChannel': None, 'isSku': 0, 'shop': {'createTime': None, 'suffixShop': None, 'parent': None, 'phoneNumber': None, 'id': 42, 'printAdUrl': None, 'printAdText': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'serial': None, 'logoUrl': None}, 'name': '多规格冗余测试', 'delFlag': None, 'standard': 2, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'oriPrice': 0}]}
2016-07-20 12:06:01,596 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:06:01,610 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:06:01,613 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:06:01,616 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:06:01,616 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:06:01" WHERE executed_history_id = 20160720120600 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:06:01,618 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:06:01,618 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 12:06:01,618 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:06:01" WHERE executed_history_id = 20160720120600 and testcase_id = 76 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:06:01,619 testsuite.py[line: 74] INFO: 测试套件[id=75 ,name=微商城-显示商品列表接口]已执行完
2016-07-20 12:06:01,620 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:06:01,620 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:06:01,621 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720120600',)
2016-07-20 12:06:01,622 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:06:01,622 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720120600')
2016-07-20 12:06:01,623 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:06:01,623 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720120600')
2016-07-20 12:06:01,624 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:06:01,624 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720120600')
2016-07-20 12:06:01,625 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:06:01,625 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720120600')
2016-07-20 12:06:01,625 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:06:01,626 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120600',)
2016-07-20 12:06:01,627 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 12:06:01,627 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720120600')
2016-07-20 12:06:01,629 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 12:06:01,629 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:06:01,629 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720120600',)
2016-07-20 12:06:01,631 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 12:06:01,631 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720120600')
2016-07-20 12:06:01,633 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:06:01,633 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 76, '20160720120600')
2016-07-20 12:06:01,634 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:06:01,635 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720120600.html
2016-07-20 12:06:01,635 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:06:01,635 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:06:01,851 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720120600.html
2016-07-20 12:06:01,851 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:06:01,851 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:20:05,708 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:20:05,718 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:20:05,723 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:20:05,765 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:20:05,765 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:20:05,767 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:20:05,767 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:20:05,768 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:20:05,769 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 12:20:05,769 main.py[line: 189] INFO: 已获取配置的套件id列表：[75]
2016-07-20 12:20:05,999 main.py[line: 205] INFO: 正在读取套件[id=75，name=微商城-显示商品列表接口]的协议，host，端口配置...
2016-07-20 12:20:06,001 main.py[line: 223] INFO: 正在执行测试套件[id=75 ,name=微商城-显示商品列表接口]
2016-07-20 12:20:06,001 testsuite.py[line: 42] INFO: 正在获取套件[id=75，name=微商城-显示商品列表接口]的测试用例...
2016-07-20 12:20:06,231 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 12:20:06,232 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122005', '76', 'test-n-显示默认页面', '微商城-显示商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 12:20:06,233 testsuite.py[line: 63] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:20:06,234 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:20:06,234 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122005', '76', 'test-n-显示默认页面', '无计划', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:20:06,235 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:20:06,236 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:20:06,236 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:20:06,236 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:20:06,305 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'cannotUseTime': None, 'baiduSyncStatus': None, 'goodsCopyId': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'delFlag': None, 'shopId': None, 'relBranchList': None, 'name': '插线板更名后', 'transientOriPrice': 0.0, 'expirTime': None, 'soldAllCount': 274, 'createTime': None, 'cateId': 0, 'preRemind': None, 'relType': None, 'rules': None, 'price': 1000, 'standard': 1, 'elemeSyncStatus': None, 'status': 1, 'skuQuantity': 0, 'description': '100', 'business': None, 'useTime': None, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'cateName': None, 'rank': None, 'istop': 0, 'branch': None, 'detail': None, 'isSku': 0, 'outerId': None, 'soldCount': 268, 'servicePhone': None, 'cwId': None, 'transientPrice': 0.0, 'id': 26189, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'standardTopPrice': 0.0, 'standardLowPrice': 0.0, 'syncStatus': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'hasActivity': 0, 'dishCount': None, 'standardAllSku': None, 'shop': {'serial': None, 'email': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'id': 42, 'createTime': None, 'thirdAppId': None, 'name': None, 'parent': None}, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'oldName': None, 'branchId': None}}, {'cannotUseTime': None, 'baiduSyncStatus': None, 'goodsCopyId': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'delFlag': None, 'shopId': None, 'relBranchList': None, 'name': '水淀粉', 'transientOriPrice': 0.0, 'expirTime': None, 'soldAllCount': 72, 'createTime': None, 'cateId': 0, 'preRemind': None, 'relType': None, 'rules': None, 'price': 100000000, 'standard': 1, 'elemeSyncStatus': None, 'status': 1, 'skuQuantity': 9265759, 'description': '阿斯达', 'business': None, 'useTime': None, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'cateName': None, 'rank': None, 'istop': 0, 'branch': None, 'detail': None, 'isSku': 0, 'outerId': None, 'soldCount': 72, 'servicePhone': None, 'cwId': None, 'transientPrice': 0.0, 'id': 26188, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'standardTopPrice': 0.0, 'standardLowPrice': 0.0, 'syncStatus': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'hasActivity': 0, 'dishCount': None, 'standardAllSku': None, 'shop': {'serial': None, 'email': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'id': 42, 'createTime': None, 'thirdAppId': None, 'name': None, 'parent': None}, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'oldName': None, 'branchId': None}}, {'cannotUseTime': None, 'baiduSyncStatus': None, 'goodsCopyId': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'delFlag': None, 'shopId': None, 'relBranchList': None, 'name': '接口-测试商品2', 'transientOriPrice': 0.0, 'expirTime': None, 'soldAllCount': 30, 'createTime': None, 'cateId': 0, 'preRemind': None, 'relType': None, 'rules': None, 'price': 0, 'standard': 2, 'elemeSyncStatus': None, 'status': 1, 'skuQuantity': None, 'description': '接口测试专用,勿动', 'business': None, 'useTime': None, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'cateName': None, 'rank': None, 'istop': 0, 'branch': None, 'detail': None, 'isSku': 0, 'outerId': None, 'soldCount': 0, 'servicePhone': None, 'cwId': None, 'transientPrice': 0.0, 'id': 26839, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'standardTopPrice': 0.0, 'standardLowPrice': 0.01, 'syncStatus': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'hasActivity': 0, 'dishCount': None, 'standardAllSku': None, 'shop': {'serial': None, 'email': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'id': 42, 'createTime': None, 'thirdAppId': None, 'name': None, 'parent': None}, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'oldName': None, 'branchId': None}}, {'cannotUseTime': None, 'baiduSyncStatus': None, 'goodsCopyId': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'delFlag': None, 'shopId': None, 'relBranchList': None, 'name': '接口-测试商品1', 'transientOriPrice': 0.0, 'expirTime': None, 'soldAllCount': 4, 'createTime': None, 'cateId': 0, 'preRemind': None, 'relType': None, 'rules': None, 'price': 1, 'standard': 1, 'elemeSyncStatus': None, 'status': 1, 'skuQuantity': 999996, 'description': '接口测试专用,烦请勿删,勿操作', 'business': None, 'useTime': None, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'cateName': None, 'rank': None, 'istop': 0, 'branch': None, 'detail': None, 'isSku': 0, 'outerId': None, 'soldCount': 4, 'servicePhone': None, 'cwId': None, 'transientPrice': 0.0, 'id': 26838, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'standardTopPrice': 0.0, 'standardLowPrice': 0.0, 'syncStatus': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'hasActivity': 0, 'dishCount': None, 'standardAllSku': None, 'shop': {'serial': None, 'email': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'id': 42, 'createTime': None, 'thirdAppId': None, 'name': None, 'parent': None}, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'oldName': None, 'branchId': None}}, {'cannotUseTime': None, 'baiduSyncStatus': None, 'goodsCopyId': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'delFlag': None, 'shopId': None, 'relBranchList': None, 'name': '多规格冗余测试', 'transientOriPrice': 0.0, 'expirTime': None, 'soldAllCount': 8, 'createTime': None, 'cateId': 0, 'preRemind': None, 'relType': None, 'rules': None, 'price': 0, 'standard': 2, 'elemeSyncStatus': None, 'status': 1, 'skuQuantity': None, 'description': '啊啊啊啊啊', 'business': None, 'useTime': None, 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'cateName': None, 'rank': None, 'istop': 0, 'branch': None, 'detail': None, 'isSku': 0, 'outerId': None, 'soldCount': 0, 'servicePhone': None, 'cwId': None, 'transientPrice': 0.0, 'id': 26836, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'standardTopPrice': 0.0, 'standardLowPrice': 1.0, 'syncStatus': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'hasActivity': 0, 'dishCount': None, 'standardAllSku': None, 'shop': {'serial': None, 'email': None, 'printAdUrl': None, 'phoneNumber': None, 'logoUrl': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'id': 42, 'createTime': None, 'thirdAppId': None, 'name': None, 'parent': None}, 'mallGoodsCate': {'delFlag': None, 'id': 259, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'oldName': None, 'branchId': None}}], 'pageInfo': {'currentPage': 1, 'totalPages': 1, 'totalRows': 5, 'pageEndRow': 5, 'pageStartRow': 0, 'hasPreviousPage': False, 'pagination': True, 'hasNextPage': False, 'params': None, 'pageSize': 10}}
2016-07-20 12:20:06,308 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:20:06,324 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:20:06,330 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:20:06,336 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:20:06,336 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:20:06" WHERE executed_history_id = 20160720122005 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:20:06,345 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:20:06,346 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 12:20:06,346 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:20:06" WHERE executed_history_id = 20160720122005 and testcase_id = 76 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 12:20:06,351 testsuite.py[line: 74] INFO: 测试套件[id=75 ,name=微商城-显示商品列表接口]已执行完
2016-07-20 12:20:06,352 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:20:06,354 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:20:06,354 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720122005',)
2016-07-20 12:20:06,358 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:20:06,358 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720122005')
2016-07-20 12:20:06,361 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:20:06,362 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720122005')
2016-07-20 12:20:06,364 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:20:06,365 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720122005')
2016-07-20 12:20:06,367 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:20:06,368 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720122005')
2016-07-20 12:20:06,370 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:20:06,371 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720122005',)
2016-07-20 12:20:06,374 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 12:20:06,375 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720122005')
2016-07-20 12:20:06,377 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 12:20:06,377 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:20:06,377 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720122005',)
2016-07-20 12:20:06,379 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 12:20:06,379 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720122005')
2016-07-20 12:20:06,381 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:20:06,381 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 76, '20160720122005')
2016-07-20 12:20:06,383 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:20:06,383 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720122005.html
2016-07-20 12:20:06,384 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:20:06,403 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:20:07,693 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720122005.html
2016-07-20 12:20:07,694 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:20:07,694 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 12:20:16,153 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:20:16,163 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:20:16,167 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:20:16,205 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:20:16,206 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:20:16,207 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:20:16,207 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:20:16,208 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:20:16,209 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 12:20:16,209 main.py[line: 107] INFO: 运行指定项目
2016-07-20 12:20:16,333 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 12:20:16,333 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 12:20:16,334 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 12:20:16,334 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 12:20:16,452 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 12:20:16,564 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 12:20:16,565 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 12:20:16,704 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['88', '76', '80'])
2016-07-20 12:20:16,961 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:20:16,961 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122016', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:20:16,963 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 12:20:16,963 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:20:16,963 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122016', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":1,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 12:20:16,964 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:20:16,964 casestep.py[line: 60] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 12:20:54,620 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 12:20:54,630 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 12:20:54,635 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 12:20:54,677 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 12:20:54,677 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 12:20:54,678 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 12:20:54,678 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 12:20:54,679 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 12:20:54,680 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 12:20:54,681 main.py[line: 107] INFO: 运行指定项目
2016-07-20 12:20:54,827 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 12:20:54,827 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 12:20:54,828 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 12:20:54,828 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 12:20:54,942 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 12:20:55,056 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 12:20:55,056 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 12:20:55,193 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76', '88'])
2016-07-20 12:20:55,443 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:20:55,443 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:20:55,445 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 12:20:55,445 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:20:55,445 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 12:20:55,446 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:20:55,446 casestep.py[line: 61] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 12:20:55,447 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 12:20:55,447 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 12:20:55,617 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 12:20:55,617 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:20:55,618 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 12:20:55" WHERE executed_history_id = 20160720122054 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:55,621 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 12:20:55,621 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:20:55,621 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:20:55" WHERE executed_history_id = 20160720122054 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:55,746 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 12:20:56,117 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:20:56,117 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:20:56,119 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 12:20:56,119 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:20:56,119 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 12:20:56,120 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:20:56,120 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 12:20:56,120 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 12:20:56,121 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 12:20:56,174 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pageSize': 10, 'params': None, 'currentPage': 1, 'hasPreviousPage': False, 'pageEndRow': 5, 'hasNextPage': False, 'totalRows': 5, 'pagination': True, 'pageStartRow': 0, 'totalPages': 1}, 'dataList': [{'standardLowPrice': 0.0, 'cateId': 0, 'useTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'shop': {'printAdText': None, 'logoUrl': None, 'parent': None, 'name': None, 'phoneNumber': None, 'suffixShop': None, 'email': None, 'createTime': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'id': 42, 'fullName': None}, 'isSku': 0, 'name': '插线板更名后', 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': {'oldName': None, 'goodsAmount': 0, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'id': 260, 'orderNum': None, 'name': None, 'delFlag': None}, 'transientPrice': 0.0, 'expirTime': None, 'branch': None, 'shopId': None, 'hasActivity': 0, 'status': 1, 'goodsCopyId': None, 'soldAllCount': 274, 'createTime': None, 'standardAllSku': None, 'dishCount': None, 'id': 26189, 'cateName': None, 'preRemind': None, 'lunchBoxCount': None, 'rules': None, 'oriPrice': 0, 'relBranchList': None, 'standard': 1, 'rank': None, 'description': '100', 'price': 1000, 'cwId': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'detail': None, 'istop': 0, 'baiduSyncStatus': None, 'delFlag': None, 'relType': None, 'skuQuantity': 0, 'outerId': None, 'mallGoodsStandards': None, 'syncStatus': 0, 'waimaiChannel': None, 'soldCount': 268}, {'standardLowPrice': 0.0, 'cateId': 0, 'useTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'shop': {'printAdText': None, 'logoUrl': None, 'parent': None, 'name': None, 'phoneNumber': None, 'suffixShop': None, 'email': None, 'createTime': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'id': 42, 'fullName': None}, 'isSku': 0, 'name': '水淀粉', 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': {'oldName': None, 'goodsAmount': 0, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'id': 260, 'orderNum': None, 'name': None, 'delFlag': None}, 'transientPrice': 0.0, 'expirTime': None, 'branch': None, 'shopId': None, 'hasActivity': 0, 'status': 1, 'goodsCopyId': None, 'soldAllCount': 72, 'createTime': None, 'standardAllSku': None, 'dishCount': None, 'id': 26188, 'cateName': None, 'preRemind': None, 'lunchBoxCount': None, 'rules': None, 'oriPrice': 0, 'relBranchList': None, 'standard': 1, 'rank': None, 'description': '阿斯达', 'price': 100000000, 'cwId': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'detail': None, 'istop': 0, 'baiduSyncStatus': None, 'delFlag': None, 'relType': None, 'skuQuantity': 9265759, 'outerId': None, 'mallGoodsStandards': None, 'syncStatus': 0, 'waimaiChannel': None, 'soldCount': 72}, {'standardLowPrice': 0.01, 'cateId': 0, 'useTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'shop': {'printAdText': None, 'logoUrl': None, 'parent': None, 'name': None, 'phoneNumber': None, 'suffixShop': None, 'email': None, 'createTime': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'id': 42, 'fullName': None}, 'isSku': 0, 'name': '接口-测试商品2', 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': {'oldName': None, 'goodsAmount': 0, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'id': 268, 'orderNum': None, 'name': None, 'delFlag': None}, 'transientPrice': 0.0, 'expirTime': None, 'branch': None, 'shopId': None, 'hasActivity': 0, 'status': 1, 'goodsCopyId': None, 'soldAllCount': 30, 'createTime': None, 'standardAllSku': None, 'dishCount': None, 'id': 26839, 'cateName': None, 'preRemind': None, 'lunchBoxCount': None, 'rules': None, 'oriPrice': 0, 'relBranchList': None, 'standard': 2, 'rank': None, 'description': '接口测试专用,勿动', 'price': 0, 'cwId': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'detail': None, 'istop': 0, 'baiduSyncStatus': None, 'delFlag': None, 'relType': None, 'skuQuantity': None, 'outerId': None, 'mallGoodsStandards': None, 'syncStatus': 0, 'waimaiChannel': None, 'soldCount': 0}, {'standardLowPrice': 0.0, 'cateId': 0, 'useTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'shop': {'printAdText': None, 'logoUrl': None, 'parent': None, 'name': None, 'phoneNumber': None, 'suffixShop': None, 'email': None, 'createTime': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'id': 42, 'fullName': None}, 'isSku': 0, 'name': '接口-测试商品1', 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': {'oldName': None, 'goodsAmount': 0, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'id': 268, 'orderNum': None, 'name': None, 'delFlag': None}, 'transientPrice': 0.0, 'expirTime': None, 'branch': None, 'shopId': None, 'hasActivity': 0, 'status': 1, 'goodsCopyId': None, 'soldAllCount': 4, 'createTime': None, 'standardAllSku': None, 'dishCount': None, 'id': 26838, 'cateName': None, 'preRemind': None, 'lunchBoxCount': None, 'rules': None, 'oriPrice': 0, 'relBranchList': None, 'standard': 1, 'rank': None, 'description': '接口测试专用,烦请勿删,勿操作', 'price': 1, 'cwId': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'detail': None, 'istop': 0, 'baiduSyncStatus': None, 'delFlag': None, 'relType': None, 'skuQuantity': 999996, 'outerId': None, 'mallGoodsStandards': None, 'syncStatus': 0, 'waimaiChannel': None, 'soldCount': 4}, {'standardLowPrice': 1.0, 'cateId': 0, 'useTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'shop': {'printAdText': None, 'logoUrl': None, 'parent': None, 'name': None, 'phoneNumber': None, 'suffixShop': None, 'email': None, 'createTime': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'id': 42, 'fullName': None}, 'isSku': 0, 'name': '多规格冗余测试', 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': {'oldName': None, 'goodsAmount': 0, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'id': 259, 'orderNum': None, 'name': None, 'delFlag': None}, 'transientPrice': 0.0, 'expirTime': None, 'branch': None, 'shopId': None, 'hasActivity': 0, 'status': 1, 'goodsCopyId': None, 'soldAllCount': 8, 'createTime': None, 'standardAllSku': None, 'dishCount': None, 'id': 26836, 'cateName': None, 'preRemind': None, 'lunchBoxCount': None, 'rules': None, 'oriPrice': 0, 'relBranchList': None, 'standard': 2, 'rank': None, 'description': '啊啊啊啊啊', 'price': 0, 'cwId': None, 'cannotUseTime': None, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'detail': None, 'istop': 0, 'baiduSyncStatus': None, 'delFlag': None, 'relType': None, 'skuQuantity': None, 'outerId': None, 'mallGoodsStandards': None, 'syncStatus': 0, 'waimaiChannel': None, 'soldCount': 0}]}
2016-07-20 12:20:56,178 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 12:20:56,192 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 12:20:56,195 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 12:20:56,198 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:20:56,199 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:20:56" WHERE executed_history_id = 20160720122054 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:56,201 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 12:20:56,201 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:20:56,201 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:20:56" WHERE executed_history_id = 20160720122054 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:56,339 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 12:20:56,717 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 12:20:56,718 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 12:20:56,719 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 12:20:56,720 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 12:20:56,720 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720122054', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":1,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 12:20:56,721 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 12:20:56,721 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 12:20:56,721 wechatno_wemall.py[line: 101] INFO: 正在发起POST请求...
2016-07-20 12:20:56,721 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 12:20:56,818 wechatno_wemall.py[line: 108] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 12:20:56,819 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 12:20:56,819 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 12:20:56" WHERE executed_history_id = 20160720122054 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:56,826 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 12:20:56,827 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 12:20:56,827 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 12:20:56" WHERE executed_history_id = 20160720122054 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 12:20:56,975 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 12:20:57,091 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 12:20:57,091 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 12:20:57,092 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 12:20:57,092 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720122054',)
2016-07-20 12:20:57,094 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 12:20:57,094 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720122054')
2016-07-20 12:20:57,095 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 12:20:57,095 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720122054')
2016-07-20 12:20:57,095 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 12:20:57,096 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720122054')
2016-07-20 12:20:57,096 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 12:20:57,096 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720122054')
2016-07-20 12:20:57,097 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 12:20:57,097 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720122054',)
2016-07-20 12:20:57,098 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 12:20:57,098 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720122054')
2016-07-20 12:20:57,099 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 12:20:57,100 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 12:20:57,100 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720122054',)
2016-07-20 12:20:57,101 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 12:20:57,101 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720122054')
2016-07-20 12:20:57,103 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 12:20:57,103 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720122054')
2016-07-20 12:20:57,104 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 12:20:57,104 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720122054')
2016-07-20 12:20:57,106 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 12:20:57,106 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720122054')
2016-07-20 12:20:57,108 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 12:20:57,108 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720122054.html
2016-07-20 12:20:57,108 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 12:20:57,109 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 12:20:57,339 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720122054.html
2016-07-20 12:20:57,339 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 12:20:57,339 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:27:45,604 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:27:45,615 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:27:45,621 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:27:45,664 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:27:45,664 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:27:45,666 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:27:45,666 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:27:45,667 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:27:45,669 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:27:45,669 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:27:45,785 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:27:45,785 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:27:45,786 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:27:45,786 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:27:45,905 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:27:46,039 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:27:46,039 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:27:46,158 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '93', '88', '80'])
2016-07-20 15:27:46,436 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:27:46,436 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:27:46,437 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:27:46,437 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:27:46,437 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:27:46,438 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:27:46,439 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:27:46,439 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:27:46,439 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:27:46,498 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'soldCount': 268, 'price': 1000, 'shop': {'suffixShop': None, 'email': None, 'id': 42, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'oriPrice': 0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'branchId': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None}, 'hasActivity': 0, 'detail': None, 'useTime': None, 'transientPrice': 0.0, 'dishCount': None, 'status': 1, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'syncStatus': 0, 'soldAllCount': 274, 'lunchBoxCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'outerId': None, 'goodsCopyId': None, 'cannotUseTime': None, 'cwId': None, 'description': '100', 'waimaiChannel': None, 'shopId': None, 'standardTopPrice': 0.0, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'cateId': 0, 'transientOriPrice': 0.0, 'rank': None, 'relType': None, 'name': '插线板更名后', 'rules': None, 'business': None, 'id': 26189, 'expirTime': None, 'standard': 1, 'istop': 0, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'preRemind': None, 'mallGoodsStandards': None, 'standardAllSku': None, 'standardLowPrice': 0.0, 'skuQuantity': 0, 'branch': None, 'isSku': 0}, {'soldCount': 72, 'price': 100000000, 'shop': {'suffixShop': None, 'email': None, 'id': 42, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'oriPrice': 0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'branchId': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None}, 'hasActivity': 0, 'detail': None, 'useTime': None, 'transientPrice': 0.0, 'dishCount': None, 'status': 1, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'syncStatus': 0, 'soldAllCount': 72, 'lunchBoxCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'outerId': None, 'goodsCopyId': None, 'cannotUseTime': None, 'cwId': None, 'description': '阿斯达', 'waimaiChannel': None, 'shopId': None, 'standardTopPrice': 0.0, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'cateId': 0, 'transientOriPrice': 0.0, 'rank': None, 'relType': None, 'name': '水淀粉', 'rules': None, 'business': None, 'id': 26188, 'expirTime': None, 'standard': 1, 'istop': 0, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'preRemind': None, 'mallGoodsStandards': None, 'standardAllSku': None, 'standardLowPrice': 0.0, 'skuQuantity': 9265759, 'branch': None, 'isSku': 0}, {'soldCount': 0, 'price': 0, 'shop': {'suffixShop': None, 'email': None, 'id': 42, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'oriPrice': 0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'branchId': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None}, 'hasActivity': 0, 'detail': None, 'useTime': None, 'transientPrice': 0.0, 'dishCount': None, 'status': 1, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'syncStatus': 0, 'soldAllCount': 31, 'lunchBoxCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'outerId': None, 'goodsCopyId': None, 'cannotUseTime': None, 'cwId': None, 'description': '接口测试专用,勿动', 'waimaiChannel': None, 'shopId': None, 'standardTopPrice': 0.0, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'cateId': 0, 'transientOriPrice': 0.0, 'rank': None, 'relType': None, 'name': '接口-测试商品2', 'rules': None, 'business': None, 'id': 26839, 'expirTime': None, 'standard': 2, 'istop': 0, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'preRemind': None, 'mallGoodsStandards': None, 'standardAllSku': None, 'standardLowPrice': 0.01, 'skuQuantity': None, 'branch': None, 'isSku': 0}, {'soldCount': 4, 'price': 1, 'shop': {'suffixShop': None, 'email': None, 'id': 42, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'oriPrice': 0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'branchId': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None}, 'hasActivity': 0, 'detail': None, 'useTime': None, 'transientPrice': 0.0, 'dishCount': None, 'status': 1, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'syncStatus': 0, 'soldAllCount': 4, 'lunchBoxCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'outerId': None, 'goodsCopyId': None, 'cannotUseTime': None, 'cwId': None, 'description': '接口测试专用,烦请勿删,勿操作', 'waimaiChannel': None, 'shopId': None, 'standardTopPrice': 0.0, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'cateId': 0, 'transientOriPrice': 0.0, 'rank': None, 'relType': None, 'name': '接口-测试商品1', 'rules': None, 'business': None, 'id': 26838, 'expirTime': None, 'standard': 1, 'istop': 0, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'preRemind': None, 'mallGoodsStandards': None, 'standardAllSku': None, 'standardLowPrice': 0.0, 'skuQuantity': 999996, 'branch': None, 'isSku': 0}, {'soldCount': 0, 'price': 0, 'shop': {'suffixShop': None, 'email': None, 'id': 42, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'oriPrice': 0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 259, 'branchId': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None}, 'hasActivity': 0, 'detail': None, 'useTime': None, 'transientPrice': 0.0, 'dishCount': None, 'status': 1, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'syncStatus': 0, 'soldAllCount': 9, 'lunchBoxCount': None, 'delFlag': None, 'meituanSyncStatus': None, 'outerId': None, 'goodsCopyId': None, 'cannotUseTime': None, 'cwId': None, 'description': '啊啊啊啊啊', 'waimaiChannel': None, 'shopId': None, 'standardTopPrice': 0.0, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'cateId': 0, 'transientOriPrice': 0.0, 'rank': None, 'relType': None, 'name': '多规格冗余测试', 'rules': None, 'business': None, 'id': 26836, 'expirTime': None, 'standard': 2, 'istop': 0, 'baiduSyncStatus': None, 'servicePhone': None, 'relBranchList': None, 'preRemind': None, 'mallGoodsStandards': None, 'standardAllSku': None, 'standardLowPrice': 1.0, 'skuQuantity': None, 'branch': None, 'isSku': 0}], 'pageInfo': {'totalRows': 5, 'currentPage': 1, 'pageSize': 10, 'params': None, 'pageStartRow': 0, 'hasPreviousPage': False, 'pagination': True, 'totalPages': 1, 'hasNextPage': False, 'pageEndRow': 5}}
2016-07-20 15:27:46,501 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:27:46,515 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:27:46,519 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:27:46,523 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:27:46,524 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:27:46" WHERE executed_history_id = 20160720152745 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:46,528 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:27:46,528 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:27:46,529 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:27:46" WHERE executed_history_id = 20160720152745 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:46,669 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:27:47,038 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:27:47,038 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:27:47,040 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:27:47,040 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:27:47,040 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:27:47,044 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:27:47,044 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:27:47,045 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:27:47,049 wechatno_wemall.py[line: 107] INFO: 正在发起POST请求...
2016-07-20 15:27:47,049 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:27:47,270 wechatno_wemall.py[line: 114] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 15:27:47,270 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：((6840,), 1)
2016-07-20 15:27:47,273 mydb.py[line: 87] ERROR: 执行数据库查询操作失败：Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2016-07-20 15:27:47,289 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:27:47,289 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 15:27:47,289 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\Program Files\python33\lib\site-packages\mysql\connector\conversion.py, line 179, in to_mysql    return getattr(self, _{0}_to_mysql.format(type_name))(value)AttributeError: MySQLConverter object has no attribute _tuple_to_mysqlDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 381, in _process_params    res = [to_mysql(i) for i in res]  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 381, in <listcomp>    res = [to_mysql(i) for i in res]  File D:\Program Files\python33\lib\site-packages\mysql\connector\conversion.py, line 182, in to_mysql    MySQL type.format(type_name))TypeError: Python tuple cannot be converted to a MySQL typeDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\globalpkg\mydb.py, line 81, in select_one_record    db_cursor.execute(query, data)  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 503, in execute    psub = _ParamSubstitutor(self._process_params(params))  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 386, in _process_params    Failed processing format-parameters; %s % err)mysql.connector.errors.ProgrammingError: Failed processing format-parameters; Python tuple cannot be converted to a MySQL typeDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 122, in test_add_to_cart    result = saofudb.select_one_record(query, data)  File E:\Projects\interface_project\globalpkg\mydb.py, line 89, in select_one_record    exit()  File D:\Program Files\python33\lib\site.py, line 375, in __call__    raise SystemExit(code)SystemExit: None", protocol_method="post", runtime="2016-07-20 15:27:47" WHERE executed_history_id = 20160720152745 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:47,292 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:27:47,292 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:27:47" WHERE executed_history_id = 20160720152745 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:47,431 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:27:47,782 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:27:47,783 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:27:47,784 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:27:47,785 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:27:47,785 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:27:47,786 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:27:47,786 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:27:47,786 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:27:47,790 wechatno_wemall.py[line: 107] INFO: 正在发起POST请求...
2016-07-20 15:27:47,790 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:27:47,912 wechatno_wemall.py[line: 114] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 15:27:47,913 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：((6840,), 1)
2016-07-20 15:27:47,915 mydb.py[line: 87] ERROR: 执行数据库查询操作失败：Failed processing format-parameters; Python 'tuple' cannot be converted to a MySQL type
2016-07-20 15:27:47,918 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=88, name=test-n-把商品加入购物车]
2016-07-20 15:27:47,918 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 15:27:47,918 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\Program Files\python33\lib\site-packages\mysql\connector\conversion.py, line 179, in to_mysql    return getattr(self, _{0}_to_mysql.format(type_name))(value)AttributeError: MySQLConverter object has no attribute _tuple_to_mysqlDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 381, in _process_params    res = [to_mysql(i) for i in res]  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 381, in <listcomp>    res = [to_mysql(i) for i in res]  File D:\Program Files\python33\lib\site-packages\mysql\connector\conversion.py, line 182, in to_mysql    MySQL type.format(type_name))TypeError: Python tuple cannot be converted to a MySQL typeDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\globalpkg\mydb.py, line 81, in select_one_record    db_cursor.execute(query, data)  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 503, in execute    psub = _ParamSubstitutor(self._process_params(params))  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 386, in _process_params    Failed processing format-parameters; %s % err)mysql.connector.errors.ProgrammingError: Failed processing format-parameters; Python tuple cannot be converted to a MySQL typeDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 122, in test_add_to_cart    result = saofudb.select_one_record(query, data)  File E:\Projects\interface_project\globalpkg\mydb.py, line 89, in select_one_record    exit()  File D:\Program Files\python33\lib\site.py, line 375, in __call__    raise SystemExit(code)SystemExit: None", protocol_method="post", runtime="2016-07-20 15:27:47" WHERE executed_history_id = 20160720152745 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:47,926 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:27:47,926 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:27:47" WHERE executed_history_id = 20160720152745 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:48,072 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:27:48,453 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:27:48,453 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:27:48,454 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:27:48,455 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:27:48,455 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152745', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:27:48,456 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:27:48,456 casestep.py[line: 61] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:27:48,456 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:27:48,457 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 15:27:48,614 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:27:48,615 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:27:48,616 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:27:48" WHERE executed_history_id = 20160720152745 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:48,623 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:27:48,624 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:27:48,624 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:27:48" WHERE executed_history_id = 20160720152745 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:27:48,793 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:27:48,908 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:27:48,908 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:27:48,909 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:27:48,909 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720152745',)
2016-07-20 15:27:48,910 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:27:48,911 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720152745')
2016-07-20 15:27:48,911 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:27:48,912 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720152745')
2016-07-20 15:27:48,912 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:27:48,912 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720152745')
2016-07-20 15:27:48,913 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:27:48,913 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720152745')
2016-07-20 15:27:48,914 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:27:48,914 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720152745',)
2016-07-20 15:27:48,915 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:27:48,915 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720152745')
2016-07-20 15:27:48,916 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:27:48,917 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:27:48,917 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720152745',)
2016-07-20 15:27:48,917 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:27:48,918 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720152745')
2016-07-20 15:27:48,919 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:27:48,919 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720152745')
2016-07-20 15:27:48,921 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:27:48,921 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720152745')
2016-07-20 15:27:48,923 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:27:48,923 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720152745')
2016-07-20 15:27:48,924 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:27:48,924 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720152745')
2016-07-20 15:27:48,926 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:27:48,926 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720152745.html
2016-07-20 15:27:48,926 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:27:48,927 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:27:50,152 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720152745.html
2016-07-20 15:27:50,152 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:27:50,152 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:29:14,673 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:29:14,683 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:29:14,688 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:29:14,730 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:29:14,730 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:29:14,731 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:29:14,732 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:29:14,733 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:29:14,734 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:29:14,734 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:29:14,858 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:29:14,858 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:29:14,859 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:29:14,859 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:29:14,984 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:29:15,106 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:29:15,106 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:29:15,220 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['88', '93', '76', '80'])
2016-07-20 15:29:15,482 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:29:15,482 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:29:15,484 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:29:15,484 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:29:15,484 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:29:15,486 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:29:15,486 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:29:15,487 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:29:15,490 wechatno_wemall.py[line: 108] INFO: 正在发起POST请求...
2016-07-20 15:29:15,490 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:29:15,586 wechatno_wemall.py[line: 115] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 15:29:15,586 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:29:15,593 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=88, name=test-n-把商品加入购物车]
2016-07-20 15:29:15,593 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 125, in test_add_to_cart    self.assertEqual(result[0], self.expected_result[amount], msg=购物车商品数amount存储错误)AssertionError: 8 != 2 : 购物车商品数amount存储错误", protocol_method="post", runtime="2016-07-20 15:29:15" WHERE executed_history_id = 20160720152914 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:15,599 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:29:15,599 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-20 15:29:15" WHERE executed_history_id = 20160720152914 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:15,773 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:29:16,150 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:29:16,151 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:29:16,152 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:29:16,152 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:29:16,152 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:29:16,153 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:29:16,153 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:29:16,154 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:29:16,157 wechatno_wemall.py[line: 108] INFO: 正在发起POST请求...
2016-07-20 15:29:16,157 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:29:16,245 wechatno_wemall.py[line: 115] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 15:29:16,246 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:29:16,250 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:29:16,250 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 125, in test_add_to_cart    self.assertEqual(result[0], self.expected_result[amount], msg=购物车商品数amount存储错误)AssertionError: 10 != 2 : 购物车商品数amount存储错误", protocol_method="post", runtime="2016-07-20 15:29:16" WHERE executed_history_id = 20160720152914 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:16,261 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:29:16,262 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-20 15:29:16" WHERE executed_history_id = 20160720152914 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:16,390 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:29:16,775 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:29:16,775 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:29:16,776 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:29:16,777 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:29:16,777 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:29:16,778 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:29:16,778 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:29:16,778 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:29:16,778 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:29:16,835 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'params': None, 'pageSize': 10, 'currentPage': 1, 'hasPreviousPage': False, 'totalRows': 5, 'hasNextPage': False, 'pageEndRow': 5, 'totalPages': 1, 'pageStartRow': 0, 'pagination': True}, 'dataList': [{'hasActivity': 0, 'servicePhone': None, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'delFlag': None, 'cateId': 0, 'preRemind': None, 'rank': None, 'dishCount': None, 'expirTime': None, 'shopId': None, 'description': '100', 'rules': None, 'cwId': None, 'transientPrice': 0.0, 'isSku': 0, 'relBranchList': None, 'standardTopPrice': 0.0, 'standard': 1, 'waimaiChannel': None, 'price': 1000, 'meituanSyncStatus': None, 'outerId': None, 'name': '插线板更名后', 'mallGoodsCatagoryId': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'name': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'orderNum': None}, 'business': None, 'status': 1, 'lunchBoxCount': None, 'syncStatus': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'istop': 0, 'shop': {'thirdAppId': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'parent': None, 'logoUrl': None, 'printAdUrl': None, 'printAdText': None, 'serial': None, 'name': None, 'email': None}, 'relType': None, 'useTime': None, 'createTime': None, 'cannotUseTime': None, 'standardAllSku': None, 'soldAllCount': 274, 'id': 26189, 'skuQuantity': 0, 'soldCount': 268, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'cateName': None, 'oriPrice': 0}, {'hasActivity': 0, 'servicePhone': None, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'delFlag': None, 'cateId': 0, 'preRemind': None, 'rank': None, 'dishCount': None, 'expirTime': None, 'shopId': None, 'description': '阿斯达', 'rules': None, 'cwId': None, 'transientPrice': 0.0, 'isSku': 0, 'relBranchList': None, 'standardTopPrice': 0.0, 'standard': 1, 'waimaiChannel': None, 'price': 100000000, 'meituanSyncStatus': None, 'outerId': None, 'name': '水淀粉', 'mallGoodsCatagoryId': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'name': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'orderNum': None}, 'business': None, 'status': 1, 'lunchBoxCount': None, 'syncStatus': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'istop': 0, 'shop': {'thirdAppId': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'parent': None, 'logoUrl': None, 'printAdUrl': None, 'printAdText': None, 'serial': None, 'name': None, 'email': None}, 'relType': None, 'useTime': None, 'createTime': None, 'cannotUseTime': None, 'standardAllSku': None, 'soldAllCount': 72, 'id': 26188, 'skuQuantity': 9265759, 'soldCount': 72, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'cateName': None, 'oriPrice': 0}, {'hasActivity': 0, 'servicePhone': None, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'delFlag': None, 'cateId': 0, 'preRemind': None, 'rank': None, 'dishCount': None, 'expirTime': None, 'shopId': None, 'description': '接口测试专用,勿动', 'rules': None, 'cwId': None, 'transientPrice': 0.0, 'isSku': 0, 'relBranchList': None, 'standardTopPrice': 0.0, 'standard': 2, 'waimaiChannel': None, 'price': 0, 'meituanSyncStatus': None, 'outerId': None, 'name': '接口-测试商品2', 'mallGoodsCatagoryId': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'name': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'orderNum': None}, 'business': None, 'status': 1, 'lunchBoxCount': None, 'syncStatus': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'istop': 0, 'shop': {'thirdAppId': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'parent': None, 'logoUrl': None, 'printAdUrl': None, 'printAdText': None, 'serial': None, 'name': None, 'email': None}, 'relType': None, 'useTime': None, 'createTime': None, 'cannotUseTime': None, 'standardAllSku': None, 'soldAllCount': 31, 'id': 26839, 'skuQuantity': None, 'soldCount': 0, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.01, 'cateName': None, 'oriPrice': 0}, {'hasActivity': 0, 'servicePhone': None, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'delFlag': None, 'cateId': 0, 'preRemind': None, 'rank': None, 'dishCount': None, 'expirTime': None, 'shopId': None, 'description': '接口测试专用,烦请勿删,勿操作', 'rules': None, 'cwId': None, 'transientPrice': 0.0, 'isSku': 0, 'relBranchList': None, 'standardTopPrice': 0.0, 'standard': 1, 'waimaiChannel': None, 'price': 1, 'meituanSyncStatus': None, 'outerId': None, 'name': '接口-测试商品1', 'mallGoodsCatagoryId': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'name': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'orderNum': None}, 'business': None, 'status': 1, 'lunchBoxCount': None, 'syncStatus': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'istop': 0, 'shop': {'thirdAppId': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'parent': None, 'logoUrl': None, 'printAdUrl': None, 'printAdText': None, 'serial': None, 'name': None, 'email': None}, 'relType': None, 'useTime': None, 'createTime': None, 'cannotUseTime': None, 'standardAllSku': None, 'soldAllCount': 4, 'id': 26838, 'skuQuantity': 999996, 'soldCount': 4, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'standardLowPrice': 0.0, 'cateName': None, 'oriPrice': 0}, {'hasActivity': 0, 'servicePhone': None, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'delFlag': None, 'cateId': 0, 'preRemind': None, 'rank': None, 'dishCount': None, 'expirTime': None, 'shopId': None, 'description': '啊啊啊啊啊', 'rules': None, 'cwId': None, 'transientPrice': 0.0, 'isSku': 0, 'relBranchList': None, 'standardTopPrice': 0.0, 'standard': 2, 'waimaiChannel': None, 'price': 0, 'meituanSyncStatus': None, 'outerId': None, 'name': '多规格冗余测试', 'mallGoodsCatagoryId': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'name': None, 'id': 259, 'goodsSoldOutAmount': 0, 'branchId': None, 'delFlag': None, 'orderNum': None}, 'business': None, 'status': 1, 'lunchBoxCount': None, 'syncStatus': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'istop': 0, 'shop': {'thirdAppId': None, 'createTime': None, 'fullName': None, 'suffixShop': None, 'phoneNumber': None, 'id': 42, 'parent': None, 'logoUrl': None, 'printAdUrl': None, 'printAdText': None, 'serial': None, 'name': None, 'email': None}, 'relType': None, 'useTime': None, 'createTime': None, 'cannotUseTime': None, 'standardAllSku': None, 'soldAllCount': 9, 'id': 26836, 'skuQuantity': None, 'soldCount': 0, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'standardLowPrice': 1.0, 'cateName': None, 'oriPrice': 0}]}
2016-07-20 15:29:16,841 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:29:16,860 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:29:16,867 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:29:16,873 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:29:16,873 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:29:16" WHERE executed_history_id = 20160720152914 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:16,876 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:29:16,877 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:29:16,877 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:29:16" WHERE executed_history_id = 20160720152914 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:17,009 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:29:17,350 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:29:17,350 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:29:17,351 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:29:17,352 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:29:17,352 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720152914', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:29:17,353 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:29:17,353 casestep.py[line: 61] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:29:17,353 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:29:17,354 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 15:29:17,538 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:29:17,539 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:29:17,539 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:29:17" WHERE executed_history_id = 20160720152914 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:17,541 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:29:17,541 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:29:17,541 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:29:17" WHERE executed_history_id = 20160720152914 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:29:17,728 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:29:17,861 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:29:17,861 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:29:17,862 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:29:17,862 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720152914',)
2016-07-20 15:29:17,864 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:29:17,864 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720152914')
2016-07-20 15:29:17,865 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:29:17,865 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720152914')
2016-07-20 15:29:17,865 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:29:17,866 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720152914')
2016-07-20 15:29:17,866 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:29:17,866 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720152914')
2016-07-20 15:29:17,867 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:29:17,867 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720152914',)
2016-07-20 15:29:17,868 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:29:17,869 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720152914')
2016-07-20 15:29:17,870 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:29:17,870 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:29:17,870 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720152914',)
2016-07-20 15:29:17,871 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:29:17,872 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720152914')
2016-07-20 15:29:17,873 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:29:17,873 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720152914')
2016-07-20 15:29:17,874 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:29:17,875 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720152914')
2016-07-20 15:29:17,876 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:29:17,876 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720152914')
2016-07-20 15:29:17,877 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:29:17,878 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720152914')
2016-07-20 15:29:17,879 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:29:17,879 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720152914.html
2016-07-20 15:29:17,879 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:29:17,881 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:29:18,047 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720152914.html
2016-07-20 15:29:18,047 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:29:18,048 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:43:50,006 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:43:50,015 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:43:50,021 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:43:50,064 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:43:50,064 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:43:50,065 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:43:50,065 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:43:50,066 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:43:50,068 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:43:50,068 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:43:50,316 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:43:50,316 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:43:50,317 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:43:50,317 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:43:50,449 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:43:50,619 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:43:50,619 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:43:50,765 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '88', '76', '93'])
2016-07-20 15:43:51,003 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:43:51,003 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:43:51,005 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:43:51,005 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:43:51,005 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:43:51,006 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:43:51,006 casestep.py[line: 61] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:43:51,006 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:43:51,007 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 15:43:51,151 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:43:51,152 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:43:51,152 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:43:51" WHERE executed_history_id = 20160720154350 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:51,154 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:43:51,154 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:43:51,154 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:43:51" WHERE executed_history_id = 20160720154350 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:51,273 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:43:51,634 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:43:51,634 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:43:51,636 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:43:51,636 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:43:51,636 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":"var", "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:43:51,637 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:43:51,638 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:43:51,638 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:43:51,643 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:43:51,727 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:43:51,731 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:43:51,731 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:43:51,839 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 15:43:51,840 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:43:51,856 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=88, name=test-n-把商品加入购物车]
2016-07-20 15:43:51,856 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 135, in test_add_to_cart    self.assertEqual(result[0], self.expected_result[amount], msg=购物车商品数amount存储错误)AssertionError: 2 != var : 购物车商品数amount存储错误", protocol_method="post", runtime="2016-07-20 15:43:51" WHERE executed_history_id = 20160720154350 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:51,867 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:43:51,867 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-20 15:43:51" WHERE executed_history_id = 20160720154350 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:52,006 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:43:52,398 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:43:52,398 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:43:52,399 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:43:52,399 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:43:52,400 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:43:52,400 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:43:52,401 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:43:52,401 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:43:52,401 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:43:52,460 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'transientPrice': 0.0, 'id': 26189, 'standardTopPrice': 0.0, 'dishCount': None, 'goodsCopyId': None, 'branch': None, 'waimaiChannel': None, 'rank': None, 'standard': 1, 'shopId': None, 'standardAllSku': None, 'description': '100', 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'createTime': None, 'standardLowPrice': 0.0, 'lunchBoxCount': None, 'syncStatus': 0, 'hasActivity': 0, 'relBranchList': None, 'business': None, 'cateName': None, 'cannotUseTime': None, 'outerId': None, 'baiduSyncStatus': None, 'soldAllCount': 274, 'meituanSyncStatus': None, 'expirTime': None, 'useTime': None, 'isSku': 0, 'preRemind': None, 'soldCount': 268, 'status': 1, 'servicePhone': None, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 260, 'oldName': None, 'shop': None, 'branchId': None, 'orderNum': None, 'name': None}, 'name': '插线板更名后', 'price': 1000, 'cwId': None, 'cateId': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'istop': 0, 'delFlag': None, 'oriPrice': 0, 'rules': None, 'elemeSyncStatus': None, 'skuQuantity': 0, 'detail': None, 'relType': None, 'shop': {'serial': None, 'fullName': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'suffixShop': None, 'thirdAppId': None, 'parent': None, 'name': None}, 'transientOriPrice': 0.0}, {'transientPrice': 0.0, 'id': 26188, 'standardTopPrice': 0.0, 'dishCount': None, 'goodsCopyId': None, 'branch': None, 'waimaiChannel': None, 'rank': None, 'standard': 1, 'shopId': None, 'standardAllSku': None, 'description': '阿斯达', 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'createTime': None, 'standardLowPrice': 0.0, 'lunchBoxCount': None, 'syncStatus': 0, 'hasActivity': 0, 'relBranchList': None, 'business': None, 'cateName': None, 'cannotUseTime': None, 'outerId': None, 'baiduSyncStatus': None, 'soldAllCount': 72, 'meituanSyncStatus': None, 'expirTime': None, 'useTime': None, 'isSku': 0, 'preRemind': None, 'soldCount': 72, 'status': 1, 'servicePhone': None, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 260, 'oldName': None, 'shop': None, 'branchId': None, 'orderNum': None, 'name': None}, 'name': '水淀粉', 'price': 100000000, 'cwId': None, 'cateId': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'istop': 0, 'delFlag': None, 'oriPrice': 0, 'rules': None, 'elemeSyncStatus': None, 'skuQuantity': 9265759, 'detail': None, 'relType': None, 'shop': {'serial': None, 'fullName': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'suffixShop': None, 'thirdAppId': None, 'parent': None, 'name': None}, 'transientOriPrice': 0.0}, {'transientPrice': 0.0, 'id': 26839, 'standardTopPrice': 0.0, 'dishCount': None, 'goodsCopyId': None, 'branch': None, 'waimaiChannel': None, 'rank': None, 'standard': 2, 'shopId': None, 'standardAllSku': None, 'description': '接口测试专用,勿动', 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'createTime': None, 'standardLowPrice': 0.01, 'lunchBoxCount': None, 'syncStatus': 0, 'hasActivity': 0, 'relBranchList': None, 'business': None, 'cateName': None, 'cannotUseTime': None, 'outerId': None, 'baiduSyncStatus': None, 'soldAllCount': 31, 'meituanSyncStatus': None, 'expirTime': None, 'useTime': None, 'isSku': 0, 'preRemind': None, 'soldCount': 0, 'status': 1, 'servicePhone': None, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 268, 'oldName': None, 'shop': None, 'branchId': None, 'orderNum': None, 'name': None}, 'name': '接口-测试商品2', 'price': 0, 'cwId': None, 'cateId': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'istop': 0, 'delFlag': None, 'oriPrice': 0, 'rules': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'detail': None, 'relType': None, 'shop': {'serial': None, 'fullName': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'suffixShop': None, 'thirdAppId': None, 'parent': None, 'name': None}, 'transientOriPrice': 0.0}, {'transientPrice': 0.0, 'id': 26838, 'standardTopPrice': 0.0, 'dishCount': None, 'goodsCopyId': None, 'branch': None, 'waimaiChannel': None, 'rank': None, 'standard': 1, 'shopId': None, 'standardAllSku': None, 'description': '接口测试专用,烦请勿删,勿操作', 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'createTime': None, 'standardLowPrice': 0.0, 'lunchBoxCount': None, 'syncStatus': 0, 'hasActivity': 0, 'relBranchList': None, 'business': None, 'cateName': None, 'cannotUseTime': None, 'outerId': None, 'baiduSyncStatus': None, 'soldAllCount': 4, 'meituanSyncStatus': None, 'expirTime': None, 'useTime': None, 'isSku': 0, 'preRemind': None, 'soldCount': 4, 'status': 1, 'servicePhone': None, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 268, 'oldName': None, 'shop': None, 'branchId': None, 'orderNum': None, 'name': None}, 'name': '接口-测试商品1', 'price': 1, 'cwId': None, 'cateId': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'istop': 0, 'delFlag': None, 'oriPrice': 0, 'rules': None, 'elemeSyncStatus': None, 'skuQuantity': 999996, 'detail': None, 'relType': None, 'shop': {'serial': None, 'fullName': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'suffixShop': None, 'thirdAppId': None, 'parent': None, 'name': None}, 'transientOriPrice': 0.0}, {'transientPrice': 0.0, 'id': 26836, 'standardTopPrice': 0.0, 'dishCount': None, 'goodsCopyId': None, 'branch': None, 'waimaiChannel': None, 'rank': None, 'standard': 2, 'shopId': None, 'standardAllSku': None, 'description': '啊啊啊啊啊', 'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'createTime': None, 'standardLowPrice': 1.0, 'lunchBoxCount': None, 'syncStatus': 0, 'hasActivity': 0, 'relBranchList': None, 'business': None, 'cateName': None, 'cannotUseTime': None, 'outerId': None, 'baiduSyncStatus': None, 'soldAllCount': 9, 'meituanSyncStatus': None, 'expirTime': None, 'useTime': None, 'isSku': 0, 'preRemind': None, 'soldCount': 0, 'status': 1, 'servicePhone': None, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 259, 'oldName': None, 'shop': None, 'branchId': None, 'orderNum': None, 'name': None}, 'name': '多规格冗余测试', 'price': 0, 'cwId': None, 'cateId': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'istop': 0, 'delFlag': None, 'oriPrice': 0, 'rules': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'detail': None, 'relType': None, 'shop': {'serial': None, 'fullName': None, 'email': None, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'suffixShop': None, 'thirdAppId': None, 'parent': None, 'name': None}, 'transientOriPrice': 0.0}], 'pageInfo': {'totalPages': 1, 'currentPage': 1, 'pageEndRow': 5, 'totalRows': 5, 'pagination': True, 'hasPreviousPage': False, 'pageStartRow': 0, 'pageSize': 10, 'params': None, 'hasNextPage': False}}
2016-07-20 15:43:52,464 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:43:52,485 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:43:52,489 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:43:52,496 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:43:52,496 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:43:52" WHERE executed_history_id = 20160720154350 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:52,501 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:43:52,502 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:43:52,502 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:43:52" WHERE executed_history_id = 20160720154350 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:52,668 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:43:53,056 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:43:53,056 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:43:53,057 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:43:53,057 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:43:53,057 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:43:53,058 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:43:53,058 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:43:53,059 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:43:53,063 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:43:53,246 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:43:53,252 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:43:53,253 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:43:53,390 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 15:43:53,391 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:43:53,396 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:43:53,396 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:43:53" WHERE executed_history_id = 20160720154350 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:53,402 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:43:53,402 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154350', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:43:53,408 testcase.py[line: 57] ERROR: 步骤[2]信息填写错误: No JSON object could be decoded,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:43:53,408 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:43:53,409 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:43:53" WHERE executed_history_id = 20160720154350 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:43:53,537 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:43:53,675 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:43:53,675 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:43:53,676 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:43:53,676 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720154350',)
2016-07-20 15:43:53,677 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:43:53,677 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720154350')
2016-07-20 15:43:53,678 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:43:53,679 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720154350')
2016-07-20 15:43:53,680 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:43:53,680 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720154350')
2016-07-20 15:43:53,682 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:43:53,682 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720154350')
2016-07-20 15:43:53,683 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:43:53,683 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154350',)
2016-07-20 15:43:53,685 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:43:53,685 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154350')
2016-07-20 15:43:53,687 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:43:53,688 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:43:53,689 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154350',)
2016-07-20 15:43:53,692 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:43:53,693 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154350')
2016-07-20 15:43:53,695 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:43:53,695 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720154350')
2016-07-20 15:43:53,698 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:43:53,698 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720154350')
2016-07-20 15:43:53,700 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:43:53,700 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720154350')
2016-07-20 15:43:53,702 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:43:53,702 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720154350')
2016-07-20 15:43:53,704 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:43:53,705 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720154350.html
2016-07-20 15:43:53,705 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:43:53,706 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:43:54,945 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720154350.html
2016-07-20 15:43:54,946 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:43:54,946 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:44:46,034 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:44:46,045 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:44:46,050 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:44:46,089 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:44:46,089 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:44:46,090 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:44:46,090 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:44:46,091 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:44:46,093 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:44:46,093 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:44:46,201 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:44:46,201 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:44:46,202 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:44:46,202 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:44:46,345 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:44:46,482 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:44:46,482 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:44:46,627 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['93', '88', '76', '80'])
2016-07-20 15:44:46,873 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:44:46,873 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154446', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:44:46,874 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:44:46,874 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:44:46,874 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154446', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:44:46,875 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:44:46,875 casestep.py[line: 61] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:44:46,875 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:44:46,879 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:44:46,990 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:44:46,995 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:44:46,995 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:44:47,118 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 15:44:47,118 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:44:47,123 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:44:47,124 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:44:46" WHERE executed_history_id = 20160720154446 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:44:47,127 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:44:47,127 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154446', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:44:47,129 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 15:44:47,129 casestep.py[line: 61] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 15:45:22,793 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:45:22,803 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:45:22,808 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:45:22,858 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:45:22,858 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:45:22,860 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:45:22,860 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:45:22,862 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:45:22,864 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:45:22,864 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:45:23,009 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:45:23,009 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:45:23,010 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:45:23,010 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:45:23,122 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:45:23,232 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:45:23,232 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:45:23,347 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['93', '88', '80', '76'])
2016-07-20 15:45:23,588 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:23,588 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:23,590 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:45:23,590 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:23,590 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:45:23,591 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:23,591 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:45:23,592 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:23,595 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:45:23,723 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:23,727 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:45:23,727 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:45:23,847 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 15:45:23,848 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:45:23,857 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:23,858 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:45:23" WHERE executed_history_id = 20160720154522 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:23,862 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:23,863 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:45:23,868 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 15:45:23,869 casestep.py[line: 62] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 15:45:23,869 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 15:45:23,869 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 15:45:23,942 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 15:45:23,942 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15755,)
2016-07-20 15:45:23,948 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:45:23,948 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 15:45:23,948 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 163, in test_del_from_cart    self.assertEqual(len(result), 0, msg =实际未删除购物车记录)TypeError: object of type NoneType has no len()", protocol_method="get", runtime="2016-07-20 15:45:23" WHERE executed_history_id = 20160720154522 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:23,952 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:23,952 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:45:23" WHERE executed_history_id = 20160720154522 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:24,112 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:45:24,551 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:24,551 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:24,553 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:45:24,553 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:24,553 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":"var", "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:45:24,554 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:24,554 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:45:24,555 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:24,558 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:45:24,562 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:24,565 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:45:24,565 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:45:24,731 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 15:45:24,731 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:45:24,735 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=88, name=test-n-把商品加入购物车]
2016-07-20 15:45:24,736 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 135, in test_add_to_cart    self.assertEqual(result[0], self.expected_result[amount], msg=购物车商品数amount存储错误)AssertionError: 2 != var : 购物车商品数amount存储错误", protocol_method="post", runtime="2016-07-20 15:45:24" WHERE executed_history_id = 20160720154522 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:24,738 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:24,738 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-20 15:45:24" WHERE executed_history_id = 20160720154522 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:24,875 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:45:25,267 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:25,268 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:25,269 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:45:25,269 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:25,269 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:45:25,270 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:25,270 casestep.py[line: 62] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:45:25,271 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:45:25,271 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 15:45:25,370 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:45:25,371 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:25,371 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:45:25" WHERE executed_history_id = 20160720154522 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:25,379 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:45:25,379 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:25,380 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:45:25" WHERE executed_history_id = 20160720154522 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:25,536 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:45:25,944 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:25,944 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:25,946 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:45:25,946 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:25,946 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154522', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:45:25,948 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:25,948 casestep.py[line: 62] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:45:25,948 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:45:25,949 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:45:26,048 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pageSize': 10, 'params': None, 'hasNextPage': False, 'pagination': True, 'pageStartRow': 0, 'pageEndRow': 5, 'totalRows': 5, 'hasPreviousPage': False, 'totalPages': 1, 'currentPage': 1}, 'dataList': [{'branch': None, 'business': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'rank': None, 'standard': 1, 'goodsCopyId': None, 'detail': None, 'useTime': None, 'baiduSyncStatus': None, 'isSku': 0, 'shopId': None, 'lunchBoxCount': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'elemeSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'istop': 0, 'soldCount': 268, 'status': 1, 'skuQuantity': 0, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'cateName': None, 'waimaiChannel': None, 'expirTime': None, 'cateId': 0, 'outerId': None, 'price': 1000, 'mallGoodsCatagoryId': None, 'cwId': None, 'description': '100', 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'name': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 260, 'delFlag': None, 'oldName': None}, 'relBranchList': None, 'delFlag': None, 'hasActivity': 0, 'id': 26189, 'transientPrice': 0.0, 'rules': None, 'soldAllCount': 274, 'name': '插线板更名后', 'shop': {'parent': None, 'createTime': None, 'printAdUrl': None, 'suffixShop': None, 'thirdAppId': None, 'id': 42, 'fullName': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None}, 'syncStatus': 0, 'preRemind': None, 'relType': None}, {'branch': None, 'business': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'rank': None, 'standard': 1, 'goodsCopyId': None, 'detail': None, 'useTime': None, 'baiduSyncStatus': None, 'isSku': 0, 'shopId': None, 'lunchBoxCount': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'elemeSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'istop': 0, 'soldCount': 72, 'status': 1, 'skuQuantity': 9265759, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'cateName': None, 'waimaiChannel': None, 'expirTime': None, 'cateId': 0, 'outerId': None, 'price': 100000000, 'mallGoodsCatagoryId': None, 'cwId': None, 'description': '阿斯达', 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'name': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 260, 'delFlag': None, 'oldName': None}, 'relBranchList': None, 'delFlag': None, 'hasActivity': 0, 'id': 26188, 'transientPrice': 0.0, 'rules': None, 'soldAllCount': 72, 'name': '水淀粉', 'shop': {'parent': None, 'createTime': None, 'printAdUrl': None, 'suffixShop': None, 'thirdAppId': None, 'id': 42, 'fullName': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None}, 'syncStatus': 0, 'preRemind': None, 'relType': None}, {'branch': None, 'business': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'rank': None, 'standard': 2, 'goodsCopyId': None, 'detail': None, 'useTime': None, 'baiduSyncStatus': None, 'isSku': 0, 'shopId': None, 'lunchBoxCount': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.01, 'elemeSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'istop': 0, 'soldCount': 0, 'status': 1, 'skuQuantity': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'cateName': None, 'waimaiChannel': None, 'expirTime': None, 'cateId': 0, 'outerId': None, 'price': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'description': '接口测试专用,勿动', 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'name': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 268, 'delFlag': None, 'oldName': None}, 'relBranchList': None, 'delFlag': None, 'hasActivity': 0, 'id': 26839, 'transientPrice': 0.0, 'rules': None, 'soldAllCount': 31, 'name': '接口-测试商品2', 'shop': {'parent': None, 'createTime': None, 'printAdUrl': None, 'suffixShop': None, 'thirdAppId': None, 'id': 42, 'fullName': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None}, 'syncStatus': 0, 'preRemind': None, 'relType': None}, {'branch': None, 'business': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'rank': None, 'standard': 1, 'goodsCopyId': None, 'detail': None, 'useTime': None, 'baiduSyncStatus': None, 'isSku': 0, 'shopId': None, 'lunchBoxCount': None, 'meituanSyncStatus': None, 'standardLowPrice': 0.0, 'elemeSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'istop': 0, 'soldCount': 5, 'status': 1, 'skuQuantity': 999995, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'cateName': None, 'waimaiChannel': None, 'expirTime': None, 'cateId': 0, 'outerId': None, 'price': 1, 'mallGoodsCatagoryId': None, 'cwId': None, 'description': '接口测试专用,烦请勿删,勿操作', 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'name': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 268, 'delFlag': None, 'oldName': None}, 'relBranchList': None, 'delFlag': None, 'hasActivity': 0, 'id': 26838, 'transientPrice': 0.0, 'rules': None, 'soldAllCount': 5, 'name': '接口-测试商品1', 'shop': {'parent': None, 'createTime': None, 'printAdUrl': None, 'suffixShop': None, 'thirdAppId': None, 'id': 42, 'fullName': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None}, 'syncStatus': 0, 'preRemind': None, 'relType': None}, {'branch': None, 'business': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'rank': None, 'standard': 2, 'goodsCopyId': None, 'detail': None, 'useTime': None, 'baiduSyncStatus': None, 'isSku': 0, 'shopId': None, 'lunchBoxCount': None, 'meituanSyncStatus': None, 'standardLowPrice': 1.0, 'elemeSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'istop': 0, 'soldCount': 0, 'status': 1, 'skuQuantity': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'cateName': None, 'waimaiChannel': None, 'expirTime': None, 'cateId': 0, 'outerId': None, 'price': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'description': '啊啊啊啊啊', 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'name': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'id': 259, 'delFlag': None, 'oldName': None}, 'relBranchList': None, 'delFlag': None, 'hasActivity': 0, 'id': 26836, 'transientPrice': 0.0, 'rules': None, 'soldAllCount': 9, 'name': '多规格冗余测试', 'shop': {'parent': None, 'createTime': None, 'printAdUrl': None, 'suffixShop': None, 'thirdAppId': None, 'id': 42, 'fullName': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'email': None, 'serial': None, 'printAdText': None}, 'syncStatus': 0, 'preRemind': None, 'relType': None}]}
2016-07-20 15:45:26,050 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:45:26,065 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:45:26,069 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:45:26,074 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:26,075 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:45:25" WHERE executed_history_id = 20160720154522 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:26,082 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:45:26,083 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:26,083 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:45:25" WHERE executed_history_id = 20160720154522 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:26,223 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:45:26,347 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:45:26,347 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:45:26,348 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:45:26,348 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720154522',)
2016-07-20 15:45:26,349 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:45:26,349 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720154522')
2016-07-20 15:45:26,350 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:45:26,350 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720154522')
2016-07-20 15:45:26,352 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:45:26,352 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720154522')
2016-07-20 15:45:26,353 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:45:26,354 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720154522')
2016-07-20 15:45:26,354 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:45:26,354 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154522',)
2016-07-20 15:45:26,356 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:45:26,356 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154522')
2016-07-20 15:45:26,357 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:45:26,357 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:45:26,358 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154522',)
2016-07-20 15:45:26,359 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:45:26,359 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154522')
2016-07-20 15:45:26,360 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:45:26,360 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720154522')
2016-07-20 15:45:26,362 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:45:26,362 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720154522')
2016-07-20 15:45:26,364 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:45:26,364 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720154522')
2016-07-20 15:45:26,365 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:45:26,365 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720154522')
2016-07-20 15:45:26,367 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:45:26,367 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720154522.html
2016-07-20 15:45:26,367 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:45:26,369 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:45:26,586 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720154522.html
2016-07-20 15:45:26,586 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:45:26,587 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:45:51,789 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:45:51,798 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:45:51,803 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:45:51,841 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:45:51,841 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:45:51,842 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:45:51,842 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:45:51,843 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:45:51,844 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:45:51,845 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:45:51,953 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:45:51,953 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:45:51,954 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:45:51,954 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:45:52,084 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:45:52,208 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:45:52,208 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:45:52,378 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '88', '76', '93'])
2016-07-20 15:45:52,607 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:52,608 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:52,609 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:45:52,609 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:52,609 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:45:52,611 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:52,611 casestep.py[line: 62] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:45:52,611 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:45:52,611 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 15:45:52,749 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:45:52,750 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:52,750 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:45:52" WHERE executed_history_id = 20160720154551 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:52,756 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:45:52,757 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:52,757 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:45:52" WHERE executed_history_id = 20160720154551 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:52,926 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:45:53,287 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:53,287 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:53,289 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:45:53,289 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:53,289 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:45:53,291 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:53,291 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:45:53,291 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:53,296 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:45:53,512 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:53,517 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:45:53,518 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:45:53,657 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 15:45:53,657 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:45:53,663 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:53,663 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:45:53" WHERE executed_history_id = 20160720154551 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:53,673 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 15:45:53,674 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:53,675 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:45:53" WHERE executed_history_id = 20160720154551 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:53,816 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:45:54,205 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:54,205 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:54,206 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:45:54,207 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:54,207 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:45:54,208 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:54,208 casestep.py[line: 62] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:45:54,208 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:45:54,208 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:45:54,258 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'isSku': 0, 'shopId': None, 'expirTime': None, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'useTime': None, 'rank': None, 'standard': 1, 'detail': None, 'soldCount': 268, 'status': 1, 'istop': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'meituanSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'description': '100', 'syncStatus': 0, 'cateName': None, 'waimaiChannel': None, 'transientOriPrice': 0.0, 'transientPrice': 0.0, 'price': 1000, 'mallGoodsCatagoryId': None, 'cwId': None, 'skuQuantity': 0, 'cateId': 0, 'outerId': None, 'shop': {'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'createTime': None}, 'soldAllCount': 274, 'name': '插线板更名后', 'delFlag': None, 'preRemind': None, 'relType': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'mallGoodsCate': {'shop': None, 'goodsAmount': 0, 'branchId': None, 'name': None, 'delFlag': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 260}, 'branch': None, 'rules': None, 'id': 26189, 'hasActivity': 0, 'createTime': None}, {'isSku': 0, 'shopId': None, 'expirTime': None, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'useTime': None, 'rank': None, 'standard': 1, 'detail': None, 'soldCount': 72, 'status': 1, 'istop': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'meituanSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'description': '阿斯达', 'syncStatus': 0, 'cateName': None, 'waimaiChannel': None, 'transientOriPrice': 0.0, 'transientPrice': 0.0, 'price': 100000000, 'mallGoodsCatagoryId': None, 'cwId': None, 'skuQuantity': 9265759, 'cateId': 0, 'outerId': None, 'shop': {'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'createTime': None}, 'soldAllCount': 72, 'name': '水淀粉', 'delFlag': None, 'preRemind': None, 'relType': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'mallGoodsCate': {'shop': None, 'goodsAmount': 0, 'branchId': None, 'name': None, 'delFlag': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 260}, 'branch': None, 'rules': None, 'id': 26188, 'hasActivity': 0, 'createTime': None}, {'isSku': 0, 'shopId': None, 'expirTime': None, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'useTime': None, 'rank': None, 'standard': 2, 'detail': None, 'soldCount': 0, 'status': 1, 'istop': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'mallGoodsStandards': None, 'standardLowPrice': 0.01, 'meituanSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'description': '接口测试专用,勿动', 'syncStatus': 0, 'cateName': None, 'waimaiChannel': None, 'transientOriPrice': 0.0, 'transientPrice': 0.0, 'price': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'skuQuantity': None, 'cateId': 0, 'outerId': None, 'shop': {'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'createTime': None}, 'soldAllCount': 31, 'name': '接口-测试商品2', 'delFlag': None, 'preRemind': None, 'relType': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'mallGoodsCate': {'shop': None, 'goodsAmount': 0, 'branchId': None, 'name': None, 'delFlag': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 268}, 'branch': None, 'rules': None, 'id': 26839, 'hasActivity': 0, 'createTime': None}, {'isSku': 0, 'shopId': None, 'expirTime': None, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'useTime': None, 'rank': None, 'standard': 1, 'detail': None, 'soldCount': 5, 'status': 1, 'istop': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'mallGoodsStandards': None, 'standardLowPrice': 0.0, 'meituanSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'description': '接口测试专用,烦请勿删,勿操作', 'syncStatus': 0, 'cateName': None, 'waimaiChannel': None, 'transientOriPrice': 0.0, 'transientPrice': 0.0, 'price': 1, 'mallGoodsCatagoryId': None, 'cwId': None, 'skuQuantity': 999995, 'cateId': 0, 'outerId': None, 'shop': {'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'createTime': None}, 'soldAllCount': 5, 'name': '接口-测试商品1', 'delFlag': None, 'preRemind': None, 'relType': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'mallGoodsCate': {'shop': None, 'goodsAmount': 0, 'branchId': None, 'name': None, 'delFlag': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 268}, 'branch': None, 'rules': None, 'id': 26838, 'hasActivity': 0, 'createTime': None}, {'isSku': 0, 'shopId': None, 'expirTime': None, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'useTime': None, 'rank': None, 'standard': 2, 'detail': None, 'soldCount': 0, 'status': 1, 'istop': 0, 'lunchBoxCount': None, 'goodsCopyId': None, 'mallGoodsStandards': None, 'standardLowPrice': 1.0, 'meituanSyncStatus': None, 'oriPrice': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'description': '啊啊啊啊啊', 'syncStatus': 0, 'cateName': None, 'waimaiChannel': None, 'transientOriPrice': 0.0, 'transientPrice': 0.0, 'price': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'skuQuantity': None, 'cateId': 0, 'outerId': None, 'shop': {'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'name': None, 'serial': None, 'printAdText': None, 'email': None, 'printAdUrl': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'createTime': None}, 'soldAllCount': 9, 'name': '多规格冗余测试', 'delFlag': None, 'preRemind': None, 'relType': None, 'relBranchList': None, 'standardAllSku': None, 'servicePhone': None, 'mallGoodsCate': {'shop': None, 'goodsAmount': 0, 'branchId': None, 'name': None, 'delFlag': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'orderNum': None, 'id': 259}, 'branch': None, 'rules': None, 'id': 26836, 'hasActivity': 0, 'createTime': None}], 'pageInfo': {'pagination': True, 'pageStartRow': 0, 'pageSize': 10, 'params': None, 'hasNextPage': False, 'hasPreviousPage': False, 'totalPages': 1, 'currentPage': 1, 'pageEndRow': 5, 'totalRows': 5}}
2016-07-20 15:45:54,261 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:45:54,279 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:45:54,283 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:45:54,286 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:54,287 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:45:54" WHERE executed_history_id = 20160720154551 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:54,289 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:45:54,289 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:54,289 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:45:54" WHERE executed_history_id = 20160720154551 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:54,418 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:45:54,785 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:45:54,785 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:45:54,786 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:45:54,787 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:54,787 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:45:54,788 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:45:54,788 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:45:54,788 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:54,792 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:45:54,891 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:45:54,895 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:45:54,895 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:45:55,002 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 15:45:55,003 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:45:55,008 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:45:55,009 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:45:54" WHERE executed_history_id = 20160720154551 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:55,029 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:45:55,029 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154551', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:45:55,034 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 15:45:55,034 casestep.py[line: 62] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 15:45:55,035 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 15:45:55,035 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 15:45:55,143 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 15:45:55,144 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15762,)
2016-07-20 15:45:55,148 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:45:55,149 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 15:45:55,149 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 163, in test_del_from_cart    self.assertEqual(len(result), 0, msg =实际未删除购物车记录)TypeError: object of type NoneType has no len()", protocol_method="get", runtime="2016-07-20 15:45:55" WHERE executed_history_id = 20160720154551 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:55,153 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:45:55,153 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:45:54" WHERE executed_history_id = 20160720154551 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:45:55,313 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:45:55,498 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:45:55,498 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:45:55,499 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:45:55,499 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720154551',)
2016-07-20 15:45:55,501 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:45:55,501 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720154551')
2016-07-20 15:45:55,504 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:45:55,504 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720154551')
2016-07-20 15:45:55,505 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:45:55,506 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720154551')
2016-07-20 15:45:55,507 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:45:55,508 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720154551')
2016-07-20 15:45:55,510 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:45:55,510 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154551',)
2016-07-20 15:45:55,512 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:45:55,512 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154551')
2016-07-20 15:45:55,514 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:45:55,515 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:45:55,515 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154551',)
2016-07-20 15:45:55,516 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:45:55,516 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154551')
2016-07-20 15:45:55,519 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:45:55,519 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720154551')
2016-07-20 15:45:55,521 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:45:55,521 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720154551')
2016-07-20 15:45:55,523 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:45:55,523 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720154551')
2016-07-20 15:45:55,525 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:45:55,526 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720154551')
2016-07-20 15:45:55,528 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:45:55,528 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720154551.html
2016-07-20 15:45:55,528 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:45:55,530 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:45:55,739 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720154551.html
2016-07-20 15:45:55,739 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:45:55,739 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:47:00,885 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:47:00,895 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:47:00,900 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:47:00,942 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:47:00,943 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:47:00,944 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:47:00,944 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:47:00,945 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:47:00,946 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:47:00,946 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:47:01,053 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:47:01,053 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:47:01,054 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:47:01,054 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:47:01,178 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:47:01,354 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:47:01,355 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:47:01,507 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '80', '88', '93'])
2016-07-20 15:47:01,760 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:01,760 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:01,761 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:47:01,761 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:01,761 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:47:01,763 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:01,763 casestep.py[line: 62] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:47:01,763 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:47:01,763 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:47:01,819 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'relType': None, 'shopId': None, 'transientOriPrice': 0.0, 'business': None, 'syncStatus': 0, 'dishCount': None, 'isSku': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'expirTime': None, 'goodsCopyId': None, 'createTime': None, 'servicePhone': None, 'shop': {'logoUrl': None, 'suffixShop': None, 'email': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'thirdAppId': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'name': None, 'parent': None, 'createTime': None}, 'delFlag': None, 'relBranchList': None, 'istop': 0, 'lunchBoxCount': None, 'rank': None, 'outerId': None, 'mallGoodsStandards': None, 'transientPrice': 0.0, 'standardAllSku': None, 'standardTopPrice': 0.0, 'cateName': None, 'skuQuantity': 0, 'hasActivity': 0, 'name': '插线板更名后', 'cateId': 0, 'standardLowPrice': 0.0, 'cannotUseTime': None, 'preRemind': None, 'useTime': None, 'detail': None, 'oriPrice': 0, 'soldAllCount': 274, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'goodsAmount': 0, 'shop': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'delFlag': None, 'name': None}, 'description': '100', 'status': 1, 'id': 26189, 'standard': 1, 'cwId': None, 'price': 1000, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'waimaiChannel': None, 'soldCount': 268, 'rules': None, 'baiduSyncStatus': None}, {'relType': None, 'shopId': None, 'transientOriPrice': 0.0, 'business': None, 'syncStatus': 0, 'dishCount': None, 'isSku': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'expirTime': None, 'goodsCopyId': None, 'createTime': None, 'servicePhone': None, 'shop': {'logoUrl': None, 'suffixShop': None, 'email': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'thirdAppId': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'name': None, 'parent': None, 'createTime': None}, 'delFlag': None, 'relBranchList': None, 'istop': 0, 'lunchBoxCount': None, 'rank': None, 'outerId': None, 'mallGoodsStandards': None, 'transientPrice': 0.0, 'standardAllSku': None, 'standardTopPrice': 0.0, 'cateName': None, 'skuQuantity': 9265759, 'hasActivity': 0, 'name': '水淀粉', 'cateId': 0, 'standardLowPrice': 0.0, 'cannotUseTime': None, 'preRemind': None, 'useTime': None, 'detail': None, 'oriPrice': 0, 'soldAllCount': 72, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'goodsAmount': 0, 'shop': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'delFlag': None, 'name': None}, 'description': '阿斯达', 'status': 1, 'id': 26188, 'standard': 1, 'cwId': None, 'price': 100000000, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'waimaiChannel': None, 'soldCount': 72, 'rules': None, 'baiduSyncStatus': None}, {'relType': None, 'shopId': None, 'transientOriPrice': 0.0, 'business': None, 'syncStatus': 0, 'dishCount': None, 'isSku': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'expirTime': None, 'goodsCopyId': None, 'createTime': None, 'servicePhone': None, 'shop': {'logoUrl': None, 'suffixShop': None, 'email': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'thirdAppId': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'name': None, 'parent': None, 'createTime': None}, 'delFlag': None, 'relBranchList': None, 'istop': 0, 'lunchBoxCount': None, 'rank': None, 'outerId': None, 'mallGoodsStandards': None, 'transientPrice': 0.0, 'standardAllSku': None, 'standardTopPrice': 0.0, 'cateName': None, 'skuQuantity': None, 'hasActivity': 0, 'name': '接口-测试商品2', 'cateId': 0, 'standardLowPrice': 0.01, 'cannotUseTime': None, 'preRemind': None, 'useTime': None, 'detail': None, 'oriPrice': 0, 'soldAllCount': 31, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'goodsAmount': 0, 'shop': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'delFlag': None, 'name': None}, 'description': '接口测试专用,勿动', 'status': 1, 'id': 26839, 'standard': 2, 'cwId': None, 'price': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'waimaiChannel': None, 'soldCount': 0, 'rules': None, 'baiduSyncStatus': None}, {'relType': None, 'shopId': None, 'transientOriPrice': 0.0, 'business': None, 'syncStatus': 0, 'dishCount': None, 'isSku': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'expirTime': None, 'goodsCopyId': None, 'createTime': None, 'servicePhone': None, 'shop': {'logoUrl': None, 'suffixShop': None, 'email': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'thirdAppId': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'name': None, 'parent': None, 'createTime': None}, 'delFlag': None, 'relBranchList': None, 'istop': 0, 'lunchBoxCount': None, 'rank': None, 'outerId': None, 'mallGoodsStandards': None, 'transientPrice': 0.0, 'standardAllSku': None, 'standardTopPrice': 0.0, 'cateName': None, 'skuQuantity': 999995, 'hasActivity': 0, 'name': '接口-测试商品1', 'cateId': 0, 'standardLowPrice': 0.0, 'cannotUseTime': None, 'preRemind': None, 'useTime': None, 'detail': None, 'oriPrice': 0, 'soldAllCount': 5, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'goodsAmount': 0, 'shop': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'delFlag': None, 'name': None}, 'description': '接口测试专用,烦请勿删,勿操作', 'status': 1, 'id': 26838, 'standard': 1, 'cwId': None, 'price': 1, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'waimaiChannel': None, 'soldCount': 5, 'rules': None, 'baiduSyncStatus': None}, {'relType': None, 'shopId': None, 'transientOriPrice': 0.0, 'business': None, 'syncStatus': 0, 'dishCount': None, 'isSku': 0, 'branch': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'expirTime': None, 'goodsCopyId': None, 'createTime': None, 'servicePhone': None, 'shop': {'logoUrl': None, 'suffixShop': None, 'email': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'thirdAppId': None, 'phoneNumber': None, 'id': 42, 'printAdText': None, 'name': None, 'parent': None, 'createTime': None}, 'delFlag': None, 'relBranchList': None, 'istop': 0, 'lunchBoxCount': None, 'rank': None, 'outerId': None, 'mallGoodsStandards': None, 'transientPrice': 0.0, 'standardAllSku': None, 'standardTopPrice': 0.0, 'cateName': None, 'skuQuantity': None, 'hasActivity': 0, 'name': '多规格冗余测试', 'cateId': 0, 'standardLowPrice': 1.0, 'cannotUseTime': None, 'preRemind': None, 'useTime': None, 'detail': None, 'oriPrice': 0, 'soldAllCount': 9, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'goodsAmount': 0, 'shop': None, 'id': 259, 'goodsSoldOutAmount': 0, 'oldName': None, 'delFlag': None, 'name': None}, 'description': '啊啊啊啊啊', 'status': 1, 'id': 26836, 'standard': 2, 'cwId': None, 'price': 0, 'mallGoodsCatagoryId': None, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'waimaiChannel': None, 'soldCount': 0, 'rules': None, 'baiduSyncStatus': None}], 'pageInfo': {'totalRows': 5, 'hasPreviousPage': False, 'params': None, 'pageStartRow': 0, 'totalPages': 1, 'pageSize': 10, 'hasNextPage': False, 'pageEndRow': 5, 'pagination': True, 'currentPage': 1}}
2016-07-20 15:47:01,820 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:47:01,835 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:47:01,839 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:47:01,843 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:01,843 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:01" WHERE executed_history_id = 20160720154700 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:01,845 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:47:01,845 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:01,845 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:01" WHERE executed_history_id = 20160720154700 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:01,960 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
