2016-07-21 10:46:46,603 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,606 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,606 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,606 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,606 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,607 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,607 htmlparser.py[line: 28] INFO: Data 
			
			
2016-07-21 10:46:46,607 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,607 htmlparser.py[line: 28] INFO: Data 
				
					
						
							
2016-07-21 10:46:46,607 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,607 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 10:46:46,607 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:46:46,607 htmlparser.py[line: 28] INFO: Data  
								
									
									
										
2016-07-21 10:46:46,607 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,608 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:46:46,608 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,608 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,608 htmlparser.py[line: 28] INFO: Data 接口-测试商品1
2016-07-21 10:46:46,608 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,608 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,608 htmlparser.py[line: 28] INFO: Data ￥0.01
2016-07-21 10:46:46,608 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,608 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,608 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:46:46,609 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,609 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,609 htmlparser.py[line: 28] INFO: Data X1
2016-07-21 10:46:46,609 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,609 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,609 htmlparser.py[line: 28] INFO: Data 															
									
								
							
2016-07-21 10:46:46,609 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,609 htmlparser.py[line: 28] INFO: Data 
						
					
					
					
				
				
2016-07-21 10:46:46,610 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,610 htmlparser.py[line: 28] INFO: Data 
					 
						
						
2016-07-21 10:46:46,610 htmlparser.py[line: 28] INFO: Data 								
							
2016-07-21 10:46:46,610 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,610 htmlparser.py[line: 28] INFO: Data （买满￥0.00元包邮)
2016-07-21 10:46:46,610 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,610 htmlparser.py[line: 28] INFO: Data 
							
2016-07-21 10:46:46,610 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,611 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 10:46:46,611 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,611 htmlparser.py[line: 28] INFO: Data 
						
						
					 
				
2016-07-21 10:46:46,611 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,611 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,611 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,611 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:46:46,611 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,611 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 10:46:46,612 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,612 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,612 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,612 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,612 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,612 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:46:46,612 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,612 htmlparser.py[line: 28] INFO: Data 备注：
2016-07-21 10:46:46,612 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,613 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 10:46:46,613 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,613 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 10:46:46,613 htmlparser.py[line: 19] INFO: Start tag: textarea
2016-07-21 10:46:46,613 htmlparser.py[line: 25] INFO: End tag: textarea
2016-07-21 10:46:46,613 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 10:46:46,613 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,613 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,613 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,613 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,614 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,614 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,614 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,614 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,614 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,614 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,614 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,614 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,614 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:46:46,615 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,615 htmlparser.py[line: 28] INFO: Data 
                	
                     	
2016-07-21 10:46:46,615 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,615 htmlparser.py[line: 28] INFO: Data 微信支付
2016-07-21 10:46:46,615 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,615 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,615 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 10:46:46,615 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:46:46,615 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:46:46,615 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 10:46:46,616 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,616 htmlparser.py[line: 28] INFO: Data 
                    
                  	
2016-07-21 10:46:46,616 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,616 htmlparser.py[line: 28] INFO: Data 
                  	
                  	
2016-07-21 10:46:46,616 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,616 htmlparser.py[line: 28] INFO: Data 
                  	
                     	
2016-07-21 10:46:46,616 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,616 htmlparser.py[line: 28] INFO: Data 货到付款
2016-07-21 10:46:46,617 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,617 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,617 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 10:46:46,617 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:46:46,617 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:46:46,617 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 10:46:46,617 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,617 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:46:46,617 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,618 htmlparser.py[line: 28] INFO: Data 
		
                    
2016-07-21 10:46:46,618 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,618 htmlparser.py[line: 28] INFO: Data 
                    
                    	
2016-07-21 10:46:46,618 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,618 htmlparser.py[line: 28] INFO: Data 到店支付
2016-07-21 10:46:46,618 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,618 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,618 htmlparser.py[line: 28] INFO: Data 
                    		
2016-07-21 10:46:46,618 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:46:46,619 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:46:46,619 htmlparser.py[line: 28] INFO: Data 
                    	
2016-07-21 10:46:46,619 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,619 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:46:46,619 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,619 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:46:46,619 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,619 htmlparser.py[line: 28] INFO: Data 
                   	
                   		
2016-07-21 10:46:46,619 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:46:46,619 htmlparser.py[line: 28] INFO: Data 储值卡支付
2016-07-21 10:46:46,620 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:46:46,620 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:46:46,620 htmlparser.py[line: 28] INFO: Data 
                   			
2016-07-21 10:46:46,620 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:46:46,620 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:46:46,620 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 10:46:46,620 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:46:46,620 htmlparser.py[line: 28] INFO: Data 
                   	
                    
2016-07-21 10:46:46,620 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,621 htmlparser.py[line: 28] INFO: Data 
                
2016-07-21 10:46:46,621 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,621 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,621 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,621 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,621 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:46:46,621 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:46:46,621 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:46:46,622 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:46:46,622 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:46:46,622 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,622 htmlparser.py[line: 28] INFO: Data 
			
		
	
2016-07-21 10:46:46,622 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:46:46,622 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,622 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,622 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,622 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,623 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,623 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,623 htmlparser.py[line: 28] INFO: Data 
    
	
2016-07-21 10:46:46,623 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,623 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,623 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,623 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,624 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,624 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,624 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,624 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,624 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,624 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,624 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,625 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,625 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,625 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,625 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,625 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,625 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,626 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,626 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,626 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,626 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,626 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,627 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			$("input[name='zhifu']:checked").prev('.pure-img').attr('src','/images/check.png');
			var tab = parseInt("1");
			if(tab == 1){
				$("#deliverFeeDiv").show();
				$("#FetchDiv").hide();
			}else if(parseInt("1") != 0){
				$("#deliverFeeDiv").hide();
				$("#FetchDiv").show();
			}
			// 控制显示图片比例
			var img_left_heights = $(".selectList img").width()*(0.75);
			$(".selectList img,.order-div").css('height',img_left_heights);
			
			// 取货日期
			var now = new Date();
            $('#scheduledTime').mobiscroll().datetime({
                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),
                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),
                stepMinute: 30,
                dateOrder :"yymmdd",
                dateFormat:"yy-mm-dd",
                timeWheels:"HHii",
                timeFormat:"HH:ii",
                //invalid: [{ start: '00:00', end: '08:00' },{ start: '22:00', end: '23:59' }],
                theme: 'ios7',
                lang: 'zh',
                display: 'bottom',
                mode: 'mixed'
            });
            $('#scheduledTime').click(function(){
                $('#scheduledTime').mobiscroll('show'); 
                return false;
            });
            
			$("ul li").click(function() {
				$("ul li").removeClass("active");
				$(this).addClass("active");
				if($(this).attr("data")=="#deliverFeeDiv"){
					$("#deliverFeeDiv").show();
					$("#FetchDiv").hide();
				}else{
					$("#deliverFeeDiv").hide();
					$("#FetchDiv").show();
				}
				$(".tab_content").hide();
				var href = $(this).find("a").attr("href");
				$(href).show();
				
				if(href.endWith("tab1")) {
					$(".btn-wrap-2").show();
					$(".btn-wrap-3").hide();
				} else if(href.endWith("tab2")) {
					$(".btn-wrap-2").hide();
					$(".btn-wrap-3").show();
				}
				//清空已选择的支付方式
				$("input[name='zhifu']").prop("checked", false);
				$(".zhifu .pure-img-check").css('background-image','url(/images/weixuan2.png)');
				return false;
			});
			//商户设置的满额包邮价
			/* var noDeliverFee = toPrice(parseFloat("0")/100);
			var totalFee = parseFloat("0.01");
			if(totalFee > noDeliverFee){
				$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);
				$("#deliverFee").text("含运费：￥0.00");
			} */
			$('.zhifu>div').click(function(){
	            $("input[name=zhifu]").prop("checked", false);
	            $(".pure-img-check").css('backgroundImage','url(/images/weixuan2.png)');
	            var img_obj = $(this).find('.pure-img-check');
	            var backgroundImage = img_obj.css('background-image');
	            var input_obj = $(this).find('input');
	            if(backgroundImage.indexOf("weixuan2.png") > 0){
	                img_obj.css('background-image','url(/images/check.png)');
	                input_obj.prop("checked", "checked");
	            }else{
	                img_obj.css('background-image','url(/images/weixuan2.png)');
	                input_obj.prop("checked", false);
	            }
	        });
		});
		
		function validateRemark(){
			if($('.beizhulan textarea').val() != "" && $('.beizhulan textarea').val() != undefined){
				if($('.beizhulan textarea').val().length>30){
					$.dialog({
                        widths : '80%',
                        content : '您输入的备注过长，请不要超过30个字',
                        title : 'no',
                        fullok : function() {
                            return true;
                        },                       
                        lock : true
                    });	
					return false;
				}
				return true;
			}
			return true;
		}
		
		$(".submit").click(function(event){
			var payType = $("input[name='zhifu']:checked").val();
			if(null == payType || "" == payType || typeof(payType) == "undefined") {
       		 $.dialog({
                    widths : '80%',
                    content : '请选择支付方式',
                    title : 'no',
                    fullok : function() {
                        return true;
                    },                       
                    lock : true
                });
       			return;
       		}
			$.dialog({
                content : "确认提交订单？",
                title : "no",
                okText: '取消',
                cancelText : '确定', 
                ok : function() {
                	$(".ft-right").removeAttr("disabled");
                	return;
                },
                cancel : function() {                        	
               		
               		if(payType == 1){
               			if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				doAlert("no", "无效物流方式");
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/1", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "id=" + result.attach;
            	    			strParams += "&serial=10549840601068216320";
            	    			if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
            	        	});
            			}
               		}
               		
    				if(payType == 2){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					var shopBranch = "";
    					if(shopBranch == "") {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					var _fetchTime = $("#scheduledTime").val();
    					if(null == _fetchTime || "" == _fetchTime) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请选择取货时间',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						
    						var _remark = $(".beizhulan").find("textarea").val();
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							fetchTime : _fetchTime,
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/2/2", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 3){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑收货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						var _remark = encodeURI($(".beizhulan").find("textarea").val());
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/1/3", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 4){
    					if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				$.dialog({
        	                    widths : '80%',
        	                    content : '无效物流方式',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/4", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "?orderId=" + result.attach;
            					if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            					strParams += "&serial=10549840601068216320";
                				window.location.href = "/pay/5"+strParams;
            	        	});
            			}
            			
    				}
    				
                },
                lock : true
            });
		});
		
		//微信支付
		/* $(".payUseWX").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			var type = 0;
			$(".tab_content").each(function(){
				if($(this).css("display") != "none") {
					var attrId = $(this).attr("id");
					if(attrId == "tab1") {
						type = 1;//快递取货
					} else if(attrId == "tab2") {
						type = 2;//门店自提
					}
				}
			});
			if(type <= 0) {
				doAlert("no", "无效物流方式");
				return;
			}
			if(type == 1) {
				if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑收货地址");
					return;
				}
			}
			var _fetchTime = "";
			if(type == 2) {
				if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑取货地址");
					return;
				}
				_fetchTime = $("#scheduledTime").val();
				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
					doAlert("no", "请选择取货时间");
					return;
				}
				var shopBranch = "";
				if(shopBranch == "") {
					doAlert("no", "请编辑取货地址");
					return;
				}
			}
			
			var _remark = encodeURI($(".beizhulan").find("textarea").val());
			var params = {
				serial : "10549840601068216320",
				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
				fm : "1",
				mallGoodsId : "26838",
				amount : "1",
				cartIds : "",
				fetchTime : _fetchTime,
				remark : _remark
			};
			if(parseInt("1") == 1 && parseInt("1") == 2){
				var standardId = "";
				if(standardId != null && standardId != undefined){
					params.standardId = standardId;
				}
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				$.post("/cmorder/" + type+ "/1", params, function(result){
					dialog.close();
					
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					
					var strParams = "id=" + result.attach;
	    			strParams += "&serial=10549840601068216320";
	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
	        	});
			}
		}); */
		//货到付款
		/* $(".payAfrecv").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑收货地址");
				return;
			}
			
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				var _remark = encodeURI($(".beizhulan").find("textarea").val());
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/1/3", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
	        	});
			}
		}); */
		//到店支付
		// $(".payInshop").click(function(event) {
			/* if($(this).prop("disabled") == true)
        		return false;
			
			var shopBranch = "";
			if(shopBranch == "") {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			var _fetchTime = $("#scheduledTime").val();
			if(null == _fetchTime || "" == _fetchTime) {
				doAlert("no", "请选择取货时间");
				return;
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				
				var _remark = $(".beizhulan").find("textarea").val();
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					fetchTime : _fetchTime,
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/2/2", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
	        	});
			} */
		// });
	
2016-07-21 10:46:46,628 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,628 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:46:46,628 htmlparser.py[line: 25] INFO: End tag: body
2016-07-21 10:46:46,628 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:46:46,629 htmlparser.py[line: 25] INFO: End tag: html
2016-07-21 10:46:46,629 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:46:46,629 htmlparser.py[line: 28] INFO: Data 
  	
	
2016-07-21 10:46:46,629 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,629 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,629 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:46:46,629 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:46:46,629 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	
2016-07-21 10:46:46,629 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:46:46,630 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:46:46,630 wechatno_wemall.py[line: 233] INFO: [['', '\r\n\t \r\n\r\n\r\n\r\n\r\n\r\n'], ['', '\r\n'], ['link', '  \r\n'], ['link', '\r\n'], ['html', '\r\n'], ['head', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['title', '微商城'], ['title', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['style', '\r\n* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nhtml {\r\n\tcolor: #626262;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\nbody {\r\n\tmargin-bottom: 20px;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\na {\r\n\ttext-decoration: none;\r\n}\r\n\r\nol,ul {\r\n\tlist-style: outside none none;\r\n}\r\n\r\n.left {\r\n\tfloat: left;\r\n}\r\n\r\n.right {\r\n\tfloat: right;\r\n}\r\n\r\n.in-block {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.orange {\r\n\tcolor: #c58d04;\r\n}\r\n\r\n.grey {\r\n\tcolor: #adadad;\r\n}\r\n\r\n.bg-color {\r\n\tbackground: #ececec;\r\n}\r\n\r\n#wrapper {\r\n\twidth: 100%;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.header {\r\n\twidth: 100%;\r\n}\r\n\r\n.header ul {\r\n\tposition:relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.header ul li {\r\n\twidth: 50%;\r\n\tfloat: left;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tbackground: #fff;\r\n\ttext-align: center;\r\n\tborder-bottom:1px solid #f38b44;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n     -webkit-box-sizing:border-box; /* Safari */\r\n     box-sizing:border-box;\r\n}\r\n.header ul .lines{\r\n\tposition: absolute;\r\n\twidth: 1%;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tborder-right: 1px solid #FDE5D4;\r\n\tleft: 49%;\r\n\ttop: -1px;\r\n } \r\n.header ul li a {\r\n\tcolor: #8b898a;\r\n}\r\n\r\n.tab_content>div {\r\n\theight: auto;\r\n\tfont-size: 0.8em;\r\n\tmargin: 0.5em 0;\r\n}\r\n\r\n.empty-p {\r\n\twidth: 80%;\r\n\tfloat: left;\r\n\tpadding: 0.5em 0;\r\n}\r\n\r\n.has-p {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 0 1em;\r\n    height: auto;\r\n    line-height: 2.5em;\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -webkit-box-sizing: -webkit-border-box;\r\n}\r\n.has-p-one{\r\n    background: url(/images/mall/contact.png) no-repeat left center;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-two{\r\n    background: url(/images/mall/take.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-three{\r\n    background: url(/images/mall/time.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.input-right{\r\n    position: relative;\r\n}\r\n.input-right-img{\r\n    width: 1em;\r\n    position: absolute;\r\n    right: 0.6em;\r\n    top: 0.3em;\r\n}\r\n#scheduledTime{\r\n    width:11em;\r\n    height: 2em;\r\n    border:1px solid #a0a0a0;\r\n    border-radius:4px;\r\n    color:#a0a0a0;\r\n    text-indent:.5em\r\n}\r\n.hiddens-p{\r\n    text-overflow:ellipsis; \r\n    overflow:hidden; \r\n    white-space:nowrap;  \r\n}\r\n\r\n.right-dashed {\r\n\tborder-left: 1px solid #eee;\r\n\tmargin-top: 1em;\r\n\tpadding-bottom:1em;\r\n}\r\n\r\n#edit {\r\n\tpadding: 1em 0 1em 2em;\r\n    width: 10px;\r\n}\r\n\r\n.header ul li.active{\r\n    border-bottom: 4px solid #f38b44;\r\n}\r\n.header ul li.active a{\r\n    color: #f38b44!important;\r\n}\r\n.buy_title{\r\n\tbackground:#f3f3f3;\r\n\tpadding:0.3em 1em;\r\n\tmargin: 0;\r\n}\r\n.content {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\toverflow: hidden;\t\r\n\tpadding-bottom:8%;\r\n}\r\n\r\n.selectList {\r\n\tborder-bottom: 1px solid #efefef;\r\n\tmargin: 0 auto;\r\n\toverflow: hidden;\r\n\tpadding: 0.5em 1em;\r\n\tfont-size: 0.8em;\r\n\tclear:both;\r\n}\r\n\r\n.selectList img {\r\n    display: inline-block;\r\n    float: left;\r\n    width: 25%;\r\n    border-radius: 4px;\r\n    -webkit-border-radius: 4px;\r\n}\r\n\r\n.button {\r\n\tdisplay:block;\t\r\n\twidth: 99%;\t\r\n\theight: 3em;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-radius: 4px;\r\n\tmargin:0 auto 0.5em auto;\r\n}\r\n\r\n.addbtn {\r\n\tbackground: #33CC66;\r\n}\r\n\r\n.btn-wrap-5 {\r\n\tpadding: 0 1em;\r\n}\r\n.buybtn {\r\n\twidth: 100%;\r\n\tbackground: #f68d3c;\r\n}\r\n\r\n.footer {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\tcolor: #b6b6b6;\r\n\toverflow: hidden;\r\n\ttext-align: left;\r\n\tmargin-bottom: 1em;\r\n}\r\n\r\n.all-end-button {\r\n\twidth: 90%;\r\n\tmargin: 1em auto 0.5em;\r\n}\r\n\r\n.all-end-button p:first-child {\r\n\ttext-align: left;\r\n}\r\n\r\n.error-page{\r\n\tbackground: #ddd;\r\n    padding-bottom: 2em;\r\n}\r\n.error-page img{\r\n    margin:0 auto;\r\n\tpadding-top: 2em;\r\n}\r\n.error-page p{\r\n    text-align:center;\r\n    color:#000;\r\n    width:80%;\r\n    margin:1em auto 2em;\r\n}\r\n#deliverFee{\r\n\ttext-align:left;\r\n\tfont-size:0.8em;\r\n\tcolor:#acb0af;\r\n}\r\n.order-div{\r\n    margin-left: 26.8%;            \r\n    position: relative;\r\n}\r\n.order-div>p:last-child{\r\n    width: 100%;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n}\r\n.m-t-n{\r\n    margin-top: 0;\r\n}\r\n.m-t-n>span{\r\n    display: inline-block;\r\n}\r\n.m-t-n>span:first-child{\r\n    width: 70%;\r\n}\r\n.m-t-n>span:last-child{\r\n    width: 30%;\r\n}\r\n.mtn-span{\r\n    float: right;\r\n}\r\n.t-r-span{\r\n\ttext-align:right;\r\n}\r\n.ccc{\r\n    color: #ccc;\r\n}\r\n.peisong{\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n    padding-right: 1em;\r\n    padding-top: 0.4em;\r\n}\r\n.peisong-detail{\r\n    color:#000;\r\n}\r\n.peisong-detail input{\r\n    border: none;\r\n}\r\n.peisong-detail div>p{\r\n    padding-left: 1.8em;\r\n    padding-top: 0.8em;\r\n    padding-bottom: 0.8em;\r\n    margin: 0;\r\n    clear:both;\r\n}\r\n\r\n.weipay{            \r\n    background: url(/images/weixin2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}        \r\n.peisong-detail div>p.pay{\r\n    background: url(/images/money2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.cardpay{\r\n    background: url(/images/cardpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.mdpay{\r\n    background: url(/images/mdpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n\r\n.peisong-detail div[class^="btn-wrap-"] {\r\n\tborder-bottom: 1px solid #dadada;\r\n\tpadding: 0 1em;\r\n\theight: 3em;\r\n\tposition: relative;\r\n}\r\n\r\n.weipay,.pay,.mdpay,.cardpay{\r\n    position: relative;\r\n}\r\n .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform:translateY(-50%);\r\n}\r\n\r\n.pure-img-check {\r\n\tbackground: url(/images/weixuan2.png) no-repeat left center;\r\n    background-size:1.2em 1.2em; \r\n    float: right;\r\n    height: 1.2em;\r\n    width: 1.2em;\r\n}\r\n\r\n.zhifu input{\r\n    display: none;\r\n}\r\n#deliverFeeDiv, #FetchDiv {\r\n\tborder-bottom: 1px solid #efefef;\r\n    padding: 0.5em 0;\r\n}\r\n#deliverFeeDiv p, #FetchDiv p{\r\n\ttext-align:right;\r\n}\r\n\r\n#remark {\r\n\tpadding: 0.5em 1em;\r\n\theight: 4em;\r\n\tfont-size: 1.0em;\r\n}\r\n'], ['style', '\r\n'], ['body', '\r\n\t'], ['div', '\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t'], ['ul', '\r\n\t\t\t\t\t\t'], ['a', '快递发货'], ['a', '\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['a', '到店自提'], ['a', '\r\n\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\r\n\t\t\t'], ['span', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '联系方式：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '17817738278'], ['span', '(17817738178)'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '配送地址：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '北京市县密云县把'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n                                '], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '请选择要取货的店铺和时间以确保您能快捷方便取到货物'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t'], ['img', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t'], ['img', ' \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', '接口-测试商品1'], ['span', '￥0.01'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', 'X1'], ['span', '\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['div', '\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['p', '（买满￥0.00元包邮)'], ['p', '\r\n\t\t\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['span', '备注：'], ['span', '\r\n                   \t'], ['span', '\r\n                   \t\t'], ['textarea', '\r\n                   \t'], ['textarea', '\r\n\t\t\t\t'], ['textarea', '\r\n\t\t\t'], ['textarea', '\r\n\t\t\t'], ['p', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n                \t\r\n                     \t'], ['p', '微信支付'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                    \r\n                  \t'], ['input', '\r\n                  \t\r\n                  \t'], ['div', '\r\n                  \t\r\n                     \t'], ['p', '货到付款'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n\t\t\r\n                    '], ['div', '\r\n                    \r\n                    \t'], ['p', '到店支付'], ['span', '\r\n                    \t\t'], ['input', '\r\n                    \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n                   \t\r\n                   \t'], ['div', '\r\n                   \t\r\n                   \t\t'], ['p', '储值卡支付'], ['span', '\r\n                   \t\t\t'], ['input', '\r\n                   \t\t'], ['input', '\r\n                   \t\r\n                    '], ['input', '\r\n                '], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t\r\n\t\t\r\n\t'], ['input', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n    \r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t$("input[name=\'zhifu\']:checked").prev(\'.pure-img\').attr(\'src\',\'/images/check.png\');\r\n\t\t\tvar tab = parseInt("1");\r\n\t\t\tif(tab == 1){\r\n\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t}else if(parseInt("1") != 0){\r\n\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t}\r\n\t\t\t// 控制显示图片比例\r\n\t\t\tvar img_left_heights = $(".selectList img").width()*(0.75);\r\n\t\t\t$(".selectList img,.order-div").css(\'height\',img_left_heights);\r\n\t\t\t\r\n\t\t\t// 取货日期\r\n\t\t\tvar now = new Date();\r\n            $(\'#scheduledTime\').mobiscroll().datetime({\r\n                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),\r\n                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),\r\n                stepMinute: 30,\r\n                dateOrder :"yymmdd",\r\n                dateFormat:"yy-mm-dd",\r\n                timeWheels:"HHii",\r\n                timeFormat:"HH:ii",\r\n                //invalid: [{ start: \'00:00\', end: \'08:00\' },{ start: \'22:00\', end: \'23:59\' }],\r\n                theme: \'ios7\',\r\n                lang: \'zh\',\r\n                display: \'bottom\',\r\n                mode: \'mixed\'\r\n            });\r\n            $(\'#scheduledTime\').click(function(){\r\n                $(\'#scheduledTime\').mobiscroll(\'show\'); \r\n                return false;\r\n            });\r\n            \r\n\t\t\t$("ul li").click(function() {\r\n\t\t\t\t$("ul li").removeClass("active");\r\n\t\t\t\t$(this).addClass("active");\r\n\t\t\t\tif($(this).attr("data")=="#deliverFeeDiv"){\r\n\t\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t\t}\r\n\t\t\t\t$(".tab_content").hide();\r\n\t\t\t\tvar href = $(this).find("a").attr("href");\r\n\t\t\t\t$(href).show();\r\n\t\t\t\t\r\n\t\t\t\tif(href.endWith("tab1")) {\r\n\t\t\t\t\t$(".btn-wrap-2").show();\r\n\t\t\t\t\t$(".btn-wrap-3").hide();\r\n\t\t\t\t} else if(href.endWith("tab2")) {\r\n\t\t\t\t\t$(".btn-wrap-2").hide();\r\n\t\t\t\t\t$(".btn-wrap-3").show();\r\n\t\t\t\t}\r\n\t\t\t\t//清空已选择的支付方式\r\n\t\t\t\t$("input[name=\'zhifu\']").prop("checked", false);\r\n\t\t\t\t$(".zhifu .pure-img-check").css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t//商户设置的满额包邮价\r\n\t\t\t/* var noDeliverFee = toPrice(parseFloat("0")/100);\r\n\t\t\tvar totalFee = parseFloat("0.01");\r\n\t\t\tif(totalFee > noDeliverFee){\r\n\t\t\t\t$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);\r\n\t\t\t\t$("#deliverFee").text("含运费：￥0.00");\r\n\t\t\t} */\r\n\t\t\t$(\'.zhifu>div\').click(function(){\r\n\t            $("input[name=zhifu]").prop("checked", false);\r\n\t            $(".pure-img-check").css(\'backgroundImage\',\'url(/images/weixuan2.png)\');\r\n\t            var img_obj = $(this).find(\'.pure-img-check\');\r\n\t            var backgroundImage = img_obj.css(\'background-image\');\r\n\t            var input_obj = $(this).find(\'input\');\r\n\t            if(backgroundImage.indexOf("weixuan2.png") > 0){\r\n\t                img_obj.css(\'background-image\',\'url(/images/check.png)\');\r\n\t                input_obj.prop("checked", "checked");\r\n\t            }else{\r\n\t                img_obj.css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t                input_obj.prop("checked", false);\r\n\t            }\r\n\t        });\r\n\t\t});\r\n\t\t\r\n\t\tfunction validateRemark(){\r\n\t\t\tif($(\'.beizhulan textarea\').val() != "" && $(\'.beizhulan textarea\').val() != undefined){\r\n\t\t\t\tif($(\'.beizhulan textarea\').val().length>30){\r\n\t\t\t\t\t$.dialog({\r\n                        widths : \'80%\',\r\n                        content : \'您输入的备注过长，请不要超过30个字\',\r\n                        title : \'no\',\r\n                        fullok : function() {\r\n                            return true;\r\n                        },                       \r\n                        lock : true\r\n                    });\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t$(".submit").click(function(event){\r\n\t\t\tvar payType = $("input[name=\'zhifu\']:checked").val();\r\n\t\t\tif(null == payType || "" == payType || typeof(payType) == "undefined") {\r\n       \t\t $.dialog({\r\n                    widths : \'80%\',\r\n                    content : \'请选择支付方式\',\r\n                    title : \'no\',\r\n                    fullok : function() {\r\n                        return true;\r\n                    },                       \r\n                    lock : true\r\n                });\r\n       \t\t\treturn;\r\n       \t\t}\r\n\t\t\t$.dialog({\r\n                content : "确认提交订单？",\r\n                title : "no",\r\n                okText: \'取消\',\r\n                cancelText : \'确定\', \r\n                ok : function() {\r\n                \t$(".ft-right").removeAttr("disabled");\r\n                \treturn;\r\n                },\r\n                cancel : function() {                        \t\r\n               \t\t\r\n               \t\tif(payType == 1){\r\n               \t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\tdoAlert("no", "无效物流方式");\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "id=" + result.attach;\r\n            \t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n            \t    \t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n               \t\t}\r\n               \t\t\r\n    \t\t\t\tif(payType == 2){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar shopBranch = "";\r\n    \t\t\t\t\tif(shopBranch == "") {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n    \t\t\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请选择取货时间\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tfetchTime : _fetchTime,\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 3){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑收货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 4){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'无效物流方式\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/4", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "?orderId=" + result.attach;\r\n            \t\t\t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\tstrParams += "&serial=10549840601068216320";\r\n                \t\t\t\twindow.location.href = "/pay/5"+strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n            \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n                },\r\n                lock : true\r\n            });\r\n\t\t});\r\n\t\t\r\n\t\t//微信支付\r\n\t\t/* $(".payUseWX").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar type = 0;\r\n\t\t\t$(".tab_content").each(function(){\r\n\t\t\t\tif($(this).css("display") != "none") {\r\n\t\t\t\t\tvar attrId = $(this).attr("id");\r\n\t\t\t\t\tif(attrId == "tab1") {\r\n\t\t\t\t\t\ttype = 1;//快递取货\r\n\t\t\t\t\t} else if(attrId == "tab2") {\r\n\t\t\t\t\t\ttype = 2;//门店自提\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(type <= 0) {\r\n\t\t\t\tdoAlert("no", "无效物流方式");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(type == 1) {\r\n\t\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar _fetchTime = "";\r\n\t\t\tif(type == 2) {\r\n\t\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n\t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n\t\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar shopBranch = "";\r\n\t\t\t\tif(shopBranch == "") {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\tvar params = {\r\n\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\tfm : "1",\r\n\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\tamount : "1",\r\n\t\t\t\tcartIds : "",\r\n\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\tremark : _remark\r\n\t\t\t};\r\n\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\tvar standardId = "";\r\n\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar strParams = "id=" + result.attach;\r\n\t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n\t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//货到付款\r\n\t\t/* $(".payAfrecv").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//到店支付\r\n\t\t// $(".payInshop").click(function(event) {\r\n\t\t\t/* if($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar shopBranch = "";\r\n\t\t\tif(shopBranch == "") {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t\r\n\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t} */\r\n\t\t// });\r\n\t'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n  \t\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t//var SHOP_SERIAL = getCookie("SHOP_SERIAL");\r\n\t\t\tvar SHOP_SERIAL = "10549840601068216320";\r\n\t\t\tif(null != SHOP_SERIAL && SHOP_SERIAL != ""){\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \'/saofu_mobile/checkUserBindStatus\',\r\n\t\t\t\t\tdata : {\r\n\t\t\t\t\t\t"serial" : SHOP_SERIAL\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype : \'post\',\r\n\t\t\t\t\tcache : false,\r\n\t\t\t\t\tdataType : \'json\',\r\n\t\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\tvar guildFocusStr = data.guildFocusStr;\r\n\t\t\t\t\t\t\tif(guildFocusStr != null && guildFocusStr == "1"){\r\n\t\t\t\t\t\t\t\tvar hasBindedShop = data.hasBindedShop;\r\n\t\t\t\t\t\t\t\tif(hasBindedShop == "0"){\r\n\t\t\t\t\t\t\t\t\tvar qrName = data.QRPublicName;\r\n\t\t\t\t\t\t\t\t\tvar qrUrl = data.QRCodeURL;\r\n\t\t\t\t\t\t\t\t\tif(qrName != "" && qrUrl != ""){\r\n\t\t\t\t\t\t\t\t\t\tvar params = qrName+"**"+qrUrl;\r\n\t\t\t\t\t\t\t\t\t\tfollowModule(params);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t},\r\n\t\t\t\t\terror : function() {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t'], ['script', '\r\n']]
2016-07-21 10:46:46,633 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-21 10:46:46,633 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-21 10:46:46" WHERE executed_history_id = 20160721104645 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:46:46,635 testcase.py[line: 101] INFO: 测试用例[id=102, name=test-n-点击立即购买按钮]执行成功
2016-07-21 10:46:46,635 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-21 10:46:46,635 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-21 10:46:46" WHERE executed_history_id = 20160721104645 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:46:46,637 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-21 10:46:46,637 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-21 10:46:46,638 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-21 10:46:46,638 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160721104645',)
2016-07-21 10:46:46,639 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-21 10:46:46,639 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160721104645')
2016-07-21 10:46:46,640 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-21 10:46:46,641 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160721104645')
2016-07-21 10:46:46,641 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-21 10:46:46,642 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160721104645')
2016-07-21 10:46:46,642 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-21 10:46:46,642 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160721104645')
2016-07-21 10:46:46,643 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-21 10:46:46,644 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721104645',)
2016-07-21 10:46:46,645 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-21 10:46:46,645 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721104645')
2016-07-21 10:46:46,646 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-21 10:46:46,646 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-21 10:46:46,646 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721104645',)
2016-07-21 10:46:46,647 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-21 10:46:46,648 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721104645')
2016-07-21 10:46:46,649 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-21 10:46:46,649 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160721104645')
2016-07-21 10:46:46,651 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-21 10:46:46,651 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160721104645')
2016-07-21 10:46:46,652 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-21 10:46:46,653 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160721104645.html
2016-07-21 10:46:46,653 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-21 10:46:46,654 main.py[line: 252] INFO: 生成测试报告成功
2016-07-21 10:46:46,862 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160721104645.html
2016-07-21 10:46:46,862 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-21 10:46:46,862 main.py[line: 266] INFO: 发送邮件成功
2016-07-21 10:58:17,788 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-21 10:58:17,797 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-21 10:58:17,802 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-21 10:58:17,855 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-21 10:58:17,855 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-21 10:58:17,857 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-21 10:58:17,857 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-21 10:58:17,859 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-21 10:58:17,860 main.py[line: 187] INFO: 按套件运行测试
2016-07-21 10:58:17,861 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-21 10:58:18,141 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-21 10:58:18,142 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-21 10:58:18,142 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-21 10:58:18,382 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-21 10:58:18,382 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721105817', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-21 10:58:18,383 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-21 10:58:18,383 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-21 10:58:18,383 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721105817', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200, "goods_name":"接口-测试商品1"}', 'Block', '', '')
2016-07-21 10:58:18,385 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-21 10:58:18,385 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-21 10:58:18,386 wechatno_wemall.py[line: 91] INFO: 正在发起GET请求...
2016-07-21 10:58:18,386 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-21 10:58:18,386 httpprotocol.py[line: 51] INFO: {'Cookie': '10549840601068216320=ous64uFCCLMyXYDJ-MkNilyCI5CY2'}
2016-07-21 10:58:18,544 htmlparser.py[line: 28] INFO: Data 






2016-07-21 10:58:18,544 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,545 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,545 htmlparser.py[line: 25] INFO: End tag: link
2016-07-21 10:58:18,545 htmlparser.py[line: 28] INFO: Data   

2016-07-21 10:58:18,545 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,546 htmlparser.py[line: 19] INFO: Start tag: html
2016-07-21 10:58:18,546 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,546 htmlparser.py[line: 19] INFO: Start tag: head
2016-07-21 10:58:18,547 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,547 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,547 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,548 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,548 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,548 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,548 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,549 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,549 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,549 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,550 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,550 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,550 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,550 htmlparser.py[line: 19] INFO: Start tag: title
2016-07-21 10:58:18,551 htmlparser.py[line: 28] INFO: Data 微商城
2016-07-21 10:58:18,551 htmlparser.py[line: 25] INFO: End tag: title
2016-07-21 10:58:18,551 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,551 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,552 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,552 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,552 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,553 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,553 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,553 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,554 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,554 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,554 htmlparser.py[line: 25] INFO: End tag: head
2016-07-21 10:58:18,555 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,555 htmlparser.py[line: 19] INFO: Start tag: style
2016-07-21 10:58:18,556 htmlparser.py[line: 28] INFO: Data 
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
	overflow: hidden;
	border-bottom: 1px solid #eaeaea;
}

.top {
	width: 90%;
	margin: 0 auto;
	padding-bottom: 1em;
}

.top p {
	margin: 0.5em 0;
	font-size: 0.8em;
}
.top>p:first-child{
	font-size:1.1em;
}

.fonts {
	font-size: 1em !important;
	margin: 0.8em 0 !important;
}


.jian {
	display: inline-block;
	width: 1.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	border-right: 0 none;
	border-top-left-radius: 4px;
	border-bottom-left-radius: 4px;
	text-align: center;
	margin-left:0.4em;
}

.val {
	background: #fff;
	display: inline-block;
	width: 3.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	text-align: center;
}

.jia {
	display: inline-block;
	width: 1.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	border-left: 0 none;
	border-top-right-radius: 4px;
	border-bottom-right-radius: 4px;
	text-align: center;
}

.button {
	width: 47%;
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
}

.addbtn {
	background: #edb23e;
	margin-right: 3%;
}

.buybtn {
	background: #f96364;
}

.bottom {
	border-top: 0.5em solid #eeeeee;
	padding-bottom: 3em;
    position: relative;
    width:100%;
}

.bottom .bottom-details{
	width:100%;	
	word-break:break-all;
	overflow-x: hidden; 
}

.bottom-details h1,.bottom-details h2,.bottom-details h3,.bottom-details h4,.bottom-details h5{
	word-break:break-all;
}

.bottom > p:first-child {
	text-indent: 1em;
}

.bottom > p img{
    width: 1em;
    position: absolute;
    top:0.8em;
    right: 1em;
}

.bottom-details p {
	text-indent: 1em;
	word-break:break-all;
}

.inline-padding {
	display: inline-block;
	padding-left: 0.8em;
}

.inline-paddings {
	display: inline-block;
	padding-left: 1.6em;
}

.footer {
	width: 100%;
	height: 3em;
	position: fixed;
	bottom: 0;
	background: #fff;
	color: #b6b6b6;
	text-align: center;
	border-top: 1px solid #eaeaea;
}

.footer a {
	color: #626262;
	display: inline-block;
	height:1em;
	line-height:1em;
	padding-top: 1em;
	padding-bottom: 1em;
}
.footer .inline-paddings-right{
    padding-top: 1em;
    float: right;
}
.footer img {
	display: inline-block;
	width: 1em;
}

.top-bg{
    position: fixed;
    bottom: 3.5em;
    right: 1em;
    width: 2em;
    display: none;
    filter:alpha(opacity=40);       /* IE */
    -moz-opacity:0.4;              /* Moz + FF */
    opacity: 0.4;     
}
.spec{
    display: inline-block;
    margin: 0 1em 0.8em 0;
    font-size:0.7em;
    padding:0.3em 1em;
    border:1px solid #ccc;
    border-radius:3px;
    cursor:pointer;
}
.fonts a.active{
    border: 2px solid #d2b57b;
}
.guige{
    float: left;
    width: 40px;
}
.guige-detail{
    margin-left: 40px;
}
.guige-detail a[disabled]{
    background: none repeat scroll 0 0 #fff;
    color: #e3e3e3;
    cursor: default;
}
/* 本例子css -------------------------------------- */
.slideBox {
	position: relative;
	width: 100%;
	height: 240px;
	overflow: hidden;
}

.slideBox .hd {
	position: absolute;
	width: 100%;
	height: 27px;
	bottom: 0;
	left: 0;
	z-index: 1;
}

.slideBox .hd img {
	width: 11px;
}

.slideBox .bd {
	position: relative;
	z-index: 0;
}

.slideBox .bd li {
	position: relative;
}

.slideBox .bd li img {
	width: 100%;
	height: 240px;
	display: block;
}

.slideBox .bd li a {
	-webkit-tap-highlight-color: rgba(0, 0, 0, 0); /* 取消链接高亮 */
}

.slideBox .hd a {
	display: block;
	width: auto;
	position: absolute;
	bottom: 0.5em;
	right: 0.5em;
	padding: 0.1em 0.7em;
	text-align: center;
	color: #fff;
	background-color: rgba(0, 0, 0, 0.6);
	border-radius: 4px;
}
.slideBox>.a-img{
    position: fixed;
    top:1em;
    right: 0.5em;
    display: block;
    width:2em;
    height: 2em;
    border-radius: 2em;
    background-color: rgba(0, 0, 0, 0.6); 
    z-index: 2;
}
.slideBox>.a-img>img{
    width: 1em;            
    position: absolute;
    top:50%;
    left: 50%;
    margin-top:-0.5em;
    margin-left: -0.5em;
}
.carts{
	position: relative;
}
.cartNum{                      
    display: inline-block;
    width: 1.2em;
    height: 1.2em;
    line-height:1.2em;
    border-radius: 1.5em;
    background:#ff0000;  
    position: absolute;
    right: -0.7em;
    top: 0.3em;
    color: #fff;
}
#soldCount{
	float: right; 
	font-size: 0.8em; 
	padding-top: 0.3em;
	color:#adadad;
}
.freight{
	font-size:0.8em;
	color:#adadad;
}
.standard_sku{
	font-size:0.9em;
	color:#adadad;
}
@media all and (max-width:320px){
	.slideBox{
		height:240px;
	}
	.slideBox .bd li img {
		height:240px;
	}
}
@media all and (min-width:321px) and (max-width:360px){
	.slideBox{
		height:270px;
	}
	.slideBox .bd li img {
		height:270px;
	}
}
@media all and (min-width:361px) and (max-width:375px){
	.slideBox{
		height:281px;
	}
	.slideBox .bd li img {
		height:281px;
	}
}
@media all and (min-width:376px) and (max-width:384px){
	.slideBox{
		height:288px;
	}
	.slideBox .bd li img {
		height:288px;
	}
}
@media all and (min-width:385px) and (max-width:414px){
	.slideBox{
		height:311px;
	}
	.slideBox .bd li img {
		height:311px;
	}
}
@media all and (min-width:415px){
	.slideBox{
		height:360px;
	}
	.slideBox .bd li img {
		height:360px;
	}
}

2016-07-21 10:58:18,557 htmlparser.py[line: 25] INFO: End tag: style
2016-07-21 10:58:18,557 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,558 htmlparser.py[line: 19] INFO: Start tag: body
2016-07-21 10:58:18,558 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,558 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,558 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 10:58:18,559 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,559 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,559 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,560 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,560 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,560 htmlparser.py[line: 28] INFO: Data 
                  
2016-07-21 10:58:18,560 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,561 htmlparser.py[line: 28] INFO: Data 
              	
2016-07-21 10:58:18,561 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,561 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,562 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,562 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,562 htmlparser.py[line: 19] INFO: Start tag: ul
2016-07-21 10:58:18,562 htmlparser.py[line: 28] INFO: Data 
						
							
								
2016-07-21 10:58:18,563 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 10:58:18,563 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,563 htmlparser.py[line: 25] INFO: End tag: img
2016-07-21 10:58:18,563 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 10:58:18,564 htmlparser.py[line: 28] INFO: Data 
							
						
					
2016-07-21 10:58:18,564 htmlparser.py[line: 25] INFO: End tag: ul
2016-07-21 10:58:18,564 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,564 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,565 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,565 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,565 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,565 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,566 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,566 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,566 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,567 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,567 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,567 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 10:58:18,567 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,568 htmlparser.py[line: 28] INFO: Data 		
		
2016-07-21 10:58:18,568 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,568 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,568 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,569 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,569 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,569 htmlparser.py[line: 28] INFO: Data 
					接口-测试商品1
				
2016-07-21 10:58:18,569 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,570 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,570 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,570 htmlparser.py[line: 28] INFO: Data 
					接口测试专用,烦请勿删,勿操作
				
2016-07-21 10:58:18,570 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,571 htmlparser.py[line: 28] INFO: Data 				
				
2016-07-21 10:58:18,571 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,571 htmlparser.py[line: 28] INFO: Data 
					单价:
					
2016-07-21 10:58:18,572 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,572 htmlparser.py[line: 28] INFO: Data 
					
					
						
							￥0.01
						
						
					
					
					
2016-07-21 10:58:18,572 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,572 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,573 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,573 htmlparser.py[line: 28] INFO: Data 销量:8件
2016-07-21 10:58:18,573 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,573 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,574 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,574 htmlparser.py[line: 28] INFO: Data 
				
					
2016-07-21 10:58:18,574 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,574 htmlparser.py[line: 28] INFO: Data 运费:
2016-07-21 10:58:18,575 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,575 htmlparser.py[line: 28] INFO: Data 4.00元
2016-07-21 10:58:18,575 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,575 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,576 htmlparser.py[line: 28] INFO: Data 
				
				
				
2016-07-21 10:58:18,576 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,576 htmlparser.py[line: 28] INFO: Data 
					数量:
2016-07-21 10:58:18,577 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,577 htmlparser.py[line: 28] INFO: Data -
2016-07-21 10:58:18,577 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,578 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,578 htmlparser.py[line: 28] INFO: Data 1
2016-07-21 10:58:18,578 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,579 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,579 htmlparser.py[line: 28] INFO: Data +
2016-07-21 10:58:18,579 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,580 htmlparser.py[line: 28] INFO: Data 
					
						
						
							
2016-07-21 10:58:18,580 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,580 htmlparser.py[line: 28] INFO: Data (库存：999992件)
2016-07-21 10:58:18,581 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,581 htmlparser.py[line: 28] INFO: Data 
						
						
						
					
				
2016-07-21 10:58:18,581 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,582 htmlparser.py[line: 28] INFO: Data  
				
2016-07-21 10:58:18,582 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,582 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,582 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,583 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,583 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,583 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,584 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,584 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,584 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,584 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,585 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,585 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,585 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,585 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,586 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,586 htmlparser.py[line: 28] INFO: Data 图文详情
2016-07-21 10:58:18,586 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,586 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,586 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,587 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,587 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,587 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,587 htmlparser.py[line: 28] INFO: Data 											
2016-07-21 10:58:18,587 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,587 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,587 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 10:58:18,588 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 10:58:18,588 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,588 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,588 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 10:58:18,588 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 10:58:18,589 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,589 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,589 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 10:58:18,589 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 10:58:18,589 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,589 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,590 htmlparser.py[line: 28] INFO: Data 接口测试专用商品,商品详情简介
2016-07-21 10:58:18,590 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 10:58:18,590 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 10:58:18,590 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,590 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,590 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,590 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,591 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,591 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 10:58:18,591 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,591 htmlparser.py[line: 28] INFO: Data 		
	
2016-07-21 10:58:18,591 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,592 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,592 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,592 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,592 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,592 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,593 htmlparser.py[line: 28] INFO: Data 
    
2016-07-21 10:58:18,593 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,593 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,593 htmlparser.py[line: 28] INFO: Data 
    
2016-07-21 10:58:18,593 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,593 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,594 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,594 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,594 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,594 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,594 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,595 htmlparser.py[line: 28] INFO: Data 
			
	var priceLimita = $(".orange").text();
	var soldCounta = $("#soldCount").text();
	var skua = $(".standard_sku").text();
	
            // 滚动窗口来判断按钮显示或隐藏
            $(window).scroll(function() {
                if ($(this).scrollTop() > 120) {
                    $('.top-bg').show(100);
                } else {
                    $('.top-bg').hide(100);
                }
            });
            
            function choose(obj,price,sku,standardSoldCount){
            	if(!$(obj).attr('disabled')){
            	if($(obj).hasClass('active')){
            		$(".orange").text(priceLimita);
                	$("#soldCount").text(soldCounta);
                	$(".standard_sku").text(skua);
                	 $(obj).removeClass('active');
            	}else{
	            	$(".standard_sku").text("(库存:"+sku+"件)");
	            	$(".orange").text("￥"+price);
	            	$("#soldCount").text("销量:"+standardSoldCount+"件");
	            	$(".spec").removeClass('active');
                    $(obj).addClass('active');
            	}
            	}
            }
            
           
            
            $(function(){
            	/* $(".spec").tap(function(){
                    if(!$(this).attr('disabled')){
                        if($(this).hasClass('active')){
                            $(this).removeClass('active');
                            
                        }else{
                        	
                        }
                    }                    
                }); */
                
            	TouchSlide({
    				slideCell : "#slideBox",
    				mainCell : ".bd ul",
    				effect : "leftLoop",
    				pageStateCell : ".pageState"
    			});            	            	
				
            	$(".bottom-details img").width($(".top").width());
            });
            
            // jQuery实现动画滚动
            $('.top-bg').click(function(event) {
                event.preventDefault();
                $('html, body').scrollTop(0);
            });
			
			$(".bottom > p img").click(function(){
                $(this).parent().next().toggle();
                if($(this).parent().next().css("display")=="block"){
                    $(this).attr("src","/images/mall/down.png");
                }else{
                    $(this).attr("src","/images/mall/up.png");
                }
            });
            
            $(".jia").click(function(){
            	var val = $(this).siblings(".val");
            	var count = parseInt(val.text());
                if (isNaN(count)) {
                	count = 1;
                } else {
                	count += 1;
                }
                val.text(count);
            });
            $(".jian").click(function(){
            	var val = $(this).siblings(".val");
            	var count = parseInt(val.text());
                if (isNaN(count) || count <= 1) {
                	count = 1;
                } else {
                	count -= 1;
                }
                val.text(count);
            });
            
            $(".addbtn").click(function(event){
            	if($(this).prop("disabled") == true)
            		return false;
            	var params = {
   					mallGoodsId : "26838",
   					standardId : standardId,
   					amount : $(".val").text(),
   					serial : "10549840601068216320",
   					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2"
   				};
            	
            	var standard = 1;
            	if(standard == 2 && $(".active").length < 1){
    				doAlert("no", "请选择商品的规格");
    				return;
    			}
            	if(standard == 2){
            		var standardId = $(".active").attr("data");
    				params.standardId = standardId;
            	}
            	$.post("/addtocart", params, function(result){
            		if (null == result || !result.success) {
            			toast(result.message);
    					return;
    				}
    				//更新购物车数量
    				/* var cartNum = $(".cartNum").text();
    				if (null == cartNum || "" == cartNum || typeof (cartNum) == undefined) {
    					$(".carts").append("<span class='cartNum'>1</span>");
    				} else {
    					if (null != result.attach && result.attach > 0) {
    						$(".cartNum").text(result.attach);
    					}
    				} */
    				toast("已经成功加入购物车");
            	});
            });
		$(".buybtn").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			$(this).attr("disabled","disabled");
			var standard = 1;
        	if(standard == 2 && $(".active").length < 1){
				doAlert("no", "请选择商品的规格");
				$(this).removeAttr("disabled");
				return;
        	}
        	if(standard == 2){
        		var standardId = $(".active").attr("data");
        		window.location.href = "/mall/tobuy/1?mallGoodsId=26838&amount=" + $(".val").text() + "&type=1&serial=10549840601068216320&standardId="+standardId;
        		return;
        	}
			window.location.href = "/mall/tobuy/1?mallGoodsId=26838&amount=" + $(".val").text() + "&type=1&serial=10549840601068216320";
		});
	
2016-07-21 10:58:18,595 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,595 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,596 htmlparser.py[line: 25] INFO: End tag: body
2016-07-21 10:58:18,596 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,596 htmlparser.py[line: 25] INFO: End tag: html
2016-07-21 10:58:18,596 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,596 htmlparser.py[line: 28] INFO: Data 
  	
	
2016-07-21 10:58:18,596 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,597 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,597 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,597 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,597 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	
2016-07-21 10:58:18,597 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,597 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,597 mydb.py[line: 77] INFO: query：SELECT name FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-21 10:58:18,601 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-21 10:58:18,602 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-21 10:58:18" WHERE executed_history_id = 20160721105817 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:58:18,605 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-21 10:58:18,605 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-21 10:58:18,606 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-21 10:58:18" WHERE executed_history_id = 20160721105817 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:58:18,747 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-21 10:58:18,747 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721105817', '102', 'test-n-点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-21 10:58:18,748 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-点击立即购买按钮]
2016-07-21 10:58:18,748 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-21 10:58:18,748 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721105817', '102', 'test-n-点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-21 10:58:18,749 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-21 10:58:18,749 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-21 10:58:18,750 wechatno_wemall.py[line: 228] INFO: 正在发起GET请求...
2016-07-21 10:58:18,750 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?serial=10549840601068216320&amount=1&type=1&mallGoodsId=26838
2016-07-21 10:58:18,750 httpprotocol.py[line: 51] INFO: {'Cookie': '10549840601068216320=ous64uFCCLMyXYDJ-MkNilyCI5CY2'}
2016-07-21 10:58:18,779 wechatno_wemall.py[line: 234] INFO: 正在解析返回结果:
	 





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="Expires" CONTENT="0">
<meta http-equiv="Cache-Control" CONTENT="no-cache">
<meta http-equiv="Pragma" CONTENT="no-cache">
<title>微商城</title>
<link rel="stylesheet" href="/css/mall/pure.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/grids-core.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/zepto.alert.css?v=3.4.0-f5bd5">

<link rel="stylesheet" href="/css/mall/mobiscroll.scroller.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/mobiscroll.scroller.ios7.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/mobiscroll.animation.css?v=3.4.0-f5bd5">
</head>
<style type="text/css">
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
	overflow-y: auto;
	overflow-x: hidden;
}

body {
	margin-bottom: 20px;
	overflow-y: auto;
	overflow-x: hidden;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
}

.header ul {
	position:relative;
	overflow: hidden;
}

.header ul li {
	width: 50%;
	float: left;
	height: 2.8em;
	line-height: 2.8em;
	background: #fff;
	text-align: center;
	border-bottom:1px solid #f38b44;
	-moz-box-sizing:border-box; /* Firefox */
     -webkit-box-sizing:border-box; /* Safari */
     box-sizing:border-box;
}
.header ul .lines{
	position: absolute;
	width: 1%;
	height: 2.8em;
	line-height: 2.8em;
	border-right: 1px solid #FDE5D4;
	left: 49%;
	top: -1px;
 } 
.header ul li a {
	color: #8b898a;
}

.tab_content>div {
	height: auto;
	font-size: 0.8em;
	margin: 0.5em 0;
}

.empty-p {
	width: 80%;
	float: left;
	padding: 0.5em 0;
}

.has-p {
    width: 100%;
    margin: 0 auto;
    padding: 0 1em;
    height: auto;
    line-height: 2.5em;
    text-align: left;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -webkit-box-sizing: -webkit-border-box;
}
.has-p-one{
    background: url(/images/mall/contact.png) no-repeat left center;
    background-size: 12px 12px;
}
.has-p-two{
    background: url(/images/mall/take.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.has-p-three{
    background: url(/images/mall/time.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.input-right{
    position: relative;
}
.input-right-img{
    width: 1em;
    position: absolute;
    right: 0.6em;
    top: 0.3em;
}
#scheduledTime{
    width:11em;
    height: 2em;
    border:1px solid #a0a0a0;
    border-radius:4px;
    color:#a0a0a0;
    text-indent:.5em
}
.hiddens-p{
    text-overflow:ellipsis; 
    overflow:hidden; 
    white-space:nowrap;  
}

.right-dashed {
	border-left: 1px solid #eee;
	margin-top: 1em;
	padding-bottom:1em;
}

#edit {
	padding: 1em 0 1em 2em;
    width: 10px;
}

.header ul li.active{
    border-bottom: 4px solid #f38b44;
}
.header ul li.active a{
    color: #f38b44!important;
}
.buy_title{
	background:#f3f3f3;
	padding:0.3em 1em;
	margin: 0;
}
.content {
	width: 100%;
	background: #fff;
	overflow: hidden;	
	padding-bottom:8%;
}

.selectList {
	border-bottom: 1px solid #efefef;
	margin: 0 auto;
	overflow: hidden;
	padding: 0.5em 1em;
	font-size: 0.8em;
	clear:both;
}

.selectList img {
    display: inline-block;
    float: left;
    width: 25%;
    border-radius: 4px;
    -webkit-border-radius: 4px;
}

.button {
	display:block;	
	width: 99%;	
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
	margin:0 auto 0.5em auto;
}

.addbtn {
	background: #33CC66;
}

.btn-wrap-5 {
	padding: 0 1em;
}
.buybtn {
	width: 100%;
	background: #f68d3c;
}

.footer {
	width: 100%;
	background: #fff;
	color: #b6b6b6;
	overflow: hidden;
	text-align: left;
	margin-bottom: 1em;
}

.all-end-button {
	width: 90%;
	margin: 1em auto 0.5em;
}

.all-end-button p:first-child {
	text-align: left;
}

.error-page{
	background: #ddd;
    padding-bottom: 2em;
}
.error-page img{
    margin:0 auto;
	padding-top: 2em;
}
.error-page p{
    text-align:center;
    color:#000;
    width:80%;
    margin:1em auto 2em;
}
#deliverFee{
	text-align:left;
	font-size:0.8em;
	color:#acb0af;
}
.order-div{
    margin-left: 26.8%;            
    position: relative;
}
.order-div>p:last-child{
    width: 100%;
    margin: 0;
    position: absolute;
    bottom: 0;
    left: 0;
}
.m-t-n{
    margin-top: 0;
}
.m-t-n>span{
    display: inline-block;
}
.m-t-n>span:first-child{
    width: 70%;
}
.m-t-n>span:last-child{
    width: 30%;
}
.mtn-span{
    float: right;
}
.t-r-span{
	text-align:right;
}
.ccc{
    color: #ccc;
}
.peisong{
    text-align: right;
    margin-bottom: 0;
    padding-right: 1em;
    padding-top: 0.4em;
}
.peisong-detail{
    color:#000;
}
.peisong-detail input{
    border: none;
}
.peisong-detail div>p{
    padding-left: 1.8em;
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    margin: 0;
    clear:both;
}

.weipay{            
    background: url(/images/weixin2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}        
.peisong-detail div>p.pay{
    background: url(/images/money2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.cardpay{
    background: url(/images/cardpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.mdpay{
    background: url(/images/mdpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}

.peisong-detail div[class^="btn-wrap-"] {
	border-bottom: 1px solid #dadada;
	padding: 0 1em;
	height: 3em;
	position: relative;
}

.weipay,.pay,.mdpay,.cardpay{
    position: relative;
}
 .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{
    width: 1.2em;
    height: 1.2em;
    position: absolute;
    right: 0;
    top: 50%;
    transform:translateY(-50%);
}

.pure-img-check {
	background: url(/images/weixuan2.png) no-repeat left center;
    background-size:1.2em 1.2em; 
    float: right;
    height: 1.2em;
    width: 1.2em;
}

.zhifu input{
    display: none;
}
#deliverFeeDiv, #FetchDiv {
	border-bottom: 1px solid #efefef;
    padding: 0.5em 0;
}
#deliverFeeDiv p, #FetchDiv p{
	text-align:right;
}

#remark {
	padding: 0.5em 1em;
	height: 4em;
	font-size: 1.0em;
}
</style>
<body>
	<div id="wrapper">
		
			
			
			
				
					
					
						
						
						
						
						
					
					
				
				
			
			<div class="header">
				
					<ul class="tab">
						<li class='active' data='#deliverFeeDiv'><a href="#tab1">快递发货</a></li>						
						<li class=''><a href="#tab2">到店自提</a></li>
						<span class="lines"></span>
					</ul>
				
			</div>
			<p class="buy_title"></p>
			
			<div class="tab_container">
				<div id="tab1" class="tab_content pure-g" style="">
					<div class="pure-u-24-24">
						
							
								<div class="has-p">
									<span>联系方式：</span>
									<span class="pure-u-3-5">17817738278<span>(17817738178)</span></span>
								</div>
								<div class="has-p">
									<span>配送地址：</span>
									<span class="pure-u-3-5">北京市县密云县把</span>
									<span style="float:right;">
										
											
											
											<a href="/toaddr/1?serial=10549840601068216320&fm=1&mallGoodsId=26838&amount=1&amounts=&cartIds=">
												<img src="/images/enter.png?v=3.4.0-f5bd5" class="pure-img" id="edit">
											</a>
											
										
									</span>
                                </div>
							
							
						
					</div>
				</div>
				<div id="tab2" class="tab_content pure-g" style="display:none">
					<div class="pure-u-24-24">
						
							
							
								<div class="has-p">
									<span class="empty-p">请选择要取货的店铺和时间以确保您能快捷方便取到货物</span>
									<span style="float:right;">
										
											
											
											<a href="/toaddr/2?serial=10549840601068216320&fm=1&mallGoodsId=26838&amount=1&amounts=&cartIds=">
												<img src="/images/enter.png?v=3.4.0-f5bd5" class="pure-img" id="edit">
											</a>
											
										
									</span>
								</div>
							
						
					</div>
				</div>
			</div>
			<p class="buy_title"></p>
			
			<div class="content">
				
					
						
							<div class="selectList">
								<img src="http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg"> 
								
									
									
										<div class="order-div">
											<p class="m-t-n"><span>接口-测试商品1</span><span class="mtn-span t-r-span">￥0.01</span></p>
											<p><span class="ccc mtn-span">X1</span></p>															
									
								
							</div>
						
					
					
					
				
				<div id="deliverFeeDiv">
					 
						
						<!-- 消费额大于或等于满额包邮的金额就不算运费 -->								
							<p id="deliverFee">（买满￥0.00元包邮)</p>
							<p class="orange">合计：￥0.01</p>
						
						
					 
				</div>
				<div id="FetchDiv" style="display: none;">
					<p class="orange">合计：￥0.01</p>
				</div>
				<div id="remark">
					<span class="beizhu" style="float:left">备注：</span>
                   	<span class="beizhulan">
                   		<textarea rows="3" placeholder="可于此处给卖家留言备注" style="border:0;width: 85%;"></textarea>
                   	</span>
				</div>
			</div>
			<p class="buy_title"></p>
			<div class="footer">
				<div class="peisong-detail zhifu">
					<div class="btn-wrap-1">
                	
                     	<p class="weipay">微信支付<span class="pure-img-check"></span>
                         	<input type="radio" name="zhifu" value="1"/>
                     	</p>
                    
                  	</div>
                  	
                  	<div class="btn-wrap-2" style="">
                  	
                     	<p class="pay">货到付款<span class="pure-img-check"></span>
                         	<input type="radio" name="zhifu" value="3"/>
                     	</p>
                   	
                   	</div>
		
                    <div class="btn-wrap-3" style="display:none">
                    
                    	<p class="mdpay">到店支付<span class="pure-img-check"></span>
                    		<input type="radio" name="zhifu" value="2"/>
                    	</p>
                   	
                   	</div>
                   	
                   	<div class="btn-wrap-4">
                   	
                   		<p class="cardpay">储值卡支付<span class="pure-img-check"></span>
                   			<input type="radio" name="zhifu" value="4"/>
                   		</p>
                   	
                    </div>
                </div>
			</div>
			<div class="btn-wrap-5">
				<input type="button" class="button buybtn submit" value="确认提交" />
			</div>
			
		
	</div>
	<script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/touch.js?v=3.4.0-f5bd5"></script>
    
	<script type="text/javascript" src="/js/mall/zepto.alert.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mall.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.zepto.js?v=3.4.0-f5bd5" ></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.core.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.scroller.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.datetime.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.i18n.zh.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript">
		$(function() {
			$("input[name='zhifu']:checked").prev('.pure-img').attr('src','/images/check.png');
			var tab = parseInt("1");
			if(tab == 1){
				$("#deliverFeeDiv").show();
				$("#FetchDiv").hide();
			}else if(parseInt("1") != 0){
				$("#deliverFeeDiv").hide();
				$("#FetchDiv").show();
			}
			// 控制显示图片比例
			var img_left_heights = $(".selectList img").width()*(0.75);
			$(".selectList img,.order-div").css('height',img_left_heights);
			
			// 取货日期
			var now = new Date();
            $('#scheduledTime').mobiscroll().datetime({
                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),
                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),
                stepMinute: 30,
                dateOrder :"yymmdd",
                dateFormat:"yy-mm-dd",
                timeWheels:"HHii",
                timeFormat:"HH:ii",
                //invalid: [{ start: '00:00', end: '08:00' },{ start: '22:00', end: '23:59' }],
                theme: 'ios7',
                lang: 'zh',
                display: 'bottom',
                mode: 'mixed'
            });
            $('#scheduledTime').click(function(){
                $('#scheduledTime').mobiscroll('show'); 
                return false;
            });
            
			$("ul li").click(function() {
				$("ul li").removeClass("active");
				$(this).addClass("active");
				if($(this).attr("data")=="#deliverFeeDiv"){
					$("#deliverFeeDiv").show();
					$("#FetchDiv").hide();
				}else{
					$("#deliverFeeDiv").hide();
					$("#FetchDiv").show();
				}
				$(".tab_content").hide();
				var href = $(this).find("a").attr("href");
				$(href).show();
				
				if(href.endWith("tab1")) {
					$(".btn-wrap-2").show();
					$(".btn-wrap-3").hide();
				} else if(href.endWith("tab2")) {
					$(".btn-wrap-2").hide();
					$(".btn-wrap-3").show();
				}
				//清空已选择的支付方式
				$("input[name='zhifu']").prop("checked", false);
				$(".zhifu .pure-img-check").css('background-image','url(/images/weixuan2.png)');
				return false;
			});
			//商户设置的满额包邮价
			/* var noDeliverFee = toPrice(parseFloat("0")/100);
			var totalFee = parseFloat("0.01");
			if(totalFee > noDeliverFee){
				$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);
				$("#deliverFee").text("含运费：￥0.00");
			} */
			$('.zhifu>div').click(function(){
	            $("input[name=zhifu]").prop("checked", false);
	            $(".pure-img-check").css('backgroundImage','url(/images/weixuan2.png)');
	            var img_obj = $(this).find('.pure-img-check');
	            var backgroundImage = img_obj.css('background-image');
	            var input_obj = $(this).find('input');
	            if(backgroundImage.indexOf("weixuan2.png") > 0){
	                img_obj.css('background-image','url(/images/check.png)');
	                input_obj.prop("checked", "checked");
	            }else{
	                img_obj.css('background-image','url(/images/weixuan2.png)');
	                input_obj.prop("checked", false);
	            }
	        });
		});
		
		function validateRemark(){
			if($('.beizhulan textarea').val() != "" && $('.beizhulan textarea').val() != undefined){
				if($('.beizhulan textarea').val().length>30){
					$.dialog({
                        widths : '80%',
                        content : '您输入的备注过长，请不要超过30个字',
                        title : 'no',
                        fullok : function() {
                            return true;
                        },                       
                        lock : true
                    });	
					return false;
				}
				return true;
			}
			return true;
		}
		
		$(".submit").click(function(event){
			var payType = $("input[name='zhifu']:checked").val();
			if(null == payType || "" == payType || typeof(payType) == "undefined") {
       		 $.dialog({
                    widths : '80%',
                    content : '请选择支付方式',
                    title : 'no',
                    fullok : function() {
                        return true;
                    },                       
                    lock : true
                });
       			return;
       		}
			$.dialog({
                content : "确认提交订单？",
                title : "no",
                okText: '取消',
                cancelText : '确定', 
                ok : function() {
                	$(".ft-right").removeAttr("disabled");
                	return;
                },
                cancel : function() {                        	
               		
               		if(payType == 1){
               			if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				doAlert("no", "无效物流方式");
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/1", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "id=" + result.attach;
            	    			strParams += "&serial=10549840601068216320";
            	    			if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
            	        	});
            			}
               		}
               		
    				if(payType == 2){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					var shopBranch = "";
    					if(shopBranch == "") {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					var _fetchTime = $("#scheduledTime").val();
    					if(null == _fetchTime || "" == _fetchTime) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请选择取货时间',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						
    						var _remark = $(".beizhulan").find("textarea").val();
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							fetchTime : _fetchTime,
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/2/2", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 3){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑收货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						var _remark = encodeURI($(".beizhulan").find("textarea").val());
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/1/3", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 4){
    					if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				$.dialog({
        	                    widths : '80%',
        	                    content : '无效物流方式',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/4", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "?orderId=" + result.attach;
            					if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            					strParams += "&serial=10549840601068216320";
                				window.location.href = "/pay/5"+strParams;
            	        	});
            			}
            			
    				}
    				
                },
                lock : true
            });
		});
		
		//微信支付
		/* $(".payUseWX").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			var type = 0;
			$(".tab_content").each(function(){
				if($(this).css("display") != "none") {
					var attrId = $(this).attr("id");
					if(attrId == "tab1") {
						type = 1;//快递取货
					} else if(attrId == "tab2") {
						type = 2;//门店自提
					}
				}
			});
			if(type <= 0) {
				doAlert("no", "无效物流方式");
				return;
			}
			if(type == 1) {
				if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑收货地址");
					return;
				}
			}
			var _fetchTime = "";
			if(type == 2) {
				if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑取货地址");
					return;
				}
				_fetchTime = $("#scheduledTime").val();
				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
					doAlert("no", "请选择取货时间");
					return;
				}
				var shopBranch = "";
				if(shopBranch == "") {
					doAlert("no", "请编辑取货地址");
					return;
				}
			}
			
			var _remark = encodeURI($(".beizhulan").find("textarea").val());
			var params = {
				serial : "10549840601068216320",
				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
				fm : "1",
				mallGoodsId : "26838",
				amount : "1",
				cartIds : "",
				fetchTime : _fetchTime,
				remark : _remark
			};
			if(parseInt("1") == 1 && parseInt("1") == 2){
				var standardId = "";
				if(standardId != null && standardId != undefined){
					params.standardId = standardId;
				}
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				$.post("/cmorder/" + type+ "/1", params, function(result){
					dialog.close();
					
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					
					var strParams = "id=" + result.attach;
	    			strParams += "&serial=10549840601068216320";
	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
	        	});
			}
		}); */
		//货到付款
		/* $(".payAfrecv").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑收货地址");
				return;
			}
			
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				var _remark = encodeURI($(".beizhulan").find("textarea").val());
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/1/3", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
	        	});
			}
		}); */
		//到店支付
		// $(".payInshop").click(function(event) {
			/* if($(this).prop("disabled") == true)
        		return false;
			
			var shopBranch = "";
			if(shopBranch == "") {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			var _fetchTime = $("#scheduledTime").val();
			if(null == _fetchTime || "" == _fetchTime) {
				doAlert("no", "请选择取货时间");
				return;
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				
				var _remark = $(".beizhulan").find("textarea").val();
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					fetchTime : _fetchTime,
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/2/2", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
	        	});
			} */
		// });
	</script>
</body>
</html>
<!--加入判断用户是否关注公众号功能 add by lipengfei at 2015-11-9  -->
  	
	<script type="text/javascript" src="/js/bind/banner.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript">
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	</script>

2016-07-21 10:58:18,783 htmlparser.py[line: 28] INFO: Data 
	 






2016-07-21 10:58:18,783 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,784 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,784 htmlparser.py[line: 25] INFO: End tag: link
2016-07-21 10:58:18,784 htmlparser.py[line: 28] INFO: Data   

2016-07-21 10:58:18,784 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,784 htmlparser.py[line: 19] INFO: Start tag: html
2016-07-21 10:58:18,784 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,784 htmlparser.py[line: 19] INFO: Start tag: head
2016-07-21 10:58:18,784 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,784 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,785 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,785 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,785 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,785 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,785 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,785 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,785 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,785 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,785 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,786 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 10:58:18,786 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,786 htmlparser.py[line: 19] INFO: Start tag: title
2016-07-21 10:58:18,786 htmlparser.py[line: 28] INFO: Data 微商城
2016-07-21 10:58:18,786 htmlparser.py[line: 25] INFO: End tag: title
2016-07-21 10:58:18,786 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,786 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,786 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,786 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,787 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,787 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,787 htmlparser.py[line: 28] INFO: Data 


2016-07-21 10:58:18,787 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,787 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,787 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,787 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,787 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 10:58:18,787 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,787 htmlparser.py[line: 25] INFO: End tag: head
2016-07-21 10:58:18,788 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,788 htmlparser.py[line: 19] INFO: Start tag: style
2016-07-21 10:58:18,788 htmlparser.py[line: 28] INFO: Data 
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
	overflow-y: auto;
	overflow-x: hidden;
}

body {
	margin-bottom: 20px;
	overflow-y: auto;
	overflow-x: hidden;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
}

.header ul {
	position:relative;
	overflow: hidden;
}

.header ul li {
	width: 50%;
	float: left;
	height: 2.8em;
	line-height: 2.8em;
	background: #fff;
	text-align: center;
	border-bottom:1px solid #f38b44;
	-moz-box-sizing:border-box; /* Firefox */
     -webkit-box-sizing:border-box; /* Safari */
     box-sizing:border-box;
}
.header ul .lines{
	position: absolute;
	width: 1%;
	height: 2.8em;
	line-height: 2.8em;
	border-right: 1px solid #FDE5D4;
	left: 49%;
	top: -1px;
 } 
.header ul li a {
	color: #8b898a;
}

.tab_content>div {
	height: auto;
	font-size: 0.8em;
	margin: 0.5em 0;
}

.empty-p {
	width: 80%;
	float: left;
	padding: 0.5em 0;
}

.has-p {
    width: 100%;
    margin: 0 auto;
    padding: 0 1em;
    height: auto;
    line-height: 2.5em;
    text-align: left;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -webkit-box-sizing: -webkit-border-box;
}
.has-p-one{
    background: url(/images/mall/contact.png) no-repeat left center;
    background-size: 12px 12px;
}
.has-p-two{
    background: url(/images/mall/take.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.has-p-three{
    background: url(/images/mall/time.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.input-right{
    position: relative;
}
.input-right-img{
    width: 1em;
    position: absolute;
    right: 0.6em;
    top: 0.3em;
}
#scheduledTime{
    width:11em;
    height: 2em;
    border:1px solid #a0a0a0;
    border-radius:4px;
    color:#a0a0a0;
    text-indent:.5em
}
.hiddens-p{
    text-overflow:ellipsis; 
    overflow:hidden; 
    white-space:nowrap;  
}

.right-dashed {
	border-left: 1px solid #eee;
	margin-top: 1em;
	padding-bottom:1em;
}

#edit {
	padding: 1em 0 1em 2em;
    width: 10px;
}

.header ul li.active{
    border-bottom: 4px solid #f38b44;
}
.header ul li.active a{
    color: #f38b44!important;
}
.buy_title{
	background:#f3f3f3;
	padding:0.3em 1em;
	margin: 0;
}
.content {
	width: 100%;
	background: #fff;
	overflow: hidden;	
	padding-bottom:8%;
}

.selectList {
	border-bottom: 1px solid #efefef;
	margin: 0 auto;
	overflow: hidden;
	padding: 0.5em 1em;
	font-size: 0.8em;
	clear:both;
}

.selectList img {
    display: inline-block;
    float: left;
    width: 25%;
    border-radius: 4px;
    -webkit-border-radius: 4px;
}

.button {
	display:block;	
	width: 99%;	
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
	margin:0 auto 0.5em auto;
}

.addbtn {
	background: #33CC66;
}

.btn-wrap-5 {
	padding: 0 1em;
}
.buybtn {
	width: 100%;
	background: #f68d3c;
}

.footer {
	width: 100%;
	background: #fff;
	color: #b6b6b6;
	overflow: hidden;
	text-align: left;
	margin-bottom: 1em;
}

.all-end-button {
	width: 90%;
	margin: 1em auto 0.5em;
}

.all-end-button p:first-child {
	text-align: left;
}

.error-page{
	background: #ddd;
    padding-bottom: 2em;
}
.error-page img{
    margin:0 auto;
	padding-top: 2em;
}
.error-page p{
    text-align:center;
    color:#000;
    width:80%;
    margin:1em auto 2em;
}
#deliverFee{
	text-align:left;
	font-size:0.8em;
	color:#acb0af;
}
.order-div{
    margin-left: 26.8%;            
    position: relative;
}
.order-div>p:last-child{
    width: 100%;
    margin: 0;
    position: absolute;
    bottom: 0;
    left: 0;
}
.m-t-n{
    margin-top: 0;
}
.m-t-n>span{
    display: inline-block;
}
.m-t-n>span:first-child{
    width: 70%;
}
.m-t-n>span:last-child{
    width: 30%;
}
.mtn-span{
    float: right;
}
.t-r-span{
	text-align:right;
}
.ccc{
    color: #ccc;
}
.peisong{
    text-align: right;
    margin-bottom: 0;
    padding-right: 1em;
    padding-top: 0.4em;
}
.peisong-detail{
    color:#000;
}
.peisong-detail input{
    border: none;
}
.peisong-detail div>p{
    padding-left: 1.8em;
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    margin: 0;
    clear:both;
}

.weipay{            
    background: url(/images/weixin2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}        
.peisong-detail div>p.pay{
    background: url(/images/money2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.cardpay{
    background: url(/images/cardpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.mdpay{
    background: url(/images/mdpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}

.peisong-detail div[class^="btn-wrap-"] {
	border-bottom: 1px solid #dadada;
	padding: 0 1em;
	height: 3em;
	position: relative;
}

.weipay,.pay,.mdpay,.cardpay{
    position: relative;
}
 .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{
    width: 1.2em;
    height: 1.2em;
    position: absolute;
    right: 0;
    top: 50%;
    transform:translateY(-50%);
}

.pure-img-check {
	background: url(/images/weixuan2.png) no-repeat left center;
    background-size:1.2em 1.2em; 
    float: right;
    height: 1.2em;
    width: 1.2em;
}

.zhifu input{
    display: none;
}
#deliverFeeDiv, #FetchDiv {
	border-bottom: 1px solid #efefef;
    padding: 0.5em 0;
}
#deliverFeeDiv p, #FetchDiv p{
	text-align:right;
}

#remark {
	padding: 0.5em 1em;
	height: 4em;
	font-size: 1.0em;
}

2016-07-21 10:58:18,789 htmlparser.py[line: 25] INFO: End tag: style
2016-07-21 10:58:18,789 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,789 htmlparser.py[line: 19] INFO: Start tag: body
2016-07-21 10:58:18,789 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,789 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,789 htmlparser.py[line: 28] INFO: Data 
		
			
			
			
				
					
					
						
						
						
						
						
					
					
				
				
			
			
2016-07-21 10:58:18,789 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,789 htmlparser.py[line: 28] INFO: Data 
				
					
2016-07-21 10:58:18,789 htmlparser.py[line: 19] INFO: Start tag: ul
2016-07-21 10:58:18,790 htmlparser.py[line: 28] INFO: Data 
						
2016-07-21 10:58:18,790 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 10:58:18,790 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,790 htmlparser.py[line: 28] INFO: Data 快递发货
2016-07-21 10:58:18,790 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,790 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 10:58:18,790 htmlparser.py[line: 28] INFO: Data 						
						
2016-07-21 10:58:18,790 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 10:58:18,790 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,790 htmlparser.py[line: 28] INFO: Data 到店自提
2016-07-21 10:58:18,791 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,791 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 10:58:18,791 htmlparser.py[line: 28] INFO: Data 
						
2016-07-21 10:58:18,791 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,791 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,791 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,791 htmlparser.py[line: 25] INFO: End tag: ul
2016-07-21 10:58:18,791 htmlparser.py[line: 28] INFO: Data 
				
			
2016-07-21 10:58:18,791 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,791 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,792 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,792 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,792 htmlparser.py[line: 28] INFO: Data 
			
			
2016-07-21 10:58:18,792 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,792 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,792 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,792 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,792 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,792 htmlparser.py[line: 28] INFO: Data 
						
							
								
2016-07-21 10:58:18,793 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,793 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,793 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,793 htmlparser.py[line: 28] INFO: Data 联系方式：
2016-07-21 10:58:18,793 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,793 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,793 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,793 htmlparser.py[line: 28] INFO: Data 17817738278
2016-07-21 10:58:18,793 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,793 htmlparser.py[line: 28] INFO: Data (17817738178)
2016-07-21 10:58:18,794 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,794 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,794 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 10:58:18,794 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,794 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 10:58:18,794 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,794 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,794 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,794 htmlparser.py[line: 28] INFO: Data 配送地址：
2016-07-21 10:58:18,794 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,794 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,795 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,795 htmlparser.py[line: 28] INFO: Data 北京市县密云县把
2016-07-21 10:58:18,795 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,795 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,795 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,795 htmlparser.py[line: 28] INFO: Data 
										
											
											
											
2016-07-21 10:58:18,796 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,796 htmlparser.py[line: 28] INFO: Data 
												
2016-07-21 10:58:18,796 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,796 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:58:18,796 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,796 htmlparser.py[line: 28] INFO: Data 
											
										
									
2016-07-21 10:58:18,796 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,796 htmlparser.py[line: 28] INFO: Data 
                                
2016-07-21 10:58:18,797 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,797 htmlparser.py[line: 28] INFO: Data 
							
							
						
					
2016-07-21 10:58:18,797 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,797 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,797 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,797 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,797 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,797 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,797 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,797 htmlparser.py[line: 28] INFO: Data 
						
							
							
								
2016-07-21 10:58:18,798 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,798 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,798 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,798 htmlparser.py[line: 28] INFO: Data 请选择要取货的店铺和时间以确保您能快捷方便取到货物
2016-07-21 10:58:18,798 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,798 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 10:58:18,798 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,798 htmlparser.py[line: 28] INFO: Data 
										
											
											
											
2016-07-21 10:58:18,798 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
												
2016-07-21 10:58:18,799 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:58:18,799 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
											
										
									
2016-07-21 10:58:18,799 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 10:58:18,799 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
							
						
					
2016-07-21 10:58:18,799 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,799 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,800 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,800 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,800 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,800 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,800 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,800 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,800 htmlparser.py[line: 28] INFO: Data 
			
			
2016-07-21 10:58:18,800 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,801 htmlparser.py[line: 28] INFO: Data 
				
					
						
							
2016-07-21 10:58:18,801 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,801 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 10:58:18,801 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 10:58:18,801 htmlparser.py[line: 28] INFO: Data  
								
									
									
										
2016-07-21 10:58:18,801 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,801 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:58:18,801 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,802 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,802 htmlparser.py[line: 28] INFO: Data 接口-测试商品1
2016-07-21 10:58:18,802 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,802 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,802 htmlparser.py[line: 28] INFO: Data ￥0.01
2016-07-21 10:58:18,802 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,802 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,802 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 10:58:18,802 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,803 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,803 htmlparser.py[line: 28] INFO: Data X1
2016-07-21 10:58:18,803 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,803 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,803 htmlparser.py[line: 28] INFO: Data 															
									
								
							
2016-07-21 10:58:18,803 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,803 htmlparser.py[line: 28] INFO: Data 
						
					
					
					
				
				
2016-07-21 10:58:18,803 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,803 htmlparser.py[line: 28] INFO: Data 
					 
						
						
2016-07-21 10:58:18,803 htmlparser.py[line: 28] INFO: Data 								
							
2016-07-21 10:58:18,803 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,804 htmlparser.py[line: 28] INFO: Data （买满￥0.00元包邮)
2016-07-21 10:58:18,804 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,804 htmlparser.py[line: 28] INFO: Data 
							
2016-07-21 10:58:18,804 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,804 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 10:58:18,804 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,804 htmlparser.py[line: 28] INFO: Data 
						
						
					 
				
2016-07-21 10:58:18,804 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,804 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,804 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,805 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,805 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,805 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 10:58:18,805 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,805 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,805 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,805 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,805 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,805 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,805 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,806 htmlparser.py[line: 28] INFO: Data 备注：
2016-07-21 10:58:18,806 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,806 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 10:58:18,806 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,806 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 10:58:18,806 htmlparser.py[line: 19] INFO: Start tag: textarea
2016-07-21 10:58:18,806 htmlparser.py[line: 25] INFO: End tag: textarea
2016-07-21 10:58:18,806 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 10:58:18,806 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,806 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,807 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,807 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,807 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,807 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,807 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,807 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,807 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,807 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,807 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,807 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,808 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 10:58:18,808 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,808 htmlparser.py[line: 28] INFO: Data 
                	
                     	
2016-07-21 10:58:18,808 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,808 htmlparser.py[line: 28] INFO: Data 微信支付
2016-07-21 10:58:18,808 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,808 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,808 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 10:58:18,808 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,809 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,809 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 10:58:18,809 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,809 htmlparser.py[line: 28] INFO: Data 
                    
                  	
2016-07-21 10:58:18,809 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,809 htmlparser.py[line: 28] INFO: Data 
                  	
                  	
2016-07-21 10:58:18,809 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,809 htmlparser.py[line: 28] INFO: Data 
                  	
                     	
2016-07-21 10:58:18,809 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,809 htmlparser.py[line: 28] INFO: Data 货到付款
2016-07-21 10:58:18,810 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,810 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,810 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 10:58:18,810 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,810 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,810 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 10:58:18,810 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,810 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:58:18,810 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,810 htmlparser.py[line: 28] INFO: Data 
		
                    
2016-07-21 10:58:18,810 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,811 htmlparser.py[line: 28] INFO: Data 
                    
                    	
2016-07-21 10:58:18,811 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,811 htmlparser.py[line: 28] INFO: Data 到店支付
2016-07-21 10:58:18,811 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,811 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,811 htmlparser.py[line: 28] INFO: Data 
                    		
2016-07-21 10:58:18,811 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,811 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,811 htmlparser.py[line: 28] INFO: Data 
                    	
2016-07-21 10:58:18,811 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,812 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:58:18,812 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,812 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 10:58:18,812 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,812 htmlparser.py[line: 28] INFO: Data 
                   	
                   		
2016-07-21 10:58:18,812 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 10:58:18,812 htmlparser.py[line: 28] INFO: Data 储值卡支付
2016-07-21 10:58:18,812 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 10:58:18,812 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 10:58:18,812 htmlparser.py[line: 28] INFO: Data 
                   			
2016-07-21 10:58:18,813 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,813 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,813 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 10:58:18,813 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 10:58:18,813 htmlparser.py[line: 28] INFO: Data 
                   	
                    
2016-07-21 10:58:18,813 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,813 htmlparser.py[line: 28] INFO: Data 
                
2016-07-21 10:58:18,813 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,813 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,813 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,813 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,814 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 10:58:18,814 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 10:58:18,814 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 10:58:18,814 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 10:58:18,814 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 10:58:18,814 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,814 htmlparser.py[line: 28] INFO: Data 
			
		
	
2016-07-21 10:58:18,815 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 10:58:18,816 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,816 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,816 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,816 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,817 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,817 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,817 htmlparser.py[line: 28] INFO: Data 
    
	
2016-07-21 10:58:18,817 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,817 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,818 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,818 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,818 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,818 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,819 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,819 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,819 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,819 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,820 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,820 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			$("input[name='zhifu']:checked").prev('.pure-img').attr('src','/images/check.png');
			var tab = parseInt("1");
			if(tab == 1){
				$("#deliverFeeDiv").show();
				$("#FetchDiv").hide();
			}else if(parseInt("1") != 0){
				$("#deliverFeeDiv").hide();
				$("#FetchDiv").show();
			}
			// 控制显示图片比例
			var img_left_heights = $(".selectList img").width()*(0.75);
			$(".selectList img,.order-div").css('height',img_left_heights);
			
			// 取货日期
			var now = new Date();
            $('#scheduledTime').mobiscroll().datetime({
                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),
                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),
                stepMinute: 30,
                dateOrder :"yymmdd",
                dateFormat:"yy-mm-dd",
                timeWheels:"HHii",
                timeFormat:"HH:ii",
                //invalid: [{ start: '00:00', end: '08:00' },{ start: '22:00', end: '23:59' }],
                theme: 'ios7',
                lang: 'zh',
                display: 'bottom',
                mode: 'mixed'
            });
            $('#scheduledTime').click(function(){
                $('#scheduledTime').mobiscroll('show'); 
                return false;
            });
            
			$("ul li").click(function() {
				$("ul li").removeClass("active");
				$(this).addClass("active");
				if($(this).attr("data")=="#deliverFeeDiv"){
					$("#deliverFeeDiv").show();
					$("#FetchDiv").hide();
				}else{
					$("#deliverFeeDiv").hide();
					$("#FetchDiv").show();
				}
				$(".tab_content").hide();
				var href = $(this).find("a").attr("href");
				$(href).show();
				
				if(href.endWith("tab1")) {
					$(".btn-wrap-2").show();
					$(".btn-wrap-3").hide();
				} else if(href.endWith("tab2")) {
					$(".btn-wrap-2").hide();
					$(".btn-wrap-3").show();
				}
				//清空已选择的支付方式
				$("input[name='zhifu']").prop("checked", false);
				$(".zhifu .pure-img-check").css('background-image','url(/images/weixuan2.png)');
				return false;
			});
			//商户设置的满额包邮价
			/* var noDeliverFee = toPrice(parseFloat("0")/100);
			var totalFee = parseFloat("0.01");
			if(totalFee > noDeliverFee){
				$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);
				$("#deliverFee").text("含运费：￥0.00");
			} */
			$('.zhifu>div').click(function(){
	            $("input[name=zhifu]").prop("checked", false);
	            $(".pure-img-check").css('backgroundImage','url(/images/weixuan2.png)');
	            var img_obj = $(this).find('.pure-img-check');
	            var backgroundImage = img_obj.css('background-image');
	            var input_obj = $(this).find('input');
	            if(backgroundImage.indexOf("weixuan2.png") > 0){
	                img_obj.css('background-image','url(/images/check.png)');
	                input_obj.prop("checked", "checked");
	            }else{
	                img_obj.css('background-image','url(/images/weixuan2.png)');
	                input_obj.prop("checked", false);
	            }
	        });
		});
		
		function validateRemark(){
			if($('.beizhulan textarea').val() != "" && $('.beizhulan textarea').val() != undefined){
				if($('.beizhulan textarea').val().length>30){
					$.dialog({
                        widths : '80%',
                        content : '您输入的备注过长，请不要超过30个字',
                        title : 'no',
                        fullok : function() {
                            return true;
                        },                       
                        lock : true
                    });	
					return false;
				}
				return true;
			}
			return true;
		}
		
		$(".submit").click(function(event){
			var payType = $("input[name='zhifu']:checked").val();
			if(null == payType || "" == payType || typeof(payType) == "undefined") {
       		 $.dialog({
                    widths : '80%',
                    content : '请选择支付方式',
                    title : 'no',
                    fullok : function() {
                        return true;
                    },                       
                    lock : true
                });
       			return;
       		}
			$.dialog({
                content : "确认提交订单？",
                title : "no",
                okText: '取消',
                cancelText : '确定', 
                ok : function() {
                	$(".ft-right").removeAttr("disabled");
                	return;
                },
                cancel : function() {                        	
               		
               		if(payType == 1){
               			if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				doAlert("no", "无效物流方式");
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/1", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "id=" + result.attach;
            	    			strParams += "&serial=10549840601068216320";
            	    			if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
            	        	});
            			}
               		}
               		
    				if(payType == 2){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					var shopBranch = "";
    					if(shopBranch == "") {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					var _fetchTime = $("#scheduledTime").val();
    					if(null == _fetchTime || "" == _fetchTime) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请选择取货时间',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						
    						var _remark = $(".beizhulan").find("textarea").val();
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							fetchTime : _fetchTime,
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/2/2", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 3){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑收货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						var _remark = encodeURI($(".beizhulan").find("textarea").val());
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/1/3", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 4){
    					if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				$.dialog({
        	                    widths : '80%',
        	                    content : '无效物流方式',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/4", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "?orderId=" + result.attach;
            					if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            					strParams += "&serial=10549840601068216320";
                				window.location.href = "/pay/5"+strParams;
            	        	});
            			}
            			
    				}
    				
                },
                lock : true
            });
		});
		
		//微信支付
		/* $(".payUseWX").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			var type = 0;
			$(".tab_content").each(function(){
				if($(this).css("display") != "none") {
					var attrId = $(this).attr("id");
					if(attrId == "tab1") {
						type = 1;//快递取货
					} else if(attrId == "tab2") {
						type = 2;//门店自提
					}
				}
			});
			if(type <= 0) {
				doAlert("no", "无效物流方式");
				return;
			}
			if(type == 1) {
				if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑收货地址");
					return;
				}
			}
			var _fetchTime = "";
			if(type == 2) {
				if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑取货地址");
					return;
				}
				_fetchTime = $("#scheduledTime").val();
				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
					doAlert("no", "请选择取货时间");
					return;
				}
				var shopBranch = "";
				if(shopBranch == "") {
					doAlert("no", "请编辑取货地址");
					return;
				}
			}
			
			var _remark = encodeURI($(".beizhulan").find("textarea").val());
			var params = {
				serial : "10549840601068216320",
				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
				fm : "1",
				mallGoodsId : "26838",
				amount : "1",
				cartIds : "",
				fetchTime : _fetchTime,
				remark : _remark
			};
			if(parseInt("1") == 1 && parseInt("1") == 2){
				var standardId = "";
				if(standardId != null && standardId != undefined){
					params.standardId = standardId;
				}
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				$.post("/cmorder/" + type+ "/1", params, function(result){
					dialog.close();
					
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					
					var strParams = "id=" + result.attach;
	    			strParams += "&serial=10549840601068216320";
	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
	        	});
			}
		}); */
		//货到付款
		/* $(".payAfrecv").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑收货地址");
				return;
			}
			
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				var _remark = encodeURI($(".beizhulan").find("textarea").val());
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/1/3", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
	        	});
			}
		}); */
		//到店支付
		// $(".payInshop").click(function(event) {
			/* if($(this).prop("disabled") == true)
        		return false;
			
			var shopBranch = "";
			if(shopBranch == "") {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			var _fetchTime = $("#scheduledTime").val();
			if(null == _fetchTime || "" == _fetchTime) {
				doAlert("no", "请选择取货时间");
				return;
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				
				var _remark = $(".beizhulan").find("textarea").val();
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					fetchTime : _fetchTime,
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/2/2", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
	        	});
			} */
		// });
	
2016-07-21 10:58:18,821 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,821 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,822 htmlparser.py[line: 25] INFO: End tag: body
2016-07-21 10:58:18,822 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,822 htmlparser.py[line: 25] INFO: End tag: html
2016-07-21 10:58:18,822 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,822 htmlparser.py[line: 28] INFO: Data 
  	
	
2016-07-21 10:58:18,822 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,822 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,822 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 10:58:18,822 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 10:58:18,822 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	
2016-07-21 10:58:18,823 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 10:58:18,823 htmlparser.py[line: 28] INFO: Data 

2016-07-21 10:58:18,823 wechatno_wemall.py[line: 240] INFO: [['', '\r\n\t \r\n\r\n\r\n\r\n\r\n\r\n'], ['', '\r\n'], ['link', '  \r\n'], ['link', '\r\n'], ['html', '\r\n'], ['head', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['title', '微商城'], ['title', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['style', '\r\n* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nhtml {\r\n\tcolor: #626262;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\nbody {\r\n\tmargin-bottom: 20px;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\na {\r\n\ttext-decoration: none;\r\n}\r\n\r\nol,ul {\r\n\tlist-style: outside none none;\r\n}\r\n\r\n.left {\r\n\tfloat: left;\r\n}\r\n\r\n.right {\r\n\tfloat: right;\r\n}\r\n\r\n.in-block {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.orange {\r\n\tcolor: #c58d04;\r\n}\r\n\r\n.grey {\r\n\tcolor: #adadad;\r\n}\r\n\r\n.bg-color {\r\n\tbackground: #ececec;\r\n}\r\n\r\n#wrapper {\r\n\twidth: 100%;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.header {\r\n\twidth: 100%;\r\n}\r\n\r\n.header ul {\r\n\tposition:relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.header ul li {\r\n\twidth: 50%;\r\n\tfloat: left;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tbackground: #fff;\r\n\ttext-align: center;\r\n\tborder-bottom:1px solid #f38b44;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n     -webkit-box-sizing:border-box; /* Safari */\r\n     box-sizing:border-box;\r\n}\r\n.header ul .lines{\r\n\tposition: absolute;\r\n\twidth: 1%;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tborder-right: 1px solid #FDE5D4;\r\n\tleft: 49%;\r\n\ttop: -1px;\r\n } \r\n.header ul li a {\r\n\tcolor: #8b898a;\r\n}\r\n\r\n.tab_content>div {\r\n\theight: auto;\r\n\tfont-size: 0.8em;\r\n\tmargin: 0.5em 0;\r\n}\r\n\r\n.empty-p {\r\n\twidth: 80%;\r\n\tfloat: left;\r\n\tpadding: 0.5em 0;\r\n}\r\n\r\n.has-p {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 0 1em;\r\n    height: auto;\r\n    line-height: 2.5em;\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -webkit-box-sizing: -webkit-border-box;\r\n}\r\n.has-p-one{\r\n    background: url(/images/mall/contact.png) no-repeat left center;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-two{\r\n    background: url(/images/mall/take.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-three{\r\n    background: url(/images/mall/time.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.input-right{\r\n    position: relative;\r\n}\r\n.input-right-img{\r\n    width: 1em;\r\n    position: absolute;\r\n    right: 0.6em;\r\n    top: 0.3em;\r\n}\r\n#scheduledTime{\r\n    width:11em;\r\n    height: 2em;\r\n    border:1px solid #a0a0a0;\r\n    border-radius:4px;\r\n    color:#a0a0a0;\r\n    text-indent:.5em\r\n}\r\n.hiddens-p{\r\n    text-overflow:ellipsis; \r\n    overflow:hidden; \r\n    white-space:nowrap;  \r\n}\r\n\r\n.right-dashed {\r\n\tborder-left: 1px solid #eee;\r\n\tmargin-top: 1em;\r\n\tpadding-bottom:1em;\r\n}\r\n\r\n#edit {\r\n\tpadding: 1em 0 1em 2em;\r\n    width: 10px;\r\n}\r\n\r\n.header ul li.active{\r\n    border-bottom: 4px solid #f38b44;\r\n}\r\n.header ul li.active a{\r\n    color: #f38b44!important;\r\n}\r\n.buy_title{\r\n\tbackground:#f3f3f3;\r\n\tpadding:0.3em 1em;\r\n\tmargin: 0;\r\n}\r\n.content {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\toverflow: hidden;\t\r\n\tpadding-bottom:8%;\r\n}\r\n\r\n.selectList {\r\n\tborder-bottom: 1px solid #efefef;\r\n\tmargin: 0 auto;\r\n\toverflow: hidden;\r\n\tpadding: 0.5em 1em;\r\n\tfont-size: 0.8em;\r\n\tclear:both;\r\n}\r\n\r\n.selectList img {\r\n    display: inline-block;\r\n    float: left;\r\n    width: 25%;\r\n    border-radius: 4px;\r\n    -webkit-border-radius: 4px;\r\n}\r\n\r\n.button {\r\n\tdisplay:block;\t\r\n\twidth: 99%;\t\r\n\theight: 3em;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-radius: 4px;\r\n\tmargin:0 auto 0.5em auto;\r\n}\r\n\r\n.addbtn {\r\n\tbackground: #33CC66;\r\n}\r\n\r\n.btn-wrap-5 {\r\n\tpadding: 0 1em;\r\n}\r\n.buybtn {\r\n\twidth: 100%;\r\n\tbackground: #f68d3c;\r\n}\r\n\r\n.footer {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\tcolor: #b6b6b6;\r\n\toverflow: hidden;\r\n\ttext-align: left;\r\n\tmargin-bottom: 1em;\r\n}\r\n\r\n.all-end-button {\r\n\twidth: 90%;\r\n\tmargin: 1em auto 0.5em;\r\n}\r\n\r\n.all-end-button p:first-child {\r\n\ttext-align: left;\r\n}\r\n\r\n.error-page{\r\n\tbackground: #ddd;\r\n    padding-bottom: 2em;\r\n}\r\n.error-page img{\r\n    margin:0 auto;\r\n\tpadding-top: 2em;\r\n}\r\n.error-page p{\r\n    text-align:center;\r\n    color:#000;\r\n    width:80%;\r\n    margin:1em auto 2em;\r\n}\r\n#deliverFee{\r\n\ttext-align:left;\r\n\tfont-size:0.8em;\r\n\tcolor:#acb0af;\r\n}\r\n.order-div{\r\n    margin-left: 26.8%;            \r\n    position: relative;\r\n}\r\n.order-div>p:last-child{\r\n    width: 100%;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n}\r\n.m-t-n{\r\n    margin-top: 0;\r\n}\r\n.m-t-n>span{\r\n    display: inline-block;\r\n}\r\n.m-t-n>span:first-child{\r\n    width: 70%;\r\n}\r\n.m-t-n>span:last-child{\r\n    width: 30%;\r\n}\r\n.mtn-span{\r\n    float: right;\r\n}\r\n.t-r-span{\r\n\ttext-align:right;\r\n}\r\n.ccc{\r\n    color: #ccc;\r\n}\r\n.peisong{\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n    padding-right: 1em;\r\n    padding-top: 0.4em;\r\n}\r\n.peisong-detail{\r\n    color:#000;\r\n}\r\n.peisong-detail input{\r\n    border: none;\r\n}\r\n.peisong-detail div>p{\r\n    padding-left: 1.8em;\r\n    padding-top: 0.8em;\r\n    padding-bottom: 0.8em;\r\n    margin: 0;\r\n    clear:both;\r\n}\r\n\r\n.weipay{            \r\n    background: url(/images/weixin2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}        \r\n.peisong-detail div>p.pay{\r\n    background: url(/images/money2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.cardpay{\r\n    background: url(/images/cardpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.mdpay{\r\n    background: url(/images/mdpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n\r\n.peisong-detail div[class^="btn-wrap-"] {\r\n\tborder-bottom: 1px solid #dadada;\r\n\tpadding: 0 1em;\r\n\theight: 3em;\r\n\tposition: relative;\r\n}\r\n\r\n.weipay,.pay,.mdpay,.cardpay{\r\n    position: relative;\r\n}\r\n .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform:translateY(-50%);\r\n}\r\n\r\n.pure-img-check {\r\n\tbackground: url(/images/weixuan2.png) no-repeat left center;\r\n    background-size:1.2em 1.2em; \r\n    float: right;\r\n    height: 1.2em;\r\n    width: 1.2em;\r\n}\r\n\r\n.zhifu input{\r\n    display: none;\r\n}\r\n#deliverFeeDiv, #FetchDiv {\r\n\tborder-bottom: 1px solid #efefef;\r\n    padding: 0.5em 0;\r\n}\r\n#deliverFeeDiv p, #FetchDiv p{\r\n\ttext-align:right;\r\n}\r\n\r\n#remark {\r\n\tpadding: 0.5em 1em;\r\n\theight: 4em;\r\n\tfont-size: 1.0em;\r\n}\r\n'], ['style', '\r\n'], ['body', '\r\n\t'], ['div', '\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t'], ['ul', '\r\n\t\t\t\t\t\t'], ['a', '快递发货'], ['a', '\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['a', '到店自提'], ['a', '\r\n\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\r\n\t\t\t'], ['span', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '联系方式：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '17817738278'], ['span', '(17817738178)'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '配送地址：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '北京市县密云县把'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n                                '], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '请选择要取货的店铺和时间以确保您能快捷方便取到货物'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t'], ['img', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t'], ['img', ' \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', '接口-测试商品1'], ['span', '￥0.01'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', 'X1'], ['span', '\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['div', '\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['p', '（买满￥0.00元包邮)'], ['p', '\r\n\t\t\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['span', '备注：'], ['span', '\r\n                   \t'], ['span', '\r\n                   \t\t'], ['textarea', '\r\n                   \t'], ['textarea', '\r\n\t\t\t\t'], ['textarea', '\r\n\t\t\t'], ['textarea', '\r\n\t\t\t'], ['p', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n                \t\r\n                     \t'], ['p', '微信支付'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                    \r\n                  \t'], ['input', '\r\n                  \t\r\n                  \t'], ['div', '\r\n                  \t\r\n                     \t'], ['p', '货到付款'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n\t\t\r\n                    '], ['div', '\r\n                    \r\n                    \t'], ['p', '到店支付'], ['span', '\r\n                    \t\t'], ['input', '\r\n                    \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n                   \t\r\n                   \t'], ['div', '\r\n                   \t\r\n                   \t\t'], ['p', '储值卡支付'], ['span', '\r\n                   \t\t\t'], ['input', '\r\n                   \t\t'], ['input', '\r\n                   \t\r\n                    '], ['input', '\r\n                '], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t\r\n\t\t\r\n\t'], ['input', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n    \r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t$("input[name=\'zhifu\']:checked").prev(\'.pure-img\').attr(\'src\',\'/images/check.png\');\r\n\t\t\tvar tab = parseInt("1");\r\n\t\t\tif(tab == 1){\r\n\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t}else if(parseInt("1") != 0){\r\n\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t}\r\n\t\t\t// 控制显示图片比例\r\n\t\t\tvar img_left_heights = $(".selectList img").width()*(0.75);\r\n\t\t\t$(".selectList img,.order-div").css(\'height\',img_left_heights);\r\n\t\t\t\r\n\t\t\t// 取货日期\r\n\t\t\tvar now = new Date();\r\n            $(\'#scheduledTime\').mobiscroll().datetime({\r\n                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),\r\n                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),\r\n                stepMinute: 30,\r\n                dateOrder :"yymmdd",\r\n                dateFormat:"yy-mm-dd",\r\n                timeWheels:"HHii",\r\n                timeFormat:"HH:ii",\r\n                //invalid: [{ start: \'00:00\', end: \'08:00\' },{ start: \'22:00\', end: \'23:59\' }],\r\n                theme: \'ios7\',\r\n                lang: \'zh\',\r\n                display: \'bottom\',\r\n                mode: \'mixed\'\r\n            });\r\n            $(\'#scheduledTime\').click(function(){\r\n                $(\'#scheduledTime\').mobiscroll(\'show\'); \r\n                return false;\r\n            });\r\n            \r\n\t\t\t$("ul li").click(function() {\r\n\t\t\t\t$("ul li").removeClass("active");\r\n\t\t\t\t$(this).addClass("active");\r\n\t\t\t\tif($(this).attr("data")=="#deliverFeeDiv"){\r\n\t\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t\t}\r\n\t\t\t\t$(".tab_content").hide();\r\n\t\t\t\tvar href = $(this).find("a").attr("href");\r\n\t\t\t\t$(href).show();\r\n\t\t\t\t\r\n\t\t\t\tif(href.endWith("tab1")) {\r\n\t\t\t\t\t$(".btn-wrap-2").show();\r\n\t\t\t\t\t$(".btn-wrap-3").hide();\r\n\t\t\t\t} else if(href.endWith("tab2")) {\r\n\t\t\t\t\t$(".btn-wrap-2").hide();\r\n\t\t\t\t\t$(".btn-wrap-3").show();\r\n\t\t\t\t}\r\n\t\t\t\t//清空已选择的支付方式\r\n\t\t\t\t$("input[name=\'zhifu\']").prop("checked", false);\r\n\t\t\t\t$(".zhifu .pure-img-check").css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t//商户设置的满额包邮价\r\n\t\t\t/* var noDeliverFee = toPrice(parseFloat("0")/100);\r\n\t\t\tvar totalFee = parseFloat("0.01");\r\n\t\t\tif(totalFee > noDeliverFee){\r\n\t\t\t\t$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);\r\n\t\t\t\t$("#deliverFee").text("含运费：￥0.00");\r\n\t\t\t} */\r\n\t\t\t$(\'.zhifu>div\').click(function(){\r\n\t            $("input[name=zhifu]").prop("checked", false);\r\n\t            $(".pure-img-check").css(\'backgroundImage\',\'url(/images/weixuan2.png)\');\r\n\t            var img_obj = $(this).find(\'.pure-img-check\');\r\n\t            var backgroundImage = img_obj.css(\'background-image\');\r\n\t            var input_obj = $(this).find(\'input\');\r\n\t            if(backgroundImage.indexOf("weixuan2.png") > 0){\r\n\t                img_obj.css(\'background-image\',\'url(/images/check.png)\');\r\n\t                input_obj.prop("checked", "checked");\r\n\t            }else{\r\n\t                img_obj.css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t                input_obj.prop("checked", false);\r\n\t            }\r\n\t        });\r\n\t\t});\r\n\t\t\r\n\t\tfunction validateRemark(){\r\n\t\t\tif($(\'.beizhulan textarea\').val() != "" && $(\'.beizhulan textarea\').val() != undefined){\r\n\t\t\t\tif($(\'.beizhulan textarea\').val().length>30){\r\n\t\t\t\t\t$.dialog({\r\n                        widths : \'80%\',\r\n                        content : \'您输入的备注过长，请不要超过30个字\',\r\n                        title : \'no\',\r\n                        fullok : function() {\r\n                            return true;\r\n                        },                       \r\n                        lock : true\r\n                    });\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t$(".submit").click(function(event){\r\n\t\t\tvar payType = $("input[name=\'zhifu\']:checked").val();\r\n\t\t\tif(null == payType || "" == payType || typeof(payType) == "undefined") {\r\n       \t\t $.dialog({\r\n                    widths : \'80%\',\r\n                    content : \'请选择支付方式\',\r\n                    title : \'no\',\r\n                    fullok : function() {\r\n                        return true;\r\n                    },                       \r\n                    lock : true\r\n                });\r\n       \t\t\treturn;\r\n       \t\t}\r\n\t\t\t$.dialog({\r\n                content : "确认提交订单？",\r\n                title : "no",\r\n                okText: \'取消\',\r\n                cancelText : \'确定\', \r\n                ok : function() {\r\n                \t$(".ft-right").removeAttr("disabled");\r\n                \treturn;\r\n                },\r\n                cancel : function() {                        \t\r\n               \t\t\r\n               \t\tif(payType == 1){\r\n               \t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\tdoAlert("no", "无效物流方式");\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "id=" + result.attach;\r\n            \t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n            \t    \t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n               \t\t}\r\n               \t\t\r\n    \t\t\t\tif(payType == 2){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar shopBranch = "";\r\n    \t\t\t\t\tif(shopBranch == "") {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n    \t\t\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请选择取货时间\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tfetchTime : _fetchTime,\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 3){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑收货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 4){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'无效物流方式\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/4", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "?orderId=" + result.attach;\r\n            \t\t\t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\tstrParams += "&serial=10549840601068216320";\r\n                \t\t\t\twindow.location.href = "/pay/5"+strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n            \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n                },\r\n                lock : true\r\n            });\r\n\t\t});\r\n\t\t\r\n\t\t//微信支付\r\n\t\t/* $(".payUseWX").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar type = 0;\r\n\t\t\t$(".tab_content").each(function(){\r\n\t\t\t\tif($(this).css("display") != "none") {\r\n\t\t\t\t\tvar attrId = $(this).attr("id");\r\n\t\t\t\t\tif(attrId == "tab1") {\r\n\t\t\t\t\t\ttype = 1;//快递取货\r\n\t\t\t\t\t} else if(attrId == "tab2") {\r\n\t\t\t\t\t\ttype = 2;//门店自提\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(type <= 0) {\r\n\t\t\t\tdoAlert("no", "无效物流方式");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(type == 1) {\r\n\t\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar _fetchTime = "";\r\n\t\t\tif(type == 2) {\r\n\t\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n\t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n\t\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar shopBranch = "";\r\n\t\t\t\tif(shopBranch == "") {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\tvar params = {\r\n\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\tfm : "1",\r\n\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\tamount : "1",\r\n\t\t\t\tcartIds : "",\r\n\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\tremark : _remark\r\n\t\t\t};\r\n\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\tvar standardId = "";\r\n\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar strParams = "id=" + result.attach;\r\n\t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n\t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//货到付款\r\n\t\t/* $(".payAfrecv").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//到店支付\r\n\t\t// $(".payInshop").click(function(event) {\r\n\t\t\t/* if($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar shopBranch = "";\r\n\t\t\tif(shopBranch == "") {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t\r\n\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t} */\r\n\t\t// });\r\n\t'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n  \t\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t//var SHOP_SERIAL = getCookie("SHOP_SERIAL");\r\n\t\t\tvar SHOP_SERIAL = "10549840601068216320";\r\n\t\t\tif(null != SHOP_SERIAL && SHOP_SERIAL != ""){\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \'/saofu_mobile/checkUserBindStatus\',\r\n\t\t\t\t\tdata : {\r\n\t\t\t\t\t\t"serial" : SHOP_SERIAL\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype : \'post\',\r\n\t\t\t\t\tcache : false,\r\n\t\t\t\t\tdataType : \'json\',\r\n\t\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\tvar guildFocusStr = data.guildFocusStr;\r\n\t\t\t\t\t\t\tif(guildFocusStr != null && guildFocusStr == "1"){\r\n\t\t\t\t\t\t\t\tvar hasBindedShop = data.hasBindedShop;\r\n\t\t\t\t\t\t\t\tif(hasBindedShop == "0"){\r\n\t\t\t\t\t\t\t\t\tvar qrName = data.QRPublicName;\r\n\t\t\t\t\t\t\t\t\tvar qrUrl = data.QRCodeURL;\r\n\t\t\t\t\t\t\t\t\tif(qrName != "" && qrUrl != ""){\r\n\t\t\t\t\t\t\t\t\t\tvar params = qrName+"**"+qrUrl;\r\n\t\t\t\t\t\t\t\t\t\tfollowModule(params);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t},\r\n\t\t\t\t\terror : function() {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t'], ['script', '\r\n']]
2016-07-21 10:58:18,825 wechatno_wemall.py[line: 247] INFO: ['', '\r\n\t \r\n\r\n\r\n\r\n\r\n\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['link', '  \r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['html', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['head', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,826 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['meta', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['title', '微商城']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['title', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['link', '\r\n']
2016-07-21 10:58:18,827 wechatno_wemall.py[line: 247] INFO: ['style', '\r\n* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nhtml {\r\n\tcolor: #626262;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\nbody {\r\n\tmargin-bottom: 20px;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\na {\r\n\ttext-decoration: none;\r\n}\r\n\r\nol,ul {\r\n\tlist-style: outside none none;\r\n}\r\n\r\n.left {\r\n\tfloat: left;\r\n}\r\n\r\n.right {\r\n\tfloat: right;\r\n}\r\n\r\n.in-block {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.orange {\r\n\tcolor: #c58d04;\r\n}\r\n\r\n.grey {\r\n\tcolor: #adadad;\r\n}\r\n\r\n.bg-color {\r\n\tbackground: #ececec;\r\n}\r\n\r\n#wrapper {\r\n\twidth: 100%;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.header {\r\n\twidth: 100%;\r\n}\r\n\r\n.header ul {\r\n\tposition:relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.header ul li {\r\n\twidth: 50%;\r\n\tfloat: left;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tbackground: #fff;\r\n\ttext-align: center;\r\n\tborder-bottom:1px solid #f38b44;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n     -webkit-box-sizing:border-box; /* Safari */\r\n     box-sizing:border-box;\r\n}\r\n.header ul .lines{\r\n\tposition: absolute;\r\n\twidth: 1%;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tborder-right: 1px solid #FDE5D4;\r\n\tleft: 49%;\r\n\ttop: -1px;\r\n } \r\n.header ul li a {\r\n\tcolor: #8b898a;\r\n}\r\n\r\n.tab_content>div {\r\n\theight: auto;\r\n\tfont-size: 0.8em;\r\n\tmargin: 0.5em 0;\r\n}\r\n\r\n.empty-p {\r\n\twidth: 80%;\r\n\tfloat: left;\r\n\tpadding: 0.5em 0;\r\n}\r\n\r\n.has-p {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 0 1em;\r\n    height: auto;\r\n    line-height: 2.5em;\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -webkit-box-sizing: -webkit-border-box;\r\n}\r\n.has-p-one{\r\n    background: url(/images/mall/contact.png) no-repeat left center;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-two{\r\n    background: url(/images/mall/take.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-three{\r\n    background: url(/images/mall/time.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.input-right{\r\n    position: relative;\r\n}\r\n.input-right-img{\r\n    width: 1em;\r\n    position: absolute;\r\n    right: 0.6em;\r\n    top: 0.3em;\r\n}\r\n#scheduledTime{\r\n    width:11em;\r\n    height: 2em;\r\n    border:1px solid #a0a0a0;\r\n    border-radius:4px;\r\n    color:#a0a0a0;\r\n    text-indent:.5em\r\n}\r\n.hiddens-p{\r\n    text-overflow:ellipsis; \r\n    overflow:hidden; \r\n    white-space:nowrap;  \r\n}\r\n\r\n.right-dashed {\r\n\tborder-left: 1px solid #eee;\r\n\tmargin-top: 1em;\r\n\tpadding-bottom:1em;\r\n}\r\n\r\n#edit {\r\n\tpadding: 1em 0 1em 2em;\r\n    width: 10px;\r\n}\r\n\r\n.header ul li.active{\r\n    border-bottom: 4px solid #f38b44;\r\n}\r\n.header ul li.active a{\r\n    color: #f38b44!important;\r\n}\r\n.buy_title{\r\n\tbackground:#f3f3f3;\r\n\tpadding:0.3em 1em;\r\n\tmargin: 0;\r\n}\r\n.content {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\toverflow: hidden;\t\r\n\tpadding-bottom:8%;\r\n}\r\n\r\n.selectList {\r\n\tborder-bottom: 1px solid #efefef;\r\n\tmargin: 0 auto;\r\n\toverflow: hidden;\r\n\tpadding: 0.5em 1em;\r\n\tfont-size: 0.8em;\r\n\tclear:both;\r\n}\r\n\r\n.selectList img {\r\n    display: inline-block;\r\n    float: left;\r\n    width: 25%;\r\n    border-radius: 4px;\r\n    -webkit-border-radius: 4px;\r\n}\r\n\r\n.button {\r\n\tdisplay:block;\t\r\n\twidth: 99%;\t\r\n\theight: 3em;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-radius: 4px;\r\n\tmargin:0 auto 0.5em auto;\r\n}\r\n\r\n.addbtn {\r\n\tbackground: #33CC66;\r\n}\r\n\r\n.btn-wrap-5 {\r\n\tpadding: 0 1em;\r\n}\r\n.buybtn {\r\n\twidth: 100%;\r\n\tbackground: #f68d3c;\r\n}\r\n\r\n.footer {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\tcolor: #b6b6b6;\r\n\toverflow: hidden;\r\n\ttext-align: left;\r\n\tmargin-bottom: 1em;\r\n}\r\n\r\n.all-end-button {\r\n\twidth: 90%;\r\n\tmargin: 1em auto 0.5em;\r\n}\r\n\r\n.all-end-button p:first-child {\r\n\ttext-align: left;\r\n}\r\n\r\n.error-page{\r\n\tbackground: #ddd;\r\n    padding-bottom: 2em;\r\n}\r\n.error-page img{\r\n    margin:0 auto;\r\n\tpadding-top: 2em;\r\n}\r\n.error-page p{\r\n    text-align:center;\r\n    color:#000;\r\n    width:80%;\r\n    margin:1em auto 2em;\r\n}\r\n#deliverFee{\r\n\ttext-align:left;\r\n\tfont-size:0.8em;\r\n\tcolor:#acb0af;\r\n}\r\n.order-div{\r\n    margin-left: 26.8%;            \r\n    position: relative;\r\n}\r\n.order-div>p:last-child{\r\n    width: 100%;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n}\r\n.m-t-n{\r\n    margin-top: 0;\r\n}\r\n.m-t-n>span{\r\n    display: inline-block;\r\n}\r\n.m-t-n>span:first-child{\r\n    width: 70%;\r\n}\r\n.m-t-n>span:last-child{\r\n    width: 30%;\r\n}\r\n.mtn-span{\r\n    float: right;\r\n}\r\n.t-r-span{\r\n\ttext-align:right;\r\n}\r\n.ccc{\r\n    color: #ccc;\r\n}\r\n.peisong{\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n    padding-right: 1em;\r\n    padding-top: 0.4em;\r\n}\r\n.peisong-detail{\r\n    color:#000;\r\n}\r\n.peisong-detail input{\r\n    border: none;\r\n}\r\n.peisong-detail div>p{\r\n    padding-left: 1.8em;\r\n    padding-top: 0.8em;\r\n    padding-bottom: 0.8em;\r\n    margin: 0;\r\n    clear:both;\r\n}\r\n\r\n.weipay{            \r\n    background: url(/images/weixin2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}        \r\n.peisong-detail div>p.pay{\r\n    background: url(/images/money2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.cardpay{\r\n    background: url(/images/cardpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.mdpay{\r\n    background: url(/images/mdpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n\r\n.peisong-detail div[class^="btn-wrap-"] {\r\n\tborder-bottom: 1px solid #dadada;\r\n\tpadding: 0 1em;\r\n\theight: 3em;\r\n\tposition: relative;\r\n}\r\n\r\n.weipay,.pay,.mdpay,.cardpay{\r\n    position: relative;\r\n}\r\n .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform:translateY(-50%);\r\n}\r\n\r\n.pure-img-check {\r\n\tbackground: url(/images/weixuan2.png) no-repeat left center;\r\n    background-size:1.2em 1.2em; \r\n    float: right;\r\n    height: 1.2em;\r\n    width: 1.2em;\r\n}\r\n\r\n.zhifu input{\r\n    display: none;\r\n}\r\n#deliverFeeDiv, #FetchDiv {\r\n\tborder-bottom: 1px solid #efefef;\r\n    padding: 0.5em 0;\r\n}\r\n#deliverFeeDiv p, #FetchDiv p{\r\n\ttext-align:right;\r\n}\r\n\r\n#remark {\r\n\tpadding: 0.5em 1em;\r\n\theight: 4em;\r\n\tfont-size: 1.0em;\r\n}\r\n']
2016-07-21 10:58:18,828 wechatno_wemall.py[line: 247] INFO: ['style', '\r\n']
2016-07-21 10:58:18,828 wechatno_wemall.py[line: 247] INFO: ['body', '\r\n\t']
2016-07-21 10:58:18,828 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t']
2016-07-21 10:58:18,828 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t']
2016-07-21 10:58:18,828 wechatno_wemall.py[line: 247] INFO: ['ul', '\r\n\t\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['a', '快递发货']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['a', '\t\t\t\t\t\t\r\n\t\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['a', '到店自提']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['a', '\r\n\t\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\r\n\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\r\n\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,829 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '联系方式：']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '17817738278']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '(17817738178)']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '配送地址：']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,830 wechatno_wemall.py[line: 247] INFO: ['span', '北京市县密云县把']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n                                ']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,831 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['span', '请选择要取货的店铺和时间以确保您能快捷方便取到货物']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t\t']
2016-07-21 10:58:18,832 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['img', '\r\n\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\r\n\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['img', ' \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['span', '接口-测试商品1']
2016-07-21 10:58:18,833 wechatno_wemall.py[line: 247] INFO: ['span', '￥0.01']
2016-07-21 10:58:18,834 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\t']
2016-07-21 10:58:18,834 wechatno_wemall.py[line: 247] INFO: ['span', 'X1']
2016-07-21 10:58:18,834 wechatno_wemall.py[line: 247] INFO: ['span', '\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t']
2016-07-21 10:58:18,834 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t']
2016-07-21 10:58:18,834 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['div', '\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['p', '（买满￥0.00元包邮)']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\t\t\t\t']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['p', '合计：￥0.01']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\t']
2016-07-21 10:58:18,835 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['p', '合计：￥0.01']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['span', '备注：']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                   \t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                   \t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['textarea', '\r\n                   \t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['textarea', '\r\n\t\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['textarea', '\r\n\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['textarea', '\r\n\t\t\t']
2016-07-21 10:58:18,836 wechatno_wemall.py[line: 247] INFO: ['p', '\r\n\t\t\t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t\t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n                \t\r\n                     \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['p', '微信支付']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                         \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                     \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                    \r\n                  \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                  \t\r\n                  \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n                  \t\r\n                     \t']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['p', '货到付款']
2016-07-21 10:58:18,837 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                         \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                     \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                   \t\r\n                   \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t\t\r\n                    ']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n                    \r\n                    \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['p', '到店支付']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                    \t\t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                    \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                   \t\r\n                   \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                   \t\r\n                   \t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n                   \t\r\n                   \t\t']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['p', '储值卡支付']
2016-07-21 10:58:18,838 wechatno_wemall.py[line: 247] INFO: ['span', '\r\n                   \t\t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                   \t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                   \t\r\n                    ']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n                ']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t\t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t\t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['div', '\r\n\t\t\t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t\t\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t\t\t\r\n\t\t\r\n\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['input', '\r\n\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,839 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n    \r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,840 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t\t$(function() {\r\n\t\t\t$("input[name=\'zhifu\']:checked").prev(\'.pure-img\').attr(\'src\',\'/images/check.png\');\r\n\t\t\tvar tab = parseInt("1");\r\n\t\t\tif(tab == 1){\r\n\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t}else if(parseInt("1") != 0){\r\n\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t}\r\n\t\t\t// 控制显示图片比例\r\n\t\t\tvar img_left_heights = $(".selectList img").width()*(0.75);\r\n\t\t\t$(".selectList img,.order-div").css(\'height\',img_left_heights);\r\n\t\t\t\r\n\t\t\t// 取货日期\r\n\t\t\tvar now = new Date();\r\n            $(\'#scheduledTime\').mobiscroll().datetime({\r\n                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),\r\n                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),\r\n                stepMinute: 30,\r\n                dateOrder :"yymmdd",\r\n                dateFormat:"yy-mm-dd",\r\n                timeWheels:"HHii",\r\n                timeFormat:"HH:ii",\r\n                //invalid: [{ start: \'00:00\', end: \'08:00\' },{ start: \'22:00\', end: \'23:59\' }],\r\n                theme: \'ios7\',\r\n                lang: \'zh\',\r\n                display: \'bottom\',\r\n                mode: \'mixed\'\r\n            });\r\n            $(\'#scheduledTime\').click(function(){\r\n                $(\'#scheduledTime\').mobiscroll(\'show\'); \r\n                return false;\r\n            });\r\n            \r\n\t\t\t$("ul li").click(function() {\r\n\t\t\t\t$("ul li").removeClass("active");\r\n\t\t\t\t$(this).addClass("active");\r\n\t\t\t\tif($(this).attr("data")=="#deliverFeeDiv"){\r\n\t\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t\t}\r\n\t\t\t\t$(".tab_content").hide();\r\n\t\t\t\tvar href = $(this).find("a").attr("href");\r\n\t\t\t\t$(href).show();\r\n\t\t\t\t\r\n\t\t\t\tif(href.endWith("tab1")) {\r\n\t\t\t\t\t$(".btn-wrap-2").show();\r\n\t\t\t\t\t$(".btn-wrap-3").hide();\r\n\t\t\t\t} else if(href.endWith("tab2")) {\r\n\t\t\t\t\t$(".btn-wrap-2").hide();\r\n\t\t\t\t\t$(".btn-wrap-3").show();\r\n\t\t\t\t}\r\n\t\t\t\t//清空已选择的支付方式\r\n\t\t\t\t$("input[name=\'zhifu\']").prop("checked", false);\r\n\t\t\t\t$(".zhifu .pure-img-check").css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t//商户设置的满额包邮价\r\n\t\t\t/* var noDeliverFee = toPrice(parseFloat("0")/100);\r\n\t\t\tvar totalFee = parseFloat("0.01");\r\n\t\t\tif(totalFee > noDeliverFee){\r\n\t\t\t\t$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);\r\n\t\t\t\t$("#deliverFee").text("含运费：￥0.00");\r\n\t\t\t} */\r\n\t\t\t$(\'.zhifu>div\').click(function(){\r\n\t            $("input[name=zhifu]").prop("checked", false);\r\n\t            $(".pure-img-check").css(\'backgroundImage\',\'url(/images/weixuan2.png)\');\r\n\t            var img_obj = $(this).find(\'.pure-img-check\');\r\n\t            var backgroundImage = img_obj.css(\'background-image\');\r\n\t            var input_obj = $(this).find(\'input\');\r\n\t            if(backgroundImage.indexOf("weixuan2.png") > 0){\r\n\t                img_obj.css(\'background-image\',\'url(/images/check.png)\');\r\n\t                input_obj.prop("checked", "checked");\r\n\t            }else{\r\n\t                img_obj.css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t                input_obj.prop("checked", false);\r\n\t            }\r\n\t        });\r\n\t\t});\r\n\t\t\r\n\t\tfunction validateRemark(){\r\n\t\t\tif($(\'.beizhulan textarea\').val() != "" && $(\'.beizhulan textarea\').val() != undefined){\r\n\t\t\t\tif($(\'.beizhulan textarea\').val().length>30){\r\n\t\t\t\t\t$.dialog({\r\n                        widths : \'80%\',\r\n                        content : \'您输入的备注过长，请不要超过30个字\',\r\n                        title : \'no\',\r\n                        fullok : function() {\r\n                            return true;\r\n                        },                       \r\n                        lock : true\r\n                    });\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t$(".submit").click(function(event){\r\n\t\t\tvar payType = $("input[name=\'zhifu\']:checked").val();\r\n\t\t\tif(null == payType || "" == payType || typeof(payType) == "undefined") {\r\n       \t\t $.dialog({\r\n                    widths : \'80%\',\r\n                    content : \'请选择支付方式\',\r\n                    title : \'no\',\r\n                    fullok : function() {\r\n                        return true;\r\n                    },                       \r\n                    lock : true\r\n                });\r\n       \t\t\treturn;\r\n       \t\t}\r\n\t\t\t$.dialog({\r\n                content : "确认提交订单？",\r\n                title : "no",\r\n                okText: \'取消\',\r\n                cancelText : \'确定\', \r\n                ok : function() {\r\n                \t$(".ft-right").removeAttr("disabled");\r\n                \treturn;\r\n                },\r\n                cancel : function() {                        \t\r\n               \t\t\r\n               \t\tif(payType == 1){\r\n               \t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\tdoAlert("no", "无效物流方式");\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "id=" + result.attach;\r\n            \t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n            \t    \t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n               \t\t}\r\n               \t\t\r\n    \t\t\t\tif(payType == 2){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar shopBranch = "";\r\n    \t\t\t\t\tif(shopBranch == "") {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n    \t\t\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请选择取货时间\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tfetchTime : _fetchTime,\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 3){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑收货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 4){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'无效物流方式\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/4", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "?orderId=" + result.attach;\r\n            \t\t\t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\tstrParams += "&serial=10549840601068216320";\r\n                \t\t\t\twindow.location.href = "/pay/5"+strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n            \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n                },\r\n                lock : true\r\n            });\r\n\t\t});\r\n\t\t\r\n\t\t//微信支付\r\n\t\t/* $(".payUseWX").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar type = 0;\r\n\t\t\t$(".tab_content").each(function(){\r\n\t\t\t\tif($(this).css("display") != "none") {\r\n\t\t\t\t\tvar attrId = $(this).attr("id");\r\n\t\t\t\t\tif(attrId == "tab1") {\r\n\t\t\t\t\t\ttype = 1;//快递取货\r\n\t\t\t\t\t} else if(attrId == "tab2") {\r\n\t\t\t\t\t\ttype = 2;//门店自提\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(type <= 0) {\r\n\t\t\t\tdoAlert("no", "无效物流方式");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(type == 1) {\r\n\t\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar _fetchTime = "";\r\n\t\t\tif(type == 2) {\r\n\t\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n\t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n\t\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar shopBranch = "";\r\n\t\t\t\tif(shopBranch == "") {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\tvar params = {\r\n\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\tfm : "1",\r\n\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\tamount : "1",\r\n\t\t\t\tcartIds : "",\r\n\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\tremark : _remark\r\n\t\t\t};\r\n\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\tvar standardId = "";\r\n\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar strParams = "id=" + result.attach;\r\n\t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n\t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//货到付款\r\n\t\t/* $(".payAfrecv").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//到店支付\r\n\t\t// $(".payInshop").click(function(event) {\r\n\t\t\t/* if($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar shopBranch = "";\r\n\t\t\tif(shopBranch == "") {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t\r\n\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t} */\r\n\t\t// });\r\n\t']
2016-07-21 10:58:18,841 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n']
2016-07-21 10:58:18,841 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n']
2016-07-21 10:58:18,842 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n']
2016-07-21 10:58:18,842 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n  \t\r\n\t']
2016-07-21 10:58:18,842 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t']
2016-07-21 10:58:18,842 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n\t\t$(function() {\r\n\t\t\t//var SHOP_SERIAL = getCookie("SHOP_SERIAL");\r\n\t\t\tvar SHOP_SERIAL = "10549840601068216320";\r\n\t\t\tif(null != SHOP_SERIAL && SHOP_SERIAL != ""){\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \'/saofu_mobile/checkUserBindStatus\',\r\n\t\t\t\t\tdata : {\r\n\t\t\t\t\t\t"serial" : SHOP_SERIAL\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype : \'post\',\r\n\t\t\t\t\tcache : false,\r\n\t\t\t\t\tdataType : \'json\',\r\n\t\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\tvar guildFocusStr = data.guildFocusStr;\r\n\t\t\t\t\t\t\tif(guildFocusStr != null && guildFocusStr == "1"){\r\n\t\t\t\t\t\t\t\tvar hasBindedShop = data.hasBindedShop;\r\n\t\t\t\t\t\t\t\tif(hasBindedShop == "0"){\r\n\t\t\t\t\t\t\t\t\tvar qrName = data.QRPublicName;\r\n\t\t\t\t\t\t\t\t\tvar qrUrl = data.QRCodeURL;\r\n\t\t\t\t\t\t\t\t\tif(qrName != "" && qrUrl != ""){\r\n\t\t\t\t\t\t\t\t\t\tvar params = qrName+"**"+qrUrl;\r\n\t\t\t\t\t\t\t\t\t\tfollowModule(params);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t},\r\n\t\t\t\t\terror : function() {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t']
2016-07-21 10:58:18,842 wechatno_wemall.py[line: 247] INFO: ['script', '\r\n']
2016-07-21 10:58:18,842 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-21 10:58:18,842 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-21 10:58:18" WHERE executed_history_id = 20160721105817 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:58:18,845 testcase.py[line: 101] INFO: 测试用例[id=102, name=test-n-点击立即购买按钮]执行成功
2016-07-21 10:58:18,845 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-21 10:58:18,845 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-21 10:58:18" WHERE executed_history_id = 20160721105817 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 10:58:18,847 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-21 10:58:18,847 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-21 10:58:18,847 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-21 10:58:18,848 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160721105817',)
2016-07-21 10:58:18,849 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-21 10:58:18,849 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160721105817')
2016-07-21 10:58:18,850 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-21 10:58:18,850 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160721105817')
2016-07-21 10:58:18,854 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-21 10:58:18,854 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160721105817')
2016-07-21 10:58:18,855 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-21 10:58:18,855 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160721105817')
2016-07-21 10:58:18,856 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-21 10:58:18,856 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721105817',)
2016-07-21 10:58:18,857 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-21 10:58:18,858 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721105817')
2016-07-21 10:58:18,859 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-21 10:58:18,860 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-21 10:58:18,860 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721105817',)
2016-07-21 10:58:18,861 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-21 10:58:18,861 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721105817')
2016-07-21 10:58:18,863 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-21 10:58:18,864 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160721105817')
2016-07-21 10:58:18,868 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-21 10:58:18,868 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160721105817')
2016-07-21 10:58:18,871 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-21 10:58:18,871 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160721105817.html
2016-07-21 10:58:18,871 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-21 10:58:18,872 main.py[line: 252] INFO: 生成测试报告成功
2016-07-21 10:58:20,107 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160721105817.html
2016-07-21 10:58:20,108 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-21 10:58:20,108 main.py[line: 266] INFO: 发送邮件成功
2016-07-21 11:01:46,065 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-21 11:01:46,074 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-21 11:01:46,079 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-21 11:02:02,304 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-21 11:02:02,313 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-21 11:02:02,319 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-21 11:02:02,371 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-21 11:02:02,372 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-21 11:02:02,373 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-21 11:02:02,373 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-21 11:02:02,375 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-21 11:02:02,376 main.py[line: 187] INFO: 按套件运行测试
2016-07-21 11:02:02,376 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-21 11:02:02,667 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-21 11:02:02,668 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-21 11:02:02,668 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-21 11:02:02,937 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-21 11:02:02,937 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110202', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-21 11:02:02,938 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-21 11:02:02,938 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-21 11:02:02,938 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110202', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200, "goods_name":"接口-测试商品1"}', 'Block', '', '')
2016-07-21 11:02:02,939 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-21 11:02:02,939 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-21 11:02:02,940 wechatno_wemall.py[line: 91] INFO: 正在发起GET请求...
2016-07-21 11:02:02,940 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-21 11:02:02,940 httpprotocol.py[line: 51] INFO: {'Cookie': '10549840601068216320=ous64uFCCLMyXYDJ-MkNilyCI5CY2'}
2016-07-21 11:02:03,123 htmlparser.py[line: 28] INFO: Data 






2016-07-21 11:02:03,124 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,125 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,125 htmlparser.py[line: 25] INFO: End tag: link
2016-07-21 11:02:03,125 htmlparser.py[line: 28] INFO: Data   

2016-07-21 11:02:03,126 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,126 htmlparser.py[line: 19] INFO: Start tag: html
2016-07-21 11:02:03,127 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,127 htmlparser.py[line: 19] INFO: Start tag: head
2016-07-21 11:02:03,127 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,128 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,128 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,129 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,129 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,130 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,130 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,130 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,131 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,131 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,133 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,134 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,134 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,134 htmlparser.py[line: 19] INFO: Start tag: title
2016-07-21 11:02:03,135 htmlparser.py[line: 28] INFO: Data 微商城
2016-07-21 11:02:03,135 htmlparser.py[line: 25] INFO: End tag: title
2016-07-21 11:02:03,135 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,136 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,136 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,137 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,137 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,138 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,138 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,138 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,139 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,140 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,140 htmlparser.py[line: 25] INFO: End tag: head
2016-07-21 11:02:03,141 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,141 htmlparser.py[line: 19] INFO: Start tag: style
2016-07-21 11:02:03,142 htmlparser.py[line: 28] INFO: Data 
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
	overflow: hidden;
	border-bottom: 1px solid #eaeaea;
}

.top {
	width: 90%;
	margin: 0 auto;
	padding-bottom: 1em;
}

.top p {
	margin: 0.5em 0;
	font-size: 0.8em;
}
.top>p:first-child{
	font-size:1.1em;
}

.fonts {
	font-size: 1em !important;
	margin: 0.8em 0 !important;
}


.jian {
	display: inline-block;
	width: 1.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	border-right: 0 none;
	border-top-left-radius: 4px;
	border-bottom-left-radius: 4px;
	text-align: center;
	margin-left:0.4em;
}

.val {
	background: #fff;
	display: inline-block;
	width: 3.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	text-align: center;
}

.jia {
	display: inline-block;
	width: 1.5em;
	height: 1.5em;
	line-height: 1.5em;
	border: 1px solid #d1d1d1;
	border-left: 0 none;
	border-top-right-radius: 4px;
	border-bottom-right-radius: 4px;
	text-align: center;
}

.button {
	width: 47%;
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
}

.addbtn {
	background: #edb23e;
	margin-right: 3%;
}

.buybtn {
	background: #f96364;
}

.bottom {
	border-top: 0.5em solid #eeeeee;
	padding-bottom: 3em;
    position: relative;
    width:100%;
}

.bottom .bottom-details{
	width:100%;	
	word-break:break-all;
	overflow-x: hidden; 
}

.bottom-details h1,.bottom-details h2,.bottom-details h3,.bottom-details h4,.bottom-details h5{
	word-break:break-all;
}

.bottom > p:first-child {
	text-indent: 1em;
}

.bottom > p img{
    width: 1em;
    position: absolute;
    top:0.8em;
    right: 1em;
}

.bottom-details p {
	text-indent: 1em;
	word-break:break-all;
}

.inline-padding {
	display: inline-block;
	padding-left: 0.8em;
}

.inline-paddings {
	display: inline-block;
	padding-left: 1.6em;
}

.footer {
	width: 100%;
	height: 3em;
	position: fixed;
	bottom: 0;
	background: #fff;
	color: #b6b6b6;
	text-align: center;
	border-top: 1px solid #eaeaea;
}

.footer a {
	color: #626262;
	display: inline-block;
	height:1em;
	line-height:1em;
	padding-top: 1em;
	padding-bottom: 1em;
}
.footer .inline-paddings-right{
    padding-top: 1em;
    float: right;
}
.footer img {
	display: inline-block;
	width: 1em;
}

.top-bg{
    position: fixed;
    bottom: 3.5em;
    right: 1em;
    width: 2em;
    display: none;
    filter:alpha(opacity=40);       /* IE */
    -moz-opacity:0.4;              /* Moz + FF */
    opacity: 0.4;     
}
.spec{
    display: inline-block;
    margin: 0 1em 0.8em 0;
    font-size:0.7em;
    padding:0.3em 1em;
    border:1px solid #ccc;
    border-radius:3px;
    cursor:pointer;
}
.fonts a.active{
    border: 2px solid #d2b57b;
}
.guige{
    float: left;
    width: 40px;
}
.guige-detail{
    margin-left: 40px;
}
.guige-detail a[disabled]{
    background: none repeat scroll 0 0 #fff;
    color: #e3e3e3;
    cursor: default;
}
/* 本例子css -------------------------------------- */
.slideBox {
	position: relative;
	width: 100%;
	height: 240px;
	overflow: hidden;
}

.slideBox .hd {
	position: absolute;
	width: 100%;
	height: 27px;
	bottom: 0;
	left: 0;
	z-index: 1;
}

.slideBox .hd img {
	width: 11px;
}

.slideBox .bd {
	position: relative;
	z-index: 0;
}

.slideBox .bd li {
	position: relative;
}

.slideBox .bd li img {
	width: 100%;
	height: 240px;
	display: block;
}

.slideBox .bd li a {
	-webkit-tap-highlight-color: rgba(0, 0, 0, 0); /* 取消链接高亮 */
}

.slideBox .hd a {
	display: block;
	width: auto;
	position: absolute;
	bottom: 0.5em;
	right: 0.5em;
	padding: 0.1em 0.7em;
	text-align: center;
	color: #fff;
	background-color: rgba(0, 0, 0, 0.6);
	border-radius: 4px;
}
.slideBox>.a-img{
    position: fixed;
    top:1em;
    right: 0.5em;
    display: block;
    width:2em;
    height: 2em;
    border-radius: 2em;
    background-color: rgba(0, 0, 0, 0.6); 
    z-index: 2;
}
.slideBox>.a-img>img{
    width: 1em;            
    position: absolute;
    top:50%;
    left: 50%;
    margin-top:-0.5em;
    margin-left: -0.5em;
}
.carts{
	position: relative;
}
.cartNum{                      
    display: inline-block;
    width: 1.2em;
    height: 1.2em;
    line-height:1.2em;
    border-radius: 1.5em;
    background:#ff0000;  
    position: absolute;
    right: -0.7em;
    top: 0.3em;
    color: #fff;
}
#soldCount{
	float: right; 
	font-size: 0.8em; 
	padding-top: 0.3em;
	color:#adadad;
}
.freight{
	font-size:0.8em;
	color:#adadad;
}
.standard_sku{
	font-size:0.9em;
	color:#adadad;
}
@media all and (max-width:320px){
	.slideBox{
		height:240px;
	}
	.slideBox .bd li img {
		height:240px;
	}
}
@media all and (min-width:321px) and (max-width:360px){
	.slideBox{
		height:270px;
	}
	.slideBox .bd li img {
		height:270px;
	}
}
@media all and (min-width:361px) and (max-width:375px){
	.slideBox{
		height:281px;
	}
	.slideBox .bd li img {
		height:281px;
	}
}
@media all and (min-width:376px) and (max-width:384px){
	.slideBox{
		height:288px;
	}
	.slideBox .bd li img {
		height:288px;
	}
}
@media all and (min-width:385px) and (max-width:414px){
	.slideBox{
		height:311px;
	}
	.slideBox .bd li img {
		height:311px;
	}
}
@media all and (min-width:415px){
	.slideBox{
		height:360px;
	}
	.slideBox .bd li img {
		height:360px;
	}
}

2016-07-21 11:02:03,167 htmlparser.py[line: 25] INFO: End tag: style
2016-07-21 11:02:03,168 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,168 htmlparser.py[line: 19] INFO: Start tag: body
2016-07-21 11:02:03,168 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,168 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,168 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 11:02:03,168 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,168 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,169 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,169 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,169 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,169 htmlparser.py[line: 28] INFO: Data 
                  
2016-07-21 11:02:03,169 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,169 htmlparser.py[line: 28] INFO: Data 
              	
2016-07-21 11:02:03,170 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,170 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,170 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,170 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,170 htmlparser.py[line: 19] INFO: Start tag: ul
2016-07-21 11:02:03,170 htmlparser.py[line: 28] INFO: Data 
						
							
								
2016-07-21 11:02:03,170 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 11:02:03,171 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,171 htmlparser.py[line: 25] INFO: End tag: img
2016-07-21 11:02:03,171 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 11:02:03,171 htmlparser.py[line: 28] INFO: Data 
							
						
					
2016-07-21 11:02:03,171 htmlparser.py[line: 25] INFO: End tag: ul
2016-07-21 11:02:03,171 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,171 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,172 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,172 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,172 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,172 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,172 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,172 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,172 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,173 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,173 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,173 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 11:02:03,173 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,173 htmlparser.py[line: 28] INFO: Data 		
		
2016-07-21 11:02:03,173 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,173 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,174 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,174 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,174 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,174 htmlparser.py[line: 28] INFO: Data 
					接口-测试商品1
				
2016-07-21 11:02:03,174 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,174 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,174 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,174 htmlparser.py[line: 28] INFO: Data 
					接口测试专用,烦请勿删,勿操作
				
2016-07-21 11:02:03,175 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,175 htmlparser.py[line: 28] INFO: Data 				
				
2016-07-21 11:02:03,175 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,175 htmlparser.py[line: 28] INFO: Data 
					单价:
					
2016-07-21 11:02:03,175 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,175 htmlparser.py[line: 28] INFO: Data 
					
					
						
							￥0.01
						
						
					
					
					
2016-07-21 11:02:03,176 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,177 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,177 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,178 htmlparser.py[line: 28] INFO: Data 销量:8件
2016-07-21 11:02:03,178 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,178 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,178 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,178 htmlparser.py[line: 28] INFO: Data 
				
					
2016-07-21 11:02:03,178 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,178 htmlparser.py[line: 28] INFO: Data 运费:
2016-07-21 11:02:03,179 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,179 htmlparser.py[line: 28] INFO: Data 4.00元
2016-07-21 11:02:03,179 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,179 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,179 htmlparser.py[line: 28] INFO: Data 
				
				
				
2016-07-21 11:02:03,179 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,179 htmlparser.py[line: 28] INFO: Data 
					数量:
2016-07-21 11:02:03,180 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,180 htmlparser.py[line: 28] INFO: Data -
2016-07-21 11:02:03,180 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,180 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,180 htmlparser.py[line: 28] INFO: Data 1
2016-07-21 11:02:03,180 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,180 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,181 htmlparser.py[line: 28] INFO: Data +
2016-07-21 11:02:03,181 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,181 htmlparser.py[line: 28] INFO: Data 
					
						
						
							
2016-07-21 11:02:03,181 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,181 htmlparser.py[line: 28] INFO: Data (库存：999992件)
2016-07-21 11:02:03,181 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,181 htmlparser.py[line: 28] INFO: Data 
						
						
						
					
				
2016-07-21 11:02:03,182 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,182 htmlparser.py[line: 28] INFO: Data  
				
2016-07-21 11:02:03,182 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,182 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,182 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,182 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,182 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,183 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,183 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,183 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,183 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,183 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,183 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,183 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,184 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,184 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,184 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,184 htmlparser.py[line: 28] INFO: Data 图文详情
2016-07-21 11:02:03,184 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,184 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,184 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,185 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,185 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,185 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,185 htmlparser.py[line: 28] INFO: Data 											
2016-07-21 11:02:03,185 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,185 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,186 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 11:02:03,186 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 11:02:03,188 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,188 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,189 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 11:02:03,189 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 11:02:03,189 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,189 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,189 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 11:02:03,189 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 11:02:03,189 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,190 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,190 htmlparser.py[line: 28] INFO: Data 接口测试专用商品,商品详情简介
2016-07-21 11:02:03,190 htmlparser.py[line: 19] INFO: Start tag: br
2016-07-21 11:02:03,190 htmlparser.py[line: 25] INFO: End tag: br
2016-07-21 11:02:03,190 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,190 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,190 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,191 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,191 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,191 htmlparser.py[line: 28] INFO: Data 
		
2016-07-21 11:02:03,191 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,191 htmlparser.py[line: 28] INFO: Data 		
	
2016-07-21 11:02:03,191 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,191 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,192 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,192 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,192 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,192 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,192 htmlparser.py[line: 28] INFO: Data 
    
2016-07-21 11:02:03,192 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,192 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,193 htmlparser.py[line: 28] INFO: Data 
    
2016-07-21 11:02:03,193 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,193 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,193 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,193 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,193 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,194 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,194 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,194 htmlparser.py[line: 28] INFO: Data 
			
	var priceLimita = $(".orange").text();
	var soldCounta = $("#soldCount").text();
	var skua = $(".standard_sku").text();
	
            // 滚动窗口来判断按钮显示或隐藏
            $(window).scroll(function() {
                if ($(this).scrollTop() > 120) {
                    $('.top-bg').show(100);
                } else {
                    $('.top-bg').hide(100);
                }
            });
            
            function choose(obj,price,sku,standardSoldCount){
            	if(!$(obj).attr('disabled')){
            	if($(obj).hasClass('active')){
            		$(".orange").text(priceLimita);
                	$("#soldCount").text(soldCounta);
                	$(".standard_sku").text(skua);
                	 $(obj).removeClass('active');
            	}else{
	            	$(".standard_sku").text("(库存:"+sku+"件)");
	            	$(".orange").text("￥"+price);
	            	$("#soldCount").text("销量:"+standardSoldCount+"件");
	            	$(".spec").removeClass('active');
                    $(obj).addClass('active');
            	}
            	}
            }
            
           
            
            $(function(){
            	/* $(".spec").tap(function(){
                    if(!$(this).attr('disabled')){
                        if($(this).hasClass('active')){
                            $(this).removeClass('active');
                            
                        }else{
                        	
                        }
                    }                    
                }); */
                
            	TouchSlide({
    				slideCell : "#slideBox",
    				mainCell : ".bd ul",
    				effect : "leftLoop",
    				pageStateCell : ".pageState"
    			});            	            	
				
            	$(".bottom-details img").width($(".top").width());
            });
            
            // jQuery实现动画滚动
            $('.top-bg').click(function(event) {
                event.preventDefault();
                $('html, body').scrollTop(0);
            });
			
			$(".bottom > p img").click(function(){
                $(this).parent().next().toggle();
                if($(this).parent().next().css("display")=="block"){
                    $(this).attr("src","/images/mall/down.png");
                }else{
                    $(this).attr("src","/images/mall/up.png");
                }
            });
            
            $(".jia").click(function(){
            	var val = $(this).siblings(".val");
            	var count = parseInt(val.text());
                if (isNaN(count)) {
                	count = 1;
                } else {
                	count += 1;
                }
                val.text(count);
            });
            $(".jian").click(function(){
            	var val = $(this).siblings(".val");
            	var count = parseInt(val.text());
                if (isNaN(count) || count <= 1) {
                	count = 1;
                } else {
                	count -= 1;
                }
                val.text(count);
            });
            
            $(".addbtn").click(function(event){
            	if($(this).prop("disabled") == true)
            		return false;
            	var params = {
   					mallGoodsId : "26838",
   					standardId : standardId,
   					amount : $(".val").text(),
   					serial : "10549840601068216320",
   					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2"
   				};
            	
            	var standard = 1;
            	if(standard == 2 && $(".active").length < 1){
    				doAlert("no", "请选择商品的规格");
    				return;
    			}
            	if(standard == 2){
            		var standardId = $(".active").attr("data");
    				params.standardId = standardId;
            	}
            	$.post("/addtocart", params, function(result){
            		if (null == result || !result.success) {
            			toast(result.message);
    					return;
    				}
    				//更新购物车数量
    				/* var cartNum = $(".cartNum").text();
    				if (null == cartNum || "" == cartNum || typeof (cartNum) == undefined) {
    					$(".carts").append("<span class='cartNum'>1</span>");
    				} else {
    					if (null != result.attach && result.attach > 0) {
    						$(".cartNum").text(result.attach);
    					}
    				} */
    				toast("已经成功加入购物车");
            	});
            });
		$(".buybtn").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			$(this).attr("disabled","disabled");
			var standard = 1;
        	if(standard == 2 && $(".active").length < 1){
				doAlert("no", "请选择商品的规格");
				$(this).removeAttr("disabled");
				return;
        	}
        	if(standard == 2){
        		var standardId = $(".active").attr("data");
        		window.location.href = "/mall/tobuy/1?mallGoodsId=26838&amount=" + $(".val").text() + "&type=1&serial=10549840601068216320&standardId="+standardId;
        		return;
        	}
			window.location.href = "/mall/tobuy/1?mallGoodsId=26838&amount=" + $(".val").text() + "&type=1&serial=10549840601068216320";
		});
	
2016-07-21 11:02:03,198 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,199 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,199 htmlparser.py[line: 25] INFO: End tag: body
2016-07-21 11:02:03,199 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,200 htmlparser.py[line: 25] INFO: End tag: html
2016-07-21 11:02:03,200 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,200 htmlparser.py[line: 28] INFO: Data 
  	
	
2016-07-21 11:02:03,200 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,200 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,200 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,200 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,200 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	
2016-07-21 11:02:03,201 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,201 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,201 mydb.py[line: 77] INFO: query：SELECT name FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-21 11:02:03,205 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-21 11:02:03,205 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-21 11:02:02" WHERE executed_history_id = 20160721110202 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 11:02:03,208 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-21 11:02:03,208 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-21 11:02:03,208 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-21 11:02:02" WHERE executed_history_id = 20160721110202 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 11:02:03,338 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-21 11:02:03,338 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110202', '102', 'test-n-点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-21 11:02:03,339 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-点击立即购买按钮]
2016-07-21 11:02:03,339 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-21 11:02:03,340 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110202', '102', 'test-n-点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-21 11:02:03,340 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-21 11:02:03,341 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-21 11:02:03,341 wechatno_wemall.py[line: 228] INFO: 正在发起GET请求...
2016-07-21 11:02:03,341 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?type=1&mallGoodsId=26838&serial=10549840601068216320&amount=1
2016-07-21 11:02:03,341 httpprotocol.py[line: 51] INFO: {'Cookie': '10549840601068216320=ous64uFCCLMyXYDJ-MkNilyCI5CY2'}
2016-07-21 11:02:03,372 wechatno_wemall.py[line: 234] INFO: 正在解析返回结果:
	 





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta http-equiv="Expires" CONTENT="0">
<meta http-equiv="Cache-Control" CONTENT="no-cache">
<meta http-equiv="Pragma" CONTENT="no-cache">
<title>微商城</title>
<link rel="stylesheet" href="/css/mall/pure.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/grids-core.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/zepto.alert.css?v=3.4.0-f5bd5">

<link rel="stylesheet" href="/css/mall/mobiscroll.scroller.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/mobiscroll.scroller.ios7.css?v=3.4.0-f5bd5">
<link rel="stylesheet" href="/css/mall/mobiscroll.animation.css?v=3.4.0-f5bd5">
</head>
<style type="text/css">
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
	overflow-y: auto;
	overflow-x: hidden;
}

body {
	margin-bottom: 20px;
	overflow-y: auto;
	overflow-x: hidden;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
}

.header ul {
	position:relative;
	overflow: hidden;
}

.header ul li {
	width: 50%;
	float: left;
	height: 2.8em;
	line-height: 2.8em;
	background: #fff;
	text-align: center;
	border-bottom:1px solid #f38b44;
	-moz-box-sizing:border-box; /* Firefox */
     -webkit-box-sizing:border-box; /* Safari */
     box-sizing:border-box;
}
.header ul .lines{
	position: absolute;
	width: 1%;
	height: 2.8em;
	line-height: 2.8em;
	border-right: 1px solid #FDE5D4;
	left: 49%;
	top: -1px;
 } 
.header ul li a {
	color: #8b898a;
}

.tab_content>div {
	height: auto;
	font-size: 0.8em;
	margin: 0.5em 0;
}

.empty-p {
	width: 80%;
	float: left;
	padding: 0.5em 0;
}

.has-p {
    width: 100%;
    margin: 0 auto;
    padding: 0 1em;
    height: auto;
    line-height: 2.5em;
    text-align: left;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -webkit-box-sizing: -webkit-border-box;
}
.has-p-one{
    background: url(/images/mall/contact.png) no-repeat left center;
    background-size: 12px 12px;
}
.has-p-two{
    background: url(/images/mall/take.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.has-p-three{
    background: url(/images/mall/time.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.input-right{
    position: relative;
}
.input-right-img{
    width: 1em;
    position: absolute;
    right: 0.6em;
    top: 0.3em;
}
#scheduledTime{
    width:11em;
    height: 2em;
    border:1px solid #a0a0a0;
    border-radius:4px;
    color:#a0a0a0;
    text-indent:.5em
}
.hiddens-p{
    text-overflow:ellipsis; 
    overflow:hidden; 
    white-space:nowrap;  
}

.right-dashed {
	border-left: 1px solid #eee;
	margin-top: 1em;
	padding-bottom:1em;
}

#edit {
	padding: 1em 0 1em 2em;
    width: 10px;
}

.header ul li.active{
    border-bottom: 4px solid #f38b44;
}
.header ul li.active a{
    color: #f38b44!important;
}
.buy_title{
	background:#f3f3f3;
	padding:0.3em 1em;
	margin: 0;
}
.content {
	width: 100%;
	background: #fff;
	overflow: hidden;	
	padding-bottom:8%;
}

.selectList {
	border-bottom: 1px solid #efefef;
	margin: 0 auto;
	overflow: hidden;
	padding: 0.5em 1em;
	font-size: 0.8em;
	clear:both;
}

.selectList img {
    display: inline-block;
    float: left;
    width: 25%;
    border-radius: 4px;
    -webkit-border-radius: 4px;
}

.button {
	display:block;	
	width: 99%;	
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
	margin:0 auto 0.5em auto;
}

.addbtn {
	background: #33CC66;
}

.btn-wrap-5 {
	padding: 0 1em;
}
.buybtn {
	width: 100%;
	background: #f68d3c;
}

.footer {
	width: 100%;
	background: #fff;
	color: #b6b6b6;
	overflow: hidden;
	text-align: left;
	margin-bottom: 1em;
}

.all-end-button {
	width: 90%;
	margin: 1em auto 0.5em;
}

.all-end-button p:first-child {
	text-align: left;
}

.error-page{
	background: #ddd;
    padding-bottom: 2em;
}
.error-page img{
    margin:0 auto;
	padding-top: 2em;
}
.error-page p{
    text-align:center;
    color:#000;
    width:80%;
    margin:1em auto 2em;
}
#deliverFee{
	text-align:left;
	font-size:0.8em;
	color:#acb0af;
}
.order-div{
    margin-left: 26.8%;            
    position: relative;
}
.order-div>p:last-child{
    width: 100%;
    margin: 0;
    position: absolute;
    bottom: 0;
    left: 0;
}
.m-t-n{
    margin-top: 0;
}
.m-t-n>span{
    display: inline-block;
}
.m-t-n>span:first-child{
    width: 70%;
}
.m-t-n>span:last-child{
    width: 30%;
}
.mtn-span{
    float: right;
}
.t-r-span{
	text-align:right;
}
.ccc{
    color: #ccc;
}
.peisong{
    text-align: right;
    margin-bottom: 0;
    padding-right: 1em;
    padding-top: 0.4em;
}
.peisong-detail{
    color:#000;
}
.peisong-detail input{
    border: none;
}
.peisong-detail div>p{
    padding-left: 1.8em;
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    margin: 0;
    clear:both;
}

.weipay{            
    background: url(/images/weixin2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}        
.peisong-detail div>p.pay{
    background: url(/images/money2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.cardpay{
    background: url(/images/cardpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.mdpay{
    background: url(/images/mdpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}

.peisong-detail div[class^="btn-wrap-"] {
	border-bottom: 1px solid #dadada;
	padding: 0 1em;
	height: 3em;
	position: relative;
}

.weipay,.pay,.mdpay,.cardpay{
    position: relative;
}
 .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{
    width: 1.2em;
    height: 1.2em;
    position: absolute;
    right: 0;
    top: 50%;
    transform:translateY(-50%);
}

.pure-img-check {
	background: url(/images/weixuan2.png) no-repeat left center;
    background-size:1.2em 1.2em; 
    float: right;
    height: 1.2em;
    width: 1.2em;
}

.zhifu input{
    display: none;
}
#deliverFeeDiv, #FetchDiv {
	border-bottom: 1px solid #efefef;
    padding: 0.5em 0;
}
#deliverFeeDiv p, #FetchDiv p{
	text-align:right;
}

#remark {
	padding: 0.5em 1em;
	height: 4em;
	font-size: 1.0em;
}
</style>
<body>
	<div id="wrapper">
		
			
			
			
				
					
					
						
						
						
						
						
					
					
				
				
			
			<div class="header">
				
					<ul class="tab">
						<li class='active' data='#deliverFeeDiv'><a href="#tab1">快递发货</a></li>						
						<li class=''><a href="#tab2">到店自提</a></li>
						<span class="lines"></span>
					</ul>
				
			</div>
			<p class="buy_title"></p>
			
			<div class="tab_container">
				<div id="tab1" class="tab_content pure-g" style="">
					<div class="pure-u-24-24">
						
							
								<div class="has-p">
									<span>联系方式：</span>
									<span class="pure-u-3-5">17817738278<span>(17817738178)</span></span>
								</div>
								<div class="has-p">
									<span>配送地址：</span>
									<span class="pure-u-3-5">北京市县密云县把</span>
									<span style="float:right;">
										
											
											
											<a href="/toaddr/1?serial=10549840601068216320&fm=1&mallGoodsId=26838&amount=1&amounts=&cartIds=">
												<img src="/images/enter.png?v=3.4.0-f5bd5" class="pure-img" id="edit">
											</a>
											
										
									</span>
                                </div>
							
							
						
					</div>
				</div>
				<div id="tab2" class="tab_content pure-g" style="display:none">
					<div class="pure-u-24-24">
						
							
							
								<div class="has-p">
									<span class="empty-p">请选择要取货的店铺和时间以确保您能快捷方便取到货物</span>
									<span style="float:right;">
										
											
											
											<a href="/toaddr/2?serial=10549840601068216320&fm=1&mallGoodsId=26838&amount=1&amounts=&cartIds=">
												<img src="/images/enter.png?v=3.4.0-f5bd5" class="pure-img" id="edit">
											</a>
											
										
									</span>
								</div>
							
						
					</div>
				</div>
			</div>
			<p class="buy_title"></p>
			
			<div class="content">
				
					
						
							<div class="selectList">
								<img src="http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg"> 
								
									
									
										<div class="order-div">
											<p class="m-t-n"><span>接口-测试商品1</span><span class="mtn-span t-r-span">￥0.01</span></p>
											<p><span class="ccc mtn-span">X1</span></p>															
									
								
							</div>
						
					
					
					
				
				<div id="deliverFeeDiv">
					 
						
						<!-- 消费额大于或等于满额包邮的金额就不算运费 -->								
							<p id="deliverFee">（买满￥0.00元包邮)</p>
							<p class="orange">合计：￥0.01</p>
						
						
					 
				</div>
				<div id="FetchDiv" style="display: none;">
					<p class="orange">合计：￥0.01</p>
				</div>
				<div id="remark">
					<span class="beizhu" style="float:left">备注：</span>
                   	<span class="beizhulan">
                   		<textarea rows="3" placeholder="可于此处给卖家留言备注" style="border:0;width: 85%;"></textarea>
                   	</span>
				</div>
			</div>
			<p class="buy_title"></p>
			<div class="footer">
				<div class="peisong-detail zhifu">
					<div class="btn-wrap-1">
                	
                     	<p class="weipay">微信支付<span class="pure-img-check"></span>
                         	<input type="radio" name="zhifu" value="1"/>
                     	</p>
                    
                  	</div>
                  	
                  	<div class="btn-wrap-2" style="">
                  	
                     	<p class="pay">货到付款<span class="pure-img-check"></span>
                         	<input type="radio" name="zhifu" value="3"/>
                     	</p>
                   	
                   	</div>
		
                    <div class="btn-wrap-3" style="display:none">
                    
                    	<p class="mdpay">到店支付<span class="pure-img-check"></span>
                    		<input type="radio" name="zhifu" value="2"/>
                    	</p>
                   	
                   	</div>
                   	
                   	<div class="btn-wrap-4">
                   	
                   		<p class="cardpay">储值卡支付<span class="pure-img-check"></span>
                   			<input type="radio" name="zhifu" value="4"/>
                   		</p>
                   	
                    </div>
                </div>
			</div>
			<div class="btn-wrap-5">
				<input type="button" class="button buybtn submit" value="确认提交" />
			</div>
			
		
	</div>
	<script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/touch.js?v=3.4.0-f5bd5"></script>
    
	<script type="text/javascript" src="/js/mall/zepto.alert.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mall.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.zepto.js?v=3.4.0-f5bd5" ></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.core.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.scroller.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.datetime.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript" src="/js/mall/mobiscroll.i18n.zh.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript">
		$(function() {
			$("input[name='zhifu']:checked").prev('.pure-img').attr('src','/images/check.png');
			var tab = parseInt("1");
			if(tab == 1){
				$("#deliverFeeDiv").show();
				$("#FetchDiv").hide();
			}else if(parseInt("1") != 0){
				$("#deliverFeeDiv").hide();
				$("#FetchDiv").show();
			}
			// 控制显示图片比例
			var img_left_heights = $(".selectList img").width()*(0.75);
			$(".selectList img,.order-div").css('height',img_left_heights);
			
			// 取货日期
			var now = new Date();
            $('#scheduledTime').mobiscroll().datetime({
                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),
                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),
                stepMinute: 30,
                dateOrder :"yymmdd",
                dateFormat:"yy-mm-dd",
                timeWheels:"HHii",
                timeFormat:"HH:ii",
                //invalid: [{ start: '00:00', end: '08:00' },{ start: '22:00', end: '23:59' }],
                theme: 'ios7',
                lang: 'zh',
                display: 'bottom',
                mode: 'mixed'
            });
            $('#scheduledTime').click(function(){
                $('#scheduledTime').mobiscroll('show'); 
                return false;
            });
            
			$("ul li").click(function() {
				$("ul li").removeClass("active");
				$(this).addClass("active");
				if($(this).attr("data")=="#deliverFeeDiv"){
					$("#deliverFeeDiv").show();
					$("#FetchDiv").hide();
				}else{
					$("#deliverFeeDiv").hide();
					$("#FetchDiv").show();
				}
				$(".tab_content").hide();
				var href = $(this).find("a").attr("href");
				$(href).show();
				
				if(href.endWith("tab1")) {
					$(".btn-wrap-2").show();
					$(".btn-wrap-3").hide();
				} else if(href.endWith("tab2")) {
					$(".btn-wrap-2").hide();
					$(".btn-wrap-3").show();
				}
				//清空已选择的支付方式
				$("input[name='zhifu']").prop("checked", false);
				$(".zhifu .pure-img-check").css('background-image','url(/images/weixuan2.png)');
				return false;
			});
			//商户设置的满额包邮价
			/* var noDeliverFee = toPrice(parseFloat("0")/100);
			var totalFee = parseFloat("0.01");
			if(totalFee > noDeliverFee){
				$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);
				$("#deliverFee").text("含运费：￥0.00");
			} */
			$('.zhifu>div').click(function(){
	            $("input[name=zhifu]").prop("checked", false);
	            $(".pure-img-check").css('backgroundImage','url(/images/weixuan2.png)');
	            var img_obj = $(this).find('.pure-img-check');
	            var backgroundImage = img_obj.css('background-image');
	            var input_obj = $(this).find('input');
	            if(backgroundImage.indexOf("weixuan2.png") > 0){
	                img_obj.css('background-image','url(/images/check.png)');
	                input_obj.prop("checked", "checked");
	            }else{
	                img_obj.css('background-image','url(/images/weixuan2.png)');
	                input_obj.prop("checked", false);
	            }
	        });
		});
		
		function validateRemark(){
			if($('.beizhulan textarea').val() != "" && $('.beizhulan textarea').val() != undefined){
				if($('.beizhulan textarea').val().length>30){
					$.dialog({
                        widths : '80%',
                        content : '您输入的备注过长，请不要超过30个字',
                        title : 'no',
                        fullok : function() {
                            return true;
                        },                       
                        lock : true
                    });	
					return false;
				}
				return true;
			}
			return true;
		}
		
		$(".submit").click(function(event){
			var payType = $("input[name='zhifu']:checked").val();
			if(null == payType || "" == payType || typeof(payType) == "undefined") {
       		 $.dialog({
                    widths : '80%',
                    content : '请选择支付方式',
                    title : 'no',
                    fullok : function() {
                        return true;
                    },                       
                    lock : true
                });
       			return;
       		}
			$.dialog({
                content : "确认提交订单？",
                title : "no",
                okText: '取消',
                cancelText : '确定', 
                ok : function() {
                	$(".ft-right").removeAttr("disabled");
                	return;
                },
                cancel : function() {                        	
               		
               		if(payType == 1){
               			if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				doAlert("no", "无效物流方式");
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/1", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "id=" + result.attach;
            	    			strParams += "&serial=10549840601068216320";
            	    			if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
            	        	});
            			}
               		}
               		
    				if(payType == 2){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					var shopBranch = "";
    					if(shopBranch == "") {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					var _fetchTime = $("#scheduledTime").val();
    					if(null == _fetchTime || "" == _fetchTime) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请选择取货时间',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						
    						var _remark = $(".beizhulan").find("textarea").val();
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							fetchTime : _fetchTime,
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/2/2", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 3){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑收货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						var _remark = encodeURI($(".beizhulan").find("textarea").val());
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/1/3", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 4){
    					if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				$.dialog({
        	                    widths : '80%',
        	                    content : '无效物流方式',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/4", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "?orderId=" + result.attach;
            					if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            					strParams += "&serial=10549840601068216320";
                				window.location.href = "/pay/5"+strParams;
            	        	});
            			}
            			
    				}
    				
                },
                lock : true
            });
		});
		
		//微信支付
		/* $(".payUseWX").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			var type = 0;
			$(".tab_content").each(function(){
				if($(this).css("display") != "none") {
					var attrId = $(this).attr("id");
					if(attrId == "tab1") {
						type = 1;//快递取货
					} else if(attrId == "tab2") {
						type = 2;//门店自提
					}
				}
			});
			if(type <= 0) {
				doAlert("no", "无效物流方式");
				return;
			}
			if(type == 1) {
				if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑收货地址");
					return;
				}
			}
			var _fetchTime = "";
			if(type == 2) {
				if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑取货地址");
					return;
				}
				_fetchTime = $("#scheduledTime").val();
				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
					doAlert("no", "请选择取货时间");
					return;
				}
				var shopBranch = "";
				if(shopBranch == "") {
					doAlert("no", "请编辑取货地址");
					return;
				}
			}
			
			var _remark = encodeURI($(".beizhulan").find("textarea").val());
			var params = {
				serial : "10549840601068216320",
				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
				fm : "1",
				mallGoodsId : "26838",
				amount : "1",
				cartIds : "",
				fetchTime : _fetchTime,
				remark : _remark
			};
			if(parseInt("1") == 1 && parseInt("1") == 2){
				var standardId = "";
				if(standardId != null && standardId != undefined){
					params.standardId = standardId;
				}
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				$.post("/cmorder/" + type+ "/1", params, function(result){
					dialog.close();
					
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					
					var strParams = "id=" + result.attach;
	    			strParams += "&serial=10549840601068216320";
	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
	        	});
			}
		}); */
		//货到付款
		/* $(".payAfrecv").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑收货地址");
				return;
			}
			
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				var _remark = encodeURI($(".beizhulan").find("textarea").val());
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/1/3", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
	        	});
			}
		}); */
		//到店支付
		// $(".payInshop").click(function(event) {
			/* if($(this).prop("disabled") == true)
        		return false;
			
			var shopBranch = "";
			if(shopBranch == "") {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			var _fetchTime = $("#scheduledTime").val();
			if(null == _fetchTime || "" == _fetchTime) {
				doAlert("no", "请选择取货时间");
				return;
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				
				var _remark = $(".beizhulan").find("textarea").val();
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					fetchTime : _fetchTime,
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/2/2", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
	        	});
			} */
		// });
	</script>
</body>
</html>
<!--加入判断用户是否关注公众号功能 add by lipengfei at 2015-11-9  -->
  	
	<script type="text/javascript" src="/js/bind/banner.js?v=3.4.0-f5bd5"></script>
	<script type="text/javascript">
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	</script>

2016-07-21 11:02:03,380 htmlparser.py[line: 28] INFO: Data 
	 






2016-07-21 11:02:03,380 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,380 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,380 htmlparser.py[line: 25] INFO: End tag: link
2016-07-21 11:02:03,380 htmlparser.py[line: 28] INFO: Data   

2016-07-21 11:02:03,381 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,381 htmlparser.py[line: 19] INFO: Start tag: html
2016-07-21 11:02:03,381 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,381 htmlparser.py[line: 19] INFO: Start tag: head
2016-07-21 11:02:03,381 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,381 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,381 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,381 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,381 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,382 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,382 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,382 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,382 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,382 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,382 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,382 htmlparser.py[line: 19] INFO: Start tag: meta
2016-07-21 11:02:03,382 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,382 htmlparser.py[line: 19] INFO: Start tag: title
2016-07-21 11:02:03,382 htmlparser.py[line: 28] INFO: Data 微商城
2016-07-21 11:02:03,383 htmlparser.py[line: 25] INFO: End tag: title
2016-07-21 11:02:03,383 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,383 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,383 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,383 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,383 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,383 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,383 htmlparser.py[line: 28] INFO: Data 


2016-07-21 11:02:03,383 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,383 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,384 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,384 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,384 htmlparser.py[line: 19] INFO: Start tag: link
2016-07-21 11:02:03,384 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,384 htmlparser.py[line: 25] INFO: End tag: head
2016-07-21 11:02:03,384 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,384 htmlparser.py[line: 19] INFO: Start tag: style
2016-07-21 11:02:03,384 htmlparser.py[line: 28] INFO: Data 
* {
	margin: 0;
	padding: 0;
}

html {
	color: #626262;
	overflow-y: auto;
	overflow-x: hidden;
}

body {
	margin-bottom: 20px;
	overflow-y: auto;
	overflow-x: hidden;
}

a {
	text-decoration: none;
}

ol,ul {
	list-style: outside none none;
}

.left {
	float: left;
}

.right {
	float: right;
}

.in-block {
	display: inline-block;
}

.orange {
	color: #c58d04;
}

.grey {
	color: #adadad;
}

.bg-color {
	background: #ececec;
}

#wrapper {
	width: 100%;
	margin: 0 auto;
}

.header {
	width: 100%;
}

.header ul {
	position:relative;
	overflow: hidden;
}

.header ul li {
	width: 50%;
	float: left;
	height: 2.8em;
	line-height: 2.8em;
	background: #fff;
	text-align: center;
	border-bottom:1px solid #f38b44;
	-moz-box-sizing:border-box; /* Firefox */
     -webkit-box-sizing:border-box; /* Safari */
     box-sizing:border-box;
}
.header ul .lines{
	position: absolute;
	width: 1%;
	height: 2.8em;
	line-height: 2.8em;
	border-right: 1px solid #FDE5D4;
	left: 49%;
	top: -1px;
 } 
.header ul li a {
	color: #8b898a;
}

.tab_content>div {
	height: auto;
	font-size: 0.8em;
	margin: 0.5em 0;
}

.empty-p {
	width: 80%;
	float: left;
	padding: 0.5em 0;
}

.has-p {
    width: 100%;
    margin: 0 auto;
    padding: 0 1em;
    height: auto;
    line-height: 2.5em;
    text-align: left;
    box-sizing: border-box;
    -webkit-box-sizing: border-box;
    -webkit-box-sizing: -webkit-border-box;
}
.has-p-one{
    background: url(/images/mall/contact.png) no-repeat left center;
    background-size: 12px 12px;
}
.has-p-two{
    background: url(/images/mall/take.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.has-p-three{
    background: url(/images/mall/time.png) no-repeat left 2px;
    background-size: 12px 12px;
}
.input-right{
    position: relative;
}
.input-right-img{
    width: 1em;
    position: absolute;
    right: 0.6em;
    top: 0.3em;
}
#scheduledTime{
    width:11em;
    height: 2em;
    border:1px solid #a0a0a0;
    border-radius:4px;
    color:#a0a0a0;
    text-indent:.5em
}
.hiddens-p{
    text-overflow:ellipsis; 
    overflow:hidden; 
    white-space:nowrap;  
}

.right-dashed {
	border-left: 1px solid #eee;
	margin-top: 1em;
	padding-bottom:1em;
}

#edit {
	padding: 1em 0 1em 2em;
    width: 10px;
}

.header ul li.active{
    border-bottom: 4px solid #f38b44;
}
.header ul li.active a{
    color: #f38b44!important;
}
.buy_title{
	background:#f3f3f3;
	padding:0.3em 1em;
	margin: 0;
}
.content {
	width: 100%;
	background: #fff;
	overflow: hidden;	
	padding-bottom:8%;
}

.selectList {
	border-bottom: 1px solid #efefef;
	margin: 0 auto;
	overflow: hidden;
	padding: 0.5em 1em;
	font-size: 0.8em;
	clear:both;
}

.selectList img {
    display: inline-block;
    float: left;
    width: 25%;
    border-radius: 4px;
    -webkit-border-radius: 4px;
}

.button {
	display:block;	
	width: 99%;	
	height: 3em;
	color: #fff;
	border: none;
	border-radius: 4px;
	margin:0 auto 0.5em auto;
}

.addbtn {
	background: #33CC66;
}

.btn-wrap-5 {
	padding: 0 1em;
}
.buybtn {
	width: 100%;
	background: #f68d3c;
}

.footer {
	width: 100%;
	background: #fff;
	color: #b6b6b6;
	overflow: hidden;
	text-align: left;
	margin-bottom: 1em;
}

.all-end-button {
	width: 90%;
	margin: 1em auto 0.5em;
}

.all-end-button p:first-child {
	text-align: left;
}

.error-page{
	background: #ddd;
    padding-bottom: 2em;
}
.error-page img{
    margin:0 auto;
	padding-top: 2em;
}
.error-page p{
    text-align:center;
    color:#000;
    width:80%;
    margin:1em auto 2em;
}
#deliverFee{
	text-align:left;
	font-size:0.8em;
	color:#acb0af;
}
.order-div{
    margin-left: 26.8%;            
    position: relative;
}
.order-div>p:last-child{
    width: 100%;
    margin: 0;
    position: absolute;
    bottom: 0;
    left: 0;
}
.m-t-n{
    margin-top: 0;
}
.m-t-n>span{
    display: inline-block;
}
.m-t-n>span:first-child{
    width: 70%;
}
.m-t-n>span:last-child{
    width: 30%;
}
.mtn-span{
    float: right;
}
.t-r-span{
	text-align:right;
}
.ccc{
    color: #ccc;
}
.peisong{
    text-align: right;
    margin-bottom: 0;
    padding-right: 1em;
    padding-top: 0.4em;
}
.peisong-detail{
    color:#000;
}
.peisong-detail input{
    border: none;
}
.peisong-detail div>p{
    padding-left: 1.8em;
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    margin: 0;
    clear:both;
}

.weipay{            
    background: url(/images/weixin2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}        
.peisong-detail div>p.pay{
    background: url(/images/money2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.cardpay{
    background: url(/images/cardpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}
.peisong-detail div>p.mdpay{
    background: url(/images/mdpay2.png) no-repeat left center;
    background-size:1.6em 1.4em; 
}

.peisong-detail div[class^="btn-wrap-"] {
	border-bottom: 1px solid #dadada;
	padding: 0 1em;
	height: 3em;
	position: relative;
}

.weipay,.pay,.mdpay,.cardpay{
    position: relative;
}
 .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{
    width: 1.2em;
    height: 1.2em;
    position: absolute;
    right: 0;
    top: 50%;
    transform:translateY(-50%);
}

.pure-img-check {
	background: url(/images/weixuan2.png) no-repeat left center;
    background-size:1.2em 1.2em; 
    float: right;
    height: 1.2em;
    width: 1.2em;
}

.zhifu input{
    display: none;
}
#deliverFeeDiv, #FetchDiv {
	border-bottom: 1px solid #efefef;
    padding: 0.5em 0;
}
#deliverFeeDiv p, #FetchDiv p{
	text-align:right;
}

#remark {
	padding: 0.5em 1em;
	height: 4em;
	font-size: 1.0em;
}

2016-07-21 11:02:03,386 htmlparser.py[line: 25] INFO: End tag: style
2016-07-21 11:02:03,386 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,387 htmlparser.py[line: 19] INFO: Start tag: body
2016-07-21 11:02:03,387 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,387 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,387 htmlparser.py[line: 28] INFO: Data 
		
			
			
			
				
					
					
						
						
						
						
						
					
					
				
				
			
			
2016-07-21 11:02:03,387 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,387 htmlparser.py[line: 28] INFO: Data 
				
					
2016-07-21 11:02:03,387 htmlparser.py[line: 19] INFO: Start tag: ul
2016-07-21 11:02:03,387 htmlparser.py[line: 28] INFO: Data 
						
2016-07-21 11:02:03,388 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 11:02:03,388 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,388 htmlparser.py[line: 28] INFO: Data 快递发货
2016-07-21 11:02:03,388 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,389 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 11:02:03,389 htmlparser.py[line: 28] INFO: Data 						
						
2016-07-21 11:02:03,389 htmlparser.py[line: 19] INFO: Start tag: li
2016-07-21 11:02:03,389 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,389 htmlparser.py[line: 28] INFO: Data 到店自提
2016-07-21 11:02:03,389 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,389 htmlparser.py[line: 25] INFO: End tag: li
2016-07-21 11:02:03,389 htmlparser.py[line: 28] INFO: Data 
						
2016-07-21 11:02:03,390 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,390 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,390 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,390 htmlparser.py[line: 25] INFO: End tag: ul
2016-07-21 11:02:03,390 htmlparser.py[line: 28] INFO: Data 
				
			
2016-07-21 11:02:03,390 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,390 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,390 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,390 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,390 htmlparser.py[line: 28] INFO: Data 
			
			
2016-07-21 11:02:03,391 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,391 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,391 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,391 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,391 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,391 htmlparser.py[line: 28] INFO: Data 
						
							
								
2016-07-21 11:02:03,391 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,391 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,391 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,391 htmlparser.py[line: 28] INFO: Data 联系方式：
2016-07-21 11:02:03,392 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,392 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,392 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,392 htmlparser.py[line: 28] INFO: Data 17817738278
2016-07-21 11:02:03,392 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,392 htmlparser.py[line: 28] INFO: Data (17817738178)
2016-07-21 11:02:03,392 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,392 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,392 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 11:02:03,392 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,392 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 11:02:03,393 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,393 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,393 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,393 htmlparser.py[line: 28] INFO: Data 配送地址：
2016-07-21 11:02:03,393 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,393 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,393 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,393 htmlparser.py[line: 28] INFO: Data 北京市县密云县把
2016-07-21 11:02:03,393 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,394 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,394 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,394 htmlparser.py[line: 28] INFO: Data 
										
											
											
											
2016-07-21 11:02:03,394 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,394 htmlparser.py[line: 28] INFO: Data 
												
2016-07-21 11:02:03,394 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,395 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 11:02:03,395 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,395 htmlparser.py[line: 28] INFO: Data 
											
										
									
2016-07-21 11:02:03,395 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,395 htmlparser.py[line: 28] INFO: Data 
                                
2016-07-21 11:02:03,395 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,395 htmlparser.py[line: 28] INFO: Data 
							
							
						
					
2016-07-21 11:02:03,395 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,395 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,395 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,396 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,396 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,396 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,396 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,396 htmlparser.py[line: 28] INFO: Data 
						
							
							
								
2016-07-21 11:02:03,396 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,396 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,396 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,396 htmlparser.py[line: 28] INFO: Data 请选择要取货的店铺和时间以确保您能快捷方便取到货物
2016-07-21 11:02:03,397 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,397 htmlparser.py[line: 28] INFO: Data 
									
2016-07-21 11:02:03,397 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,397 htmlparser.py[line: 28] INFO: Data 
										
											
											
											
2016-07-21 11:02:03,397 htmlparser.py[line: 19] INFO: Start tag: a
2016-07-21 11:02:03,397 htmlparser.py[line: 28] INFO: Data 
												
2016-07-21 11:02:03,397 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,397 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 11:02:03,397 htmlparser.py[line: 25] INFO: End tag: a
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
											
										
									
2016-07-21 11:02:03,398 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 11:02:03,398 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
							
						
					
2016-07-21 11:02:03,398 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,398 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,398 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,398 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,399 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,399 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,399 htmlparser.py[line: 28] INFO: Data 
			
			
2016-07-21 11:02:03,399 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,399 htmlparser.py[line: 28] INFO: Data 
				
					
						
							
2016-07-21 11:02:03,399 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,399 htmlparser.py[line: 28] INFO: Data 
								
2016-07-21 11:02:03,399 htmlparser.py[line: 19] INFO: Start tag: img
2016-07-21 11:02:03,399 htmlparser.py[line: 28] INFO: Data  
								
									
									
										
2016-07-21 11:02:03,400 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,400 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 11:02:03,400 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,400 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,400 htmlparser.py[line: 28] INFO: Data 接口-测试商品1
2016-07-21 11:02:03,400 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,400 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,400 htmlparser.py[line: 28] INFO: Data ￥0.01
2016-07-21 11:02:03,401 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,401 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,401 htmlparser.py[line: 28] INFO: Data 
											
2016-07-21 11:02:03,401 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,401 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,401 htmlparser.py[line: 28] INFO: Data X1
2016-07-21 11:02:03,401 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,401 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,401 htmlparser.py[line: 28] INFO: Data 															
									
								
							
2016-07-21 11:02:03,401 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,401 htmlparser.py[line: 28] INFO: Data 
						
					
					
					
				
				
2016-07-21 11:02:03,402 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,402 htmlparser.py[line: 28] INFO: Data 
					 
						
						
2016-07-21 11:02:03,402 htmlparser.py[line: 28] INFO: Data 								
							
2016-07-21 11:02:03,402 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,402 htmlparser.py[line: 28] INFO: Data （买满￥0.00元包邮)
2016-07-21 11:02:03,402 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,402 htmlparser.py[line: 28] INFO: Data 
							
2016-07-21 11:02:03,402 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,402 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 11:02:03,402 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,403 htmlparser.py[line: 28] INFO: Data 
						
						
					 
				
2016-07-21 11:02:03,403 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,403 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,403 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,403 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,403 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,403 htmlparser.py[line: 28] INFO: Data 合计：￥0.01
2016-07-21 11:02:03,403 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,403 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,404 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,404 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,404 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,404 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,404 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,404 htmlparser.py[line: 28] INFO: Data 备注：
2016-07-21 11:02:03,404 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,404 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 11:02:03,404 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,405 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 11:02:03,405 htmlparser.py[line: 19] INFO: Start tag: textarea
2016-07-21 11:02:03,405 htmlparser.py[line: 25] INFO: End tag: textarea
2016-07-21 11:02:03,405 htmlparser.py[line: 28] INFO: Data 
                   	
2016-07-21 11:02:03,405 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,406 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,406 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,406 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,406 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,406 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,406 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,406 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,406 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,407 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,407 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,407 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,407 htmlparser.py[line: 28] INFO: Data 
					
2016-07-21 11:02:03,407 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,407 htmlparser.py[line: 28] INFO: Data 
                	
                     	
2016-07-21 11:02:03,407 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,407 htmlparser.py[line: 28] INFO: Data 微信支付
2016-07-21 11:02:03,407 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,407 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,408 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 11:02:03,408 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,408 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,408 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 11:02:03,408 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,408 htmlparser.py[line: 28] INFO: Data 
                    
                  	
2016-07-21 11:02:03,408 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,408 htmlparser.py[line: 28] INFO: Data 
                  	
                  	
2016-07-21 11:02:03,408 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,408 htmlparser.py[line: 28] INFO: Data 
                  	
                     	
2016-07-21 11:02:03,409 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,409 htmlparser.py[line: 28] INFO: Data 货到付款
2016-07-21 11:02:03,409 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,409 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,409 htmlparser.py[line: 28] INFO: Data 
                         	
2016-07-21 11:02:03,409 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,410 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,410 htmlparser.py[line: 28] INFO: Data 
                     	
2016-07-21 11:02:03,410 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,410 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 11:02:03,410 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,410 htmlparser.py[line: 28] INFO: Data 
		
                    
2016-07-21 11:02:03,410 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,410 htmlparser.py[line: 28] INFO: Data 
                    
                    	
2016-07-21 11:02:03,410 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,411 htmlparser.py[line: 28] INFO: Data 到店支付
2016-07-21 11:02:03,411 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,411 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,411 htmlparser.py[line: 28] INFO: Data 
                    		
2016-07-21 11:02:03,411 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,411 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,411 htmlparser.py[line: 28] INFO: Data 
                    	
2016-07-21 11:02:03,411 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,411 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 11:02:03,411 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,412 htmlparser.py[line: 28] INFO: Data 
                   	
                   	
2016-07-21 11:02:03,412 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,412 htmlparser.py[line: 28] INFO: Data 
                   	
                   		
2016-07-21 11:02:03,412 htmlparser.py[line: 19] INFO: Start tag: p
2016-07-21 11:02:03,412 htmlparser.py[line: 28] INFO: Data 储值卡支付
2016-07-21 11:02:03,412 htmlparser.py[line: 19] INFO: Start tag: span
2016-07-21 11:02:03,412 htmlparser.py[line: 25] INFO: End tag: span
2016-07-21 11:02:03,412 htmlparser.py[line: 28] INFO: Data 
                   			
2016-07-21 11:02:03,412 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,412 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,413 htmlparser.py[line: 28] INFO: Data 
                   		
2016-07-21 11:02:03,413 htmlparser.py[line: 25] INFO: End tag: p
2016-07-21 11:02:03,413 htmlparser.py[line: 28] INFO: Data 
                   	
                    
2016-07-21 11:02:03,413 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,413 htmlparser.py[line: 28] INFO: Data 
                
2016-07-21 11:02:03,413 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,413 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,413 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,413 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,413 htmlparser.py[line: 19] INFO: Start tag: div
2016-07-21 11:02:03,414 htmlparser.py[line: 28] INFO: Data 
				
2016-07-21 11:02:03,414 htmlparser.py[line: 19] INFO: Start tag: input
2016-07-21 11:02:03,414 htmlparser.py[line: 25] INFO: End tag: input
2016-07-21 11:02:03,414 htmlparser.py[line: 28] INFO: Data 
			
2016-07-21 11:02:03,414 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,414 htmlparser.py[line: 28] INFO: Data 
			
		
	
2016-07-21 11:02:03,414 htmlparser.py[line: 25] INFO: End tag: div
2016-07-21 11:02:03,414 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,414 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,415 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 28] INFO: Data 
    
	
2016-07-21 11:02:03,415 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,415 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,415 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,416 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,416 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,416 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,416 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,417 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,417 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,417 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,417 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,417 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,417 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,417 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,418 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			$("input[name='zhifu']:checked").prev('.pure-img').attr('src','/images/check.png');
			var tab = parseInt("1");
			if(tab == 1){
				$("#deliverFeeDiv").show();
				$("#FetchDiv").hide();
			}else if(parseInt("1") != 0){
				$("#deliverFeeDiv").hide();
				$("#FetchDiv").show();
			}
			// 控制显示图片比例
			var img_left_heights = $(".selectList img").width()*(0.75);
			$(".selectList img,.order-div").css('height',img_left_heights);
			
			// 取货日期
			var now = new Date();
            $('#scheduledTime').mobiscroll().datetime({
                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),
                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),
                stepMinute: 30,
                dateOrder :"yymmdd",
                dateFormat:"yy-mm-dd",
                timeWheels:"HHii",
                timeFormat:"HH:ii",
                //invalid: [{ start: '00:00', end: '08:00' },{ start: '22:00', end: '23:59' }],
                theme: 'ios7',
                lang: 'zh',
                display: 'bottom',
                mode: 'mixed'
            });
            $('#scheduledTime').click(function(){
                $('#scheduledTime').mobiscroll('show'); 
                return false;
            });
            
			$("ul li").click(function() {
				$("ul li").removeClass("active");
				$(this).addClass("active");
				if($(this).attr("data")=="#deliverFeeDiv"){
					$("#deliverFeeDiv").show();
					$("#FetchDiv").hide();
				}else{
					$("#deliverFeeDiv").hide();
					$("#FetchDiv").show();
				}
				$(".tab_content").hide();
				var href = $(this).find("a").attr("href");
				$(href).show();
				
				if(href.endWith("tab1")) {
					$(".btn-wrap-2").show();
					$(".btn-wrap-3").hide();
				} else if(href.endWith("tab2")) {
					$(".btn-wrap-2").hide();
					$(".btn-wrap-3").show();
				}
				//清空已选择的支付方式
				$("input[name='zhifu']").prop("checked", false);
				$(".zhifu .pure-img-check").css('background-image','url(/images/weixuan2.png)');
				return false;
			});
			//商户设置的满额包邮价
			/* var noDeliverFee = toPrice(parseFloat("0")/100);
			var totalFee = parseFloat("0.01");
			if(totalFee > noDeliverFee){
				$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);
				$("#deliverFee").text("含运费：￥0.00");
			} */
			$('.zhifu>div').click(function(){
	            $("input[name=zhifu]").prop("checked", false);
	            $(".pure-img-check").css('backgroundImage','url(/images/weixuan2.png)');
	            var img_obj = $(this).find('.pure-img-check');
	            var backgroundImage = img_obj.css('background-image');
	            var input_obj = $(this).find('input');
	            if(backgroundImage.indexOf("weixuan2.png") > 0){
	                img_obj.css('background-image','url(/images/check.png)');
	                input_obj.prop("checked", "checked");
	            }else{
	                img_obj.css('background-image','url(/images/weixuan2.png)');
	                input_obj.prop("checked", false);
	            }
	        });
		});
		
		function validateRemark(){
			if($('.beizhulan textarea').val() != "" && $('.beizhulan textarea').val() != undefined){
				if($('.beizhulan textarea').val().length>30){
					$.dialog({
                        widths : '80%',
                        content : '您输入的备注过长，请不要超过30个字',
                        title : 'no',
                        fullok : function() {
                            return true;
                        },                       
                        lock : true
                    });	
					return false;
				}
				return true;
			}
			return true;
		}
		
		$(".submit").click(function(event){
			var payType = $("input[name='zhifu']:checked").val();
			if(null == payType || "" == payType || typeof(payType) == "undefined") {
       		 $.dialog({
                    widths : '80%',
                    content : '请选择支付方式',
                    title : 'no',
                    fullok : function() {
                        return true;
                    },                       
                    lock : true
                });
       			return;
       		}
			$.dialog({
                content : "确认提交订单？",
                title : "no",
                okText: '取消',
                cancelText : '确定', 
                ok : function() {
                	$(".ft-right").removeAttr("disabled");
                	return;
                },
                cancel : function() {                        	
               		
               		if(payType == 1){
               			if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				doAlert("no", "无效物流方式");
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/1", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "id=" + result.attach;
            	    			strParams += "&serial=10549840601068216320";
            	    			if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
            	        	});
            			}
               		}
               		
    				if(payType == 2){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					var shopBranch = "";
    					if(shopBranch == "") {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑取货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					var _fetchTime = $("#scheduledTime").val();
    					if(null == _fetchTime || "" == _fetchTime) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请选择取货时间',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						
    						var _remark = $(".beizhulan").find("textarea").val();
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							fetchTime : _fetchTime,
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/2/2", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 3){
    					if($(this).prop("disabled") == true)
    		        		return false;
    					
    					if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
    						$.dialog({
        	                    widths : '80%',
        	                    content : '请编辑收货地址',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
    						return;
    					}
    					
    					
    					if(validateRemark()){
    						var dialog = $.dialog({
    			                content:'订单提交中',
    			                backgrounds :'#000',
    			                opacitys :'0.7',
    			                widths:'50%',
    			                paddings:'0',
    			                warppadding:'2em 0',
    			                foottop:'0',
    			                lock : true
    			            });
    						var _remark = encodeURI($(".beizhulan").find("textarea").val());
    						var params = {
    							serial : "10549840601068216320",
    							openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
    							fm : "1",
    							mallGoodsId : "26838",
    							amount : "1",
    							cartIds : "",
    							remark : _remark
    						};
    						if(parseInt("1") == 1 && parseInt("1") == 2){
    							var standardId = "";
    							if(standardId != null && standardId != undefined){
    								params.standardId = standardId;
    							}
    						}
    						$.post("/cmorder/1/3", params, function(result){
    							dialog.close();
    							if (!result.success) {
    								doAlert("no", result.message);
    								return;
    							}
    							window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
    			        	});
    					}
    				}
    				
    				if(payType == 4){
    					if($(this).prop("disabled") == true)
                    		return false;
            			
            			var type = 0;
            			$(".tab_content").each(function(){
            				if($(this).css("display") != "none") {
            					var attrId = $(this).attr("id");
            					if(attrId == "tab1") {
            						type = 1;//快递取货
            					} else if(attrId == "tab2") {
            						type = 2;//门店自提
            					}
            				}
            			});
            			if(type <= 0) {
            				$.dialog({
        	                    widths : '80%',
        	                    content : '无效物流方式',
        	                    title : 'no',
        	                    fullok : function() {
        	                        return true;
        	                    },                       
        	                    lock : true
        	                });
            				return;
            			}
            			if(type == 1) {
            				if($("#tab1 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑收货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			var _fetchTime = "";
            			if(type == 2) {
            				if($("#tab2 .pure-u-24-24 .empty-p").length > 0) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				_fetchTime = $("#scheduledTime").val();
            				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请选择取货时间',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            				var shopBranch = "";
            				if(shopBranch == "") {
            					$.dialog({
            	                    widths : '80%',
            	                    content : '请编辑取货地址',
            	                    title : 'no',
            	                    fullok : function() {
            	                        return true;
            	                    },                       
            	                    lock : true
            	                });
            					return;
            				}
            			}
            			
            			var _remark = encodeURI($(".beizhulan").find("textarea").val());
            			var params = {
            				serial : "10549840601068216320",
            				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
            				fm : "1",
            				mallGoodsId : "26838",
            				amount : "1",
            				cartIds : "",
            				fetchTime : _fetchTime,
            				remark : _remark
            			};
            			if(parseInt("1") == 1 && parseInt("1") == 2){
            				var standardId = "";
            				if(standardId != null && standardId != undefined){
            					params.standardId = standardId;
            				}
            			}
            			
            			if(validateRemark()){
            				var dialog = $.dialog({
            	                content:'订单提交中',
            	                backgrounds :'#000',
            	                opacitys :'0.7',
            	                widths:'50%',
            	                paddings:'0',
            	                warppadding:'2em 0',
            	                foottop:'0',
            	                lock : true
            	            });
            				$.post("/cmorder/" + type+ "/4", params, function(result){
            					dialog.close();
            					
            					if (!result.success) {
            						doAlert("no", result.message);
            						return;
            					}
            					
            					var strParams = "?orderId=" + result.attach;
            					if(type == 2){
            						strParams += "&shopBranchId="+"";
            					}
            					strParams += "&serial=10549840601068216320";
                				window.location.href = "/pay/5"+strParams;
            	        	});
            			}
            			
    				}
    				
                },
                lock : true
            });
		});
		
		//微信支付
		/* $(".payUseWX").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			var type = 0;
			$(".tab_content").each(function(){
				if($(this).css("display") != "none") {
					var attrId = $(this).attr("id");
					if(attrId == "tab1") {
						type = 1;//快递取货
					} else if(attrId == "tab2") {
						type = 2;//门店自提
					}
				}
			});
			if(type <= 0) {
				doAlert("no", "无效物流方式");
				return;
			}
			if(type == 1) {
				if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑收货地址");
					return;
				}
			}
			var _fetchTime = "";
			if(type == 2) {
				if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
					doAlert("no", "请编辑取货地址");
					return;
				}
				_fetchTime = $("#scheduledTime").val();
				if(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {
					doAlert("no", "请选择取货时间");
					return;
				}
				var shopBranch = "";
				if(shopBranch == "") {
					doAlert("no", "请编辑取货地址");
					return;
				}
			}
			
			var _remark = encodeURI($(".beizhulan").find("textarea").val());
			var params = {
				serial : "10549840601068216320",
				openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
				fm : "1",
				mallGoodsId : "26838",
				amount : "1",
				cartIds : "",
				fetchTime : _fetchTime,
				remark : _remark
			};
			if(parseInt("1") == 1 && parseInt("1") == 2){
				var standardId = "";
				if(standardId != null && standardId != undefined){
					params.standardId = standardId;
				}
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				$.post("/cmorder/" + type+ "/1", params, function(result){
					dialog.close();
					
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					
					var strParams = "id=" + result.attach;
	    			strParams += "&serial=10549840601068216320";
	    			window.location.href = "/pay/1?showwxpaytitle=1&" + strParams;
	        	});
			}
		}); */
		//货到付款
		/* $(".payAfrecv").click(function(event) {
			if($(this).prop("disabled") == true)
        		return false;
			
			if($("#tab1 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑收货地址");
				return;
			}
			
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				var _remark = encodeURI($(".beizhulan").find("textarea").val());
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/1/3", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;
	        	});
			}
		}); */
		//到店支付
		// $(".payInshop").click(function(event) {
			/* if($(this).prop("disabled") == true)
        		return false;
			
			var shopBranch = "";
			if(shopBranch == "") {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			if($("#tab2 .pure-u-4-5 .empty-p").length > 0) {
				doAlert("no", "请编辑取货地址");
				return;
			}
			
			var _fetchTime = $("#scheduledTime").val();
			if(null == _fetchTime || "" == _fetchTime) {
				doAlert("no", "请选择取货时间");
				return;
			}
			
			if(validateRemark()){
				var dialog = $.dialog({
	                content:'订单提交中',
	                backgrounds :'#000',
	                opacitys :'0.7',
	                widths:'50%',
	                paddings:'0',
	                warppadding:'2em 0',
	                foottop:'0',
	                lock : true
	            });
				
				var _remark = $(".beizhulan").find("textarea").val();
				var params = {
					serial : "10549840601068216320",
					openId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",
					fm : "1",
					mallGoodsId : "26838",
					amount : "1",
					cartIds : "",
					fetchTime : _fetchTime,
					remark : _remark
				};
				if(parseInt("1") == 1 && parseInt("1") == 2){
					var standardId = "";
					if(standardId != null && standardId != undefined){
						params.standardId = standardId;
					}
				}
				$.post("/cmorder/2/2", params, function(result){
					dialog.close();
					if (!result.success) {
						doAlert("no", result.message);
						return;
					}
					window.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;
	        	});
			} */
		// });
	
2016-07-21 11:02:03,419 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,419 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,419 htmlparser.py[line: 25] INFO: End tag: body
2016-07-21 11:02:03,419 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,419 htmlparser.py[line: 25] INFO: End tag: html
2016-07-21 11:02:03,419 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,419 htmlparser.py[line: 28] INFO: Data 
  	
	
2016-07-21 11:02:03,419 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,419 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,419 htmlparser.py[line: 28] INFO: Data 
	
2016-07-21 11:02:03,420 htmlparser.py[line: 19] INFO: Start tag: script
2016-07-21 11:02:03,420 htmlparser.py[line: 28] INFO: Data 
		$(function() {
			//var SHOP_SERIAL = getCookie("SHOP_SERIAL");
			var SHOP_SERIAL = "10549840601068216320";
			if(null != SHOP_SERIAL && SHOP_SERIAL != ""){
				$.ajax({
					url : '/saofu_mobile/checkUserBindStatus',
					data : {
						"serial" : SHOP_SERIAL
					},
					type : 'post',
					cache : false,
					dataType : 'json',
					success : function(data) {
						if (data != null) {
							var guildFocusStr = data.guildFocusStr;
							if(guildFocusStr != null && guildFocusStr == "1"){
								var hasBindedShop = data.hasBindedShop;
								if(hasBindedShop == "0"){
									var qrName = data.QRPublicName;
									var qrUrl = data.QRCodeURL;
									if(qrName != "" && qrUrl != ""){
										var params = qrName+"**"+qrUrl;
										followModule(params);
									}
								}
							}
						} 
					},
					error : function() {
					}
				});
			}
		});
				
	
2016-07-21 11:02:03,420 htmlparser.py[line: 25] INFO: End tag: script
2016-07-21 11:02:03,420 htmlparser.py[line: 28] INFO: Data 

2016-07-21 11:02:03,420 wechatno_wemall.py[line: 240] INFO: [['', '\r\n\t \r\n\r\n\r\n\r\n\r\n\r\n'], ['', '\r\n'], ['link', '  \r\n'], ['link', '\r\n'], ['html', '\r\n'], ['head', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['meta', '\r\n'], ['title', '微商城'], ['title', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['link', '\r\n'], ['style', '\r\n* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\nhtml {\r\n\tcolor: #626262;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\nbody {\r\n\tmargin-bottom: 20px;\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n}\r\n\r\na {\r\n\ttext-decoration: none;\r\n}\r\n\r\nol,ul {\r\n\tlist-style: outside none none;\r\n}\r\n\r\n.left {\r\n\tfloat: left;\r\n}\r\n\r\n.right {\r\n\tfloat: right;\r\n}\r\n\r\n.in-block {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.orange {\r\n\tcolor: #c58d04;\r\n}\r\n\r\n.grey {\r\n\tcolor: #adadad;\r\n}\r\n\r\n.bg-color {\r\n\tbackground: #ececec;\r\n}\r\n\r\n#wrapper {\r\n\twidth: 100%;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.header {\r\n\twidth: 100%;\r\n}\r\n\r\n.header ul {\r\n\tposition:relative;\r\n\toverflow: hidden;\r\n}\r\n\r\n.header ul li {\r\n\twidth: 50%;\r\n\tfloat: left;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tbackground: #fff;\r\n\ttext-align: center;\r\n\tborder-bottom:1px solid #f38b44;\r\n\t-moz-box-sizing:border-box; /* Firefox */\r\n     -webkit-box-sizing:border-box; /* Safari */\r\n     box-sizing:border-box;\r\n}\r\n.header ul .lines{\r\n\tposition: absolute;\r\n\twidth: 1%;\r\n\theight: 2.8em;\r\n\tline-height: 2.8em;\r\n\tborder-right: 1px solid #FDE5D4;\r\n\tleft: 49%;\r\n\ttop: -1px;\r\n } \r\n.header ul li a {\r\n\tcolor: #8b898a;\r\n}\r\n\r\n.tab_content>div {\r\n\theight: auto;\r\n\tfont-size: 0.8em;\r\n\tmargin: 0.5em 0;\r\n}\r\n\r\n.empty-p {\r\n\twidth: 80%;\r\n\tfloat: left;\r\n\tpadding: 0.5em 0;\r\n}\r\n\r\n.has-p {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    padding: 0 1em;\r\n    height: auto;\r\n    line-height: 2.5em;\r\n    text-align: left;\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -webkit-box-sizing: -webkit-border-box;\r\n}\r\n.has-p-one{\r\n    background: url(/images/mall/contact.png) no-repeat left center;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-two{\r\n    background: url(/images/mall/take.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.has-p-three{\r\n    background: url(/images/mall/time.png) no-repeat left 2px;\r\n    background-size: 12px 12px;\r\n}\r\n.input-right{\r\n    position: relative;\r\n}\r\n.input-right-img{\r\n    width: 1em;\r\n    position: absolute;\r\n    right: 0.6em;\r\n    top: 0.3em;\r\n}\r\n#scheduledTime{\r\n    width:11em;\r\n    height: 2em;\r\n    border:1px solid #a0a0a0;\r\n    border-radius:4px;\r\n    color:#a0a0a0;\r\n    text-indent:.5em\r\n}\r\n.hiddens-p{\r\n    text-overflow:ellipsis; \r\n    overflow:hidden; \r\n    white-space:nowrap;  \r\n}\r\n\r\n.right-dashed {\r\n\tborder-left: 1px solid #eee;\r\n\tmargin-top: 1em;\r\n\tpadding-bottom:1em;\r\n}\r\n\r\n#edit {\r\n\tpadding: 1em 0 1em 2em;\r\n    width: 10px;\r\n}\r\n\r\n.header ul li.active{\r\n    border-bottom: 4px solid #f38b44;\r\n}\r\n.header ul li.active a{\r\n    color: #f38b44!important;\r\n}\r\n.buy_title{\r\n\tbackground:#f3f3f3;\r\n\tpadding:0.3em 1em;\r\n\tmargin: 0;\r\n}\r\n.content {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\toverflow: hidden;\t\r\n\tpadding-bottom:8%;\r\n}\r\n\r\n.selectList {\r\n\tborder-bottom: 1px solid #efefef;\r\n\tmargin: 0 auto;\r\n\toverflow: hidden;\r\n\tpadding: 0.5em 1em;\r\n\tfont-size: 0.8em;\r\n\tclear:both;\r\n}\r\n\r\n.selectList img {\r\n    display: inline-block;\r\n    float: left;\r\n    width: 25%;\r\n    border-radius: 4px;\r\n    -webkit-border-radius: 4px;\r\n}\r\n\r\n.button {\r\n\tdisplay:block;\t\r\n\twidth: 99%;\t\r\n\theight: 3em;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-radius: 4px;\r\n\tmargin:0 auto 0.5em auto;\r\n}\r\n\r\n.addbtn {\r\n\tbackground: #33CC66;\r\n}\r\n\r\n.btn-wrap-5 {\r\n\tpadding: 0 1em;\r\n}\r\n.buybtn {\r\n\twidth: 100%;\r\n\tbackground: #f68d3c;\r\n}\r\n\r\n.footer {\r\n\twidth: 100%;\r\n\tbackground: #fff;\r\n\tcolor: #b6b6b6;\r\n\toverflow: hidden;\r\n\ttext-align: left;\r\n\tmargin-bottom: 1em;\r\n}\r\n\r\n.all-end-button {\r\n\twidth: 90%;\r\n\tmargin: 1em auto 0.5em;\r\n}\r\n\r\n.all-end-button p:first-child {\r\n\ttext-align: left;\r\n}\r\n\r\n.error-page{\r\n\tbackground: #ddd;\r\n    padding-bottom: 2em;\r\n}\r\n.error-page img{\r\n    margin:0 auto;\r\n\tpadding-top: 2em;\r\n}\r\n.error-page p{\r\n    text-align:center;\r\n    color:#000;\r\n    width:80%;\r\n    margin:1em auto 2em;\r\n}\r\n#deliverFee{\r\n\ttext-align:left;\r\n\tfont-size:0.8em;\r\n\tcolor:#acb0af;\r\n}\r\n.order-div{\r\n    margin-left: 26.8%;            \r\n    position: relative;\r\n}\r\n.order-div>p:last-child{\r\n    width: 100%;\r\n    margin: 0;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n}\r\n.m-t-n{\r\n    margin-top: 0;\r\n}\r\n.m-t-n>span{\r\n    display: inline-block;\r\n}\r\n.m-t-n>span:first-child{\r\n    width: 70%;\r\n}\r\n.m-t-n>span:last-child{\r\n    width: 30%;\r\n}\r\n.mtn-span{\r\n    float: right;\r\n}\r\n.t-r-span{\r\n\ttext-align:right;\r\n}\r\n.ccc{\r\n    color: #ccc;\r\n}\r\n.peisong{\r\n    text-align: right;\r\n    margin-bottom: 0;\r\n    padding-right: 1em;\r\n    padding-top: 0.4em;\r\n}\r\n.peisong-detail{\r\n    color:#000;\r\n}\r\n.peisong-detail input{\r\n    border: none;\r\n}\r\n.peisong-detail div>p{\r\n    padding-left: 1.8em;\r\n    padding-top: 0.8em;\r\n    padding-bottom: 0.8em;\r\n    margin: 0;\r\n    clear:both;\r\n}\r\n\r\n.weipay{            \r\n    background: url(/images/weixin2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}        \r\n.peisong-detail div>p.pay{\r\n    background: url(/images/money2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.cardpay{\r\n    background: url(/images/cardpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n.peisong-detail div>p.mdpay{\r\n    background: url(/images/mdpay2.png) no-repeat left center;\r\n    background-size:1.6em 1.4em; \r\n}\r\n\r\n.peisong-detail div[class^="btn-wrap-"] {\r\n\tborder-bottom: 1px solid #dadada;\r\n\tpadding: 0 1em;\r\n\theight: 3em;\r\n\tposition: relative;\r\n}\r\n\r\n.weipay,.pay,.mdpay,.cardpay{\r\n    position: relative;\r\n}\r\n .weipay>img,.mdpay>img,.pay>img,.cardpay>img,.zhifu input{\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform:translateY(-50%);\r\n}\r\n\r\n.pure-img-check {\r\n\tbackground: url(/images/weixuan2.png) no-repeat left center;\r\n    background-size:1.2em 1.2em; \r\n    float: right;\r\n    height: 1.2em;\r\n    width: 1.2em;\r\n}\r\n\r\n.zhifu input{\r\n    display: none;\r\n}\r\n#deliverFeeDiv, #FetchDiv {\r\n\tborder-bottom: 1px solid #efefef;\r\n    padding: 0.5em 0;\r\n}\r\n#deliverFeeDiv p, #FetchDiv p{\r\n\ttext-align:right;\r\n}\r\n\r\n#remark {\r\n\tpadding: 0.5em 1em;\r\n\theight: 4em;\r\n\tfont-size: 1.0em;\r\n}\r\n'], ['style', '\r\n'], ['body', '\r\n\t'], ['div', '\r\n\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t'], ['ul', '\r\n\t\t\t\t\t\t'], ['a', '快递发货'], ['a', '\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['a', '到店自提'], ['a', '\r\n\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\r\n\t\t\t'], ['span', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '联系方式：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '17817738278'], ['span', '(17817738178)'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '配送地址：'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '北京市县密云县把'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n                                '], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '请选择要取货的店铺和时间以确保您能快捷方便取到货物'], ['span', '\r\n\t\t\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['a', '\r\n\t\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\t'], ['img', '\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t'], ['img', '\r\n\t\t\t\t'], ['img', '\r\n\t\t\t'], ['img', '\r\n\t\t\t'], ['p', '\r\n\t\t\t\r\n\t\t\t'], ['div', '\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t'], ['img', ' \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'], ['div', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', '接口-测试商品1'], ['span', '￥0.01'], ['span', '\r\n\t\t\t\t\t\t\t\t\t\t\t'], ['span', 'X1'], ['span', '\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['span', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'], ['div', '\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'], ['p', '（买满￥0.00元包邮)'], ['p', '\r\n\t\t\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['p', '合计：￥0.01'], ['p', '\r\n\t\t\t\t'], ['p', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['span', '备注：'], ['span', '\r\n                   \t'], ['span', '\r\n                   \t\t'], ['textarea', '\r\n                   \t'], ['textarea', '\r\n\t\t\t\t'], ['textarea', '\r\n\t\t\t'], ['textarea', '\r\n\t\t\t'], ['p', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['div', '\r\n\t\t\t\t\t'], ['div', '\r\n                \t\r\n                     \t'], ['p', '微信支付'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                    \r\n                  \t'], ['input', '\r\n                  \t\r\n                  \t'], ['div', '\r\n                  \t\r\n                     \t'], ['p', '货到付款'], ['span', '\r\n                         \t'], ['input', '\r\n                     \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n\t\t\r\n                    '], ['div', '\r\n                    \r\n                    \t'], ['p', '到店支付'], ['span', '\r\n                    \t\t'], ['input', '\r\n                    \t'], ['input', '\r\n                   \t\r\n                   \t'], ['input', '\r\n                   \t\r\n                   \t'], ['div', '\r\n                   \t\r\n                   \t\t'], ['p', '储值卡支付'], ['span', '\r\n                   \t\t\t'], ['input', '\r\n                   \t\t'], ['input', '\r\n                   \t\r\n                    '], ['input', '\r\n                '], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t'], ['div', '\r\n\t\t\t\t'], ['input', '\r\n\t\t\t'], ['input', '\r\n\t\t\t\r\n\t\t\r\n\t'], ['input', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n    \r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t$("input[name=\'zhifu\']:checked").prev(\'.pure-img\').attr(\'src\',\'/images/check.png\');\r\n\t\t\tvar tab = parseInt("1");\r\n\t\t\tif(tab == 1){\r\n\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t}else if(parseInt("1") != 0){\r\n\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t}\r\n\t\t\t// 控制显示图片比例\r\n\t\t\tvar img_left_heights = $(".selectList img").width()*(0.75);\r\n\t\t\t$(".selectList img,.order-div").css(\'height\',img_left_heights);\r\n\t\t\t\r\n\t\t\t// 取货日期\r\n\t\t\tvar now = new Date();\r\n            $(\'#scheduledTime\').mobiscroll().datetime({\r\n                minDate: new Date(now.getFullYear(), now.getMonth(), now.getDate(), now.getHours()+1),\r\n                maxDate: new Date(now.getFullYear(), now.getMonth()+3, now.getDate()),\r\n                stepMinute: 30,\r\n                dateOrder :"yymmdd",\r\n                dateFormat:"yy-mm-dd",\r\n                timeWheels:"HHii",\r\n                timeFormat:"HH:ii",\r\n                //invalid: [{ start: \'00:00\', end: \'08:00\' },{ start: \'22:00\', end: \'23:59\' }],\r\n                theme: \'ios7\',\r\n                lang: \'zh\',\r\n                display: \'bottom\',\r\n                mode: \'mixed\'\r\n            });\r\n            $(\'#scheduledTime\').click(function(){\r\n                $(\'#scheduledTime\').mobiscroll(\'show\'); \r\n                return false;\r\n            });\r\n            \r\n\t\t\t$("ul li").click(function() {\r\n\t\t\t\t$("ul li").removeClass("active");\r\n\t\t\t\t$(this).addClass("active");\r\n\t\t\t\tif($(this).attr("data")=="#deliverFeeDiv"){\r\n\t\t\t\t\t$("#deliverFeeDiv").show();\r\n\t\t\t\t\t$("#FetchDiv").hide();\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$("#deliverFeeDiv").hide();\r\n\t\t\t\t\t$("#FetchDiv").show();\r\n\t\t\t\t}\r\n\t\t\t\t$(".tab_content").hide();\r\n\t\t\t\tvar href = $(this).find("a").attr("href");\r\n\t\t\t\t$(href).show();\r\n\t\t\t\t\r\n\t\t\t\tif(href.endWith("tab1")) {\r\n\t\t\t\t\t$(".btn-wrap-2").show();\r\n\t\t\t\t\t$(".btn-wrap-3").hide();\r\n\t\t\t\t} else if(href.endWith("tab2")) {\r\n\t\t\t\t\t$(".btn-wrap-2").hide();\r\n\t\t\t\t\t$(".btn-wrap-3").show();\r\n\t\t\t\t}\r\n\t\t\t\t//清空已选择的支付方式\r\n\t\t\t\t$("input[name=\'zhifu\']").prop("checked", false);\r\n\t\t\t\t$(".zhifu .pure-img-check").css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t//商户设置的满额包邮价\r\n\t\t\t/* var noDeliverFee = toPrice(parseFloat("0")/100);\r\n\t\t\tvar totalFee = parseFloat("0.01");\r\n\t\t\tif(totalFee > noDeliverFee){\r\n\t\t\t\t$("#deliverFeeDiv .orange").text("合计：￥"+ totalFee);\r\n\t\t\t\t$("#deliverFee").text("含运费：￥0.00");\r\n\t\t\t} */\r\n\t\t\t$(\'.zhifu>div\').click(function(){\r\n\t            $("input[name=zhifu]").prop("checked", false);\r\n\t            $(".pure-img-check").css(\'backgroundImage\',\'url(/images/weixuan2.png)\');\r\n\t            var img_obj = $(this).find(\'.pure-img-check\');\r\n\t            var backgroundImage = img_obj.css(\'background-image\');\r\n\t            var input_obj = $(this).find(\'input\');\r\n\t            if(backgroundImage.indexOf("weixuan2.png") > 0){\r\n\t                img_obj.css(\'background-image\',\'url(/images/check.png)\');\r\n\t                input_obj.prop("checked", "checked");\r\n\t            }else{\r\n\t                img_obj.css(\'background-image\',\'url(/images/weixuan2.png)\');\r\n\t                input_obj.prop("checked", false);\r\n\t            }\r\n\t        });\r\n\t\t});\r\n\t\t\r\n\t\tfunction validateRemark(){\r\n\t\t\tif($(\'.beizhulan textarea\').val() != "" && $(\'.beizhulan textarea\').val() != undefined){\r\n\t\t\t\tif($(\'.beizhulan textarea\').val().length>30){\r\n\t\t\t\t\t$.dialog({\r\n                        widths : \'80%\',\r\n                        content : \'您输入的备注过长，请不要超过30个字\',\r\n                        title : \'no\',\r\n                        fullok : function() {\r\n                            return true;\r\n                        },                       \r\n                        lock : true\r\n                    });\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\t$(".submit").click(function(event){\r\n\t\t\tvar payType = $("input[name=\'zhifu\']:checked").val();\r\n\t\t\tif(null == payType || "" == payType || typeof(payType) == "undefined") {\r\n       \t\t $.dialog({\r\n                    widths : \'80%\',\r\n                    content : \'请选择支付方式\',\r\n                    title : \'no\',\r\n                    fullok : function() {\r\n                        return true;\r\n                    },                       \r\n                    lock : true\r\n                });\r\n       \t\t\treturn;\r\n       \t\t}\r\n\t\t\t$.dialog({\r\n                content : "确认提交订单？",\r\n                title : "no",\r\n                okText: \'取消\',\r\n                cancelText : \'确定\', \r\n                ok : function() {\r\n                \t$(".ft-right").removeAttr("disabled");\r\n                \treturn;\r\n                },\r\n                cancel : function() {                        \t\r\n               \t\t\r\n               \t\tif(payType == 1){\r\n               \t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\tdoAlert("no", "无效物流方式");\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "id=" + result.attach;\r\n            \t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n            \t    \t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n               \t\t}\r\n               \t\t\r\n    \t\t\t\tif(payType == 2){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar shopBranch = "";\r\n    \t\t\t\t\tif(shopBranch == "") {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑取货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n    \t\t\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请选择取货时间\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tfetchTime : _fetchTime,\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 3){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n    \t\t        \t\treturn false;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n    \t\t\t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'请编辑收货地址\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(validateRemark()){\r\n    \t\t\t\t\t\tvar dialog = $.dialog({\r\n    \t\t\t                content:\'订单提交中\',\r\n    \t\t\t                backgrounds :\'#000\',\r\n    \t\t\t                opacitys :\'0.7\',\r\n    \t\t\t                widths:\'50%\',\r\n    \t\t\t                paddings:\'0\',\r\n    \t\t\t                warppadding:\'2em 0\',\r\n    \t\t\t                foottop:\'0\',\r\n    \t\t\t                lock : true\r\n    \t\t\t            });\r\n    \t\t\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n    \t\t\t\t\t\tvar params = {\r\n    \t\t\t\t\t\t\tserial : "10549840601068216320",\r\n    \t\t\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n    \t\t\t\t\t\t\tfm : "1",\r\n    \t\t\t\t\t\t\tmallGoodsId : "26838",\r\n    \t\t\t\t\t\t\tamount : "1",\r\n    \t\t\t\t\t\t\tcartIds : "",\r\n    \t\t\t\t\t\t\tremark : _remark\r\n    \t\t\t\t\t\t};\r\n    \t\t\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n    \t\t\t\t\t\t\tvar standardId = "";\r\n    \t\t\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n    \t\t\t\t\t\t\t\tparams.standardId = standardId;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n    \t\t\t\t\t\t\tdialog.close();\r\n    \t\t\t\t\t\t\tif (!result.success) {\r\n    \t\t\t\t\t\t\t\tdoAlert("no", result.message);\r\n    \t\t\t\t\t\t\t\treturn;\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n    \t\t\t        \t});\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tif(payType == 4){\r\n    \t\t\t\t\tif($(this).prop("disabled") == true)\r\n                    \t\treturn false;\r\n            \t\t\t\r\n            \t\t\tvar type = 0;\r\n            \t\t\t$(".tab_content").each(function(){\r\n            \t\t\t\tif($(this).css("display") != "none") {\r\n            \t\t\t\t\tvar attrId = $(this).attr("id");\r\n            \t\t\t\t\tif(attrId == "tab1") {\r\n            \t\t\t\t\t\ttype = 1;//快递取货\r\n            \t\t\t\t\t} else if(attrId == "tab2") {\r\n            \t\t\t\t\t\ttype = 2;//门店自提\r\n            \t\t\t\t\t}\r\n            \t\t\t\t}\r\n            \t\t\t});\r\n            \t\t\tif(type <= 0) {\r\n            \t\t\t\t$.dialog({\r\n        \t                    widths : \'80%\',\r\n        \t                    content : \'无效物流方式\',\r\n        \t                    title : \'no\',\r\n        \t                    fullok : function() {\r\n        \t                        return true;\r\n        \t                    },                       \r\n        \t                    lock : true\r\n        \t                });\r\n            \t\t\t\treturn;\r\n            \t\t\t}\r\n            \t\t\tif(type == 1) {\r\n            \t\t\t\tif($("#tab1 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑收货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\tvar _fetchTime = "";\r\n            \t\t\tif(type == 2) {\r\n            \t\t\t\tif($("#tab2 .pure-u-24-24 .empty-p").length > 0) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n            \t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请选择取货时间\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t\tvar shopBranch = "";\r\n            \t\t\t\tif(shopBranch == "") {\r\n            \t\t\t\t\t$.dialog({\r\n            \t                    widths : \'80%\',\r\n            \t                    content : \'请编辑取货地址\',\r\n            \t                    title : \'no\',\r\n            \t                    fullok : function() {\r\n            \t                        return true;\r\n            \t                    },                       \r\n            \t                    lock : true\r\n            \t                });\r\n            \t\t\t\t\treturn;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n            \t\t\tvar params = {\r\n            \t\t\t\tserial : "10549840601068216320",\r\n            \t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n            \t\t\t\tfm : "1",\r\n            \t\t\t\tmallGoodsId : "26838",\r\n            \t\t\t\tamount : "1",\r\n            \t\t\t\tcartIds : "",\r\n            \t\t\t\tfetchTime : _fetchTime,\r\n            \t\t\t\tremark : _remark\r\n            \t\t\t};\r\n            \t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n            \t\t\t\tvar standardId = "";\r\n            \t\t\t\tif(standardId != null && standardId != undefined){\r\n            \t\t\t\t\tparams.standardId = standardId;\r\n            \t\t\t\t}\r\n            \t\t\t}\r\n            \t\t\t\r\n            \t\t\tif(validateRemark()){\r\n            \t\t\t\tvar dialog = $.dialog({\r\n            \t                content:\'订单提交中\',\r\n            \t                backgrounds :\'#000\',\r\n            \t                opacitys :\'0.7\',\r\n            \t                widths:\'50%\',\r\n            \t                paddings:\'0\',\r\n            \t                warppadding:\'2em 0\',\r\n            \t                foottop:\'0\',\r\n            \t                lock : true\r\n            \t            });\r\n            \t\t\t\t$.post("/cmorder/" + type+ "/4", params, function(result){\r\n            \t\t\t\t\tdialog.close();\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tif (!result.success) {\r\n            \t\t\t\t\t\tdoAlert("no", result.message);\r\n            \t\t\t\t\t\treturn;\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\t\r\n            \t\t\t\t\tvar strParams = "?orderId=" + result.attach;\r\n            \t\t\t\t\tif(type == 2){\r\n            \t\t\t\t\t\tstrParams += "&shopBranchId="+"";\r\n            \t\t\t\t\t}\r\n            \t\t\t\t\tstrParams += "&serial=10549840601068216320";\r\n                \t\t\t\twindow.location.href = "/pay/5"+strParams;\r\n            \t        \t});\r\n            \t\t\t}\r\n            \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n                },\r\n                lock : true\r\n            });\r\n\t\t});\r\n\t\t\r\n\t\t//微信支付\r\n\t\t/* $(".payUseWX").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar type = 0;\r\n\t\t\t$(".tab_content").each(function(){\r\n\t\t\t\tif($(this).css("display") != "none") {\r\n\t\t\t\t\tvar attrId = $(this).attr("id");\r\n\t\t\t\t\tif(attrId == "tab1") {\r\n\t\t\t\t\t\ttype = 1;//快递取货\r\n\t\t\t\t\t} else if(attrId == "tab2") {\r\n\t\t\t\t\t\ttype = 2;//门店自提\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif(type <= 0) {\r\n\t\t\t\tdoAlert("no", "无效物流方式");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(type == 1) {\r\n\t\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar _fetchTime = "";\r\n\t\t\tif(type == 2) {\r\n\t\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t_fetchTime = $("#scheduledTime").val();\r\n\t\t\t\tif(null == _fetchTime || "" == _fetchTime || typeof(_fetchTime) == undefined) {\r\n\t\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar shopBranch = "";\r\n\t\t\t\tif(shopBranch == "") {\r\n\t\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\tvar params = {\r\n\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\tfm : "1",\r\n\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\tamount : "1",\r\n\t\t\t\tcartIds : "",\r\n\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\tremark : _remark\r\n\t\t\t};\r\n\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\tvar standardId = "";\r\n\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t$.post("/cmorder/" + type+ "/1", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar strParams = "id=" + result.attach;\r\n\t    \t\t\tstrParams += "&serial=10549840601068216320";\r\n\t    \t\t\twindow.location.href = "/pay/1?showwxpaytitle=1&" + strParams;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//货到付款\r\n\t\t/* $(".payAfrecv").click(function(event) {\r\n\t\t\tif($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tif($("#tab1 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑收货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\tvar _remark = encodeURI($(".beizhulan").find("textarea").val());\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/1/3", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/3?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t}\r\n\t\t}); */\r\n\t\t//到店支付\r\n\t\t// $(".payInshop").click(function(event) {\r\n\t\t\t/* if($(this).prop("disabled") == true)\r\n        \t\treturn false;\r\n\t\t\t\r\n\t\t\tvar shopBranch = "";\r\n\t\t\tif(shopBranch == "") {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif($("#tab2 .pure-u-4-5 .empty-p").length > 0) {\r\n\t\t\t\tdoAlert("no", "请编辑取货地址");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar _fetchTime = $("#scheduledTime").val();\r\n\t\t\tif(null == _fetchTime || "" == _fetchTime) {\r\n\t\t\t\tdoAlert("no", "请选择取货时间");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(validateRemark()){\r\n\t\t\t\tvar dialog = $.dialog({\r\n\t                content:\'订单提交中\',\r\n\t                backgrounds :\'#000\',\r\n\t                opacitys :\'0.7\',\r\n\t                widths:\'50%\',\r\n\t                paddings:\'0\',\r\n\t                warppadding:\'2em 0\',\r\n\t                foottop:\'0\',\r\n\t                lock : true\r\n\t            });\r\n\t\t\t\t\r\n\t\t\t\tvar _remark = $(".beizhulan").find("textarea").val();\r\n\t\t\t\tvar params = {\r\n\t\t\t\t\tserial : "10549840601068216320",\r\n\t\t\t\t\topenId : "ous64uFCCLMyXYDJ-MkNilyCI5CY2",\r\n\t\t\t\t\tfm : "1",\r\n\t\t\t\t\tmallGoodsId : "26838",\r\n\t\t\t\t\tamount : "1",\r\n\t\t\t\t\tcartIds : "",\r\n\t\t\t\t\tfetchTime : _fetchTime,\r\n\t\t\t\t\tremark : _remark\r\n\t\t\t\t};\r\n\t\t\t\tif(parseInt("1") == 1 && parseInt("1") == 2){\r\n\t\t\t\t\tvar standardId = "";\r\n\t\t\t\t\tif(standardId != null && standardId != undefined){\r\n\t\t\t\t\t\tparams.standardId = standardId;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$.post("/cmorder/2/2", params, function(result){\r\n\t\t\t\t\tdialog.close();\r\n\t\t\t\t\tif (!result.success) {\r\n\t\t\t\t\t\tdoAlert("no", result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\twindow.location.href = "/mall/success/2?serial=10549840601068216320&ptype=" + 1;\r\n\t        \t});\r\n\t\t\t} */\r\n\t\t// });\r\n\t'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n'], ['script', '\r\n  \t\r\n\t'], ['script', '\r\n\t'], ['script', '\r\n\t\t$(function() {\r\n\t\t\t//var SHOP_SERIAL = getCookie("SHOP_SERIAL");\r\n\t\t\tvar SHOP_SERIAL = "10549840601068216320";\r\n\t\t\tif(null != SHOP_SERIAL && SHOP_SERIAL != ""){\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl : \'/saofu_mobile/checkUserBindStatus\',\r\n\t\t\t\t\tdata : {\r\n\t\t\t\t\t\t"serial" : SHOP_SERIAL\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttype : \'post\',\r\n\t\t\t\t\tcache : false,\r\n\t\t\t\t\tdataType : \'json\',\r\n\t\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\tvar guildFocusStr = data.guildFocusStr;\r\n\t\t\t\t\t\t\tif(guildFocusStr != null && guildFocusStr == "1"){\r\n\t\t\t\t\t\t\t\tvar hasBindedShop = data.hasBindedShop;\r\n\t\t\t\t\t\t\t\tif(hasBindedShop == "0"){\r\n\t\t\t\t\t\t\t\t\tvar qrName = data.QRPublicName;\r\n\t\t\t\t\t\t\t\t\tvar qrUrl = data.QRCodeURL;\r\n\t\t\t\t\t\t\t\t\tif(qrName != "" && qrUrl != ""){\r\n\t\t\t\t\t\t\t\t\t\tvar params = qrName+"**"+qrUrl;\r\n\t\t\t\t\t\t\t\t\t\tfollowModule(params);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t},\r\n\t\t\t\t\terror : function() {\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t'], ['script', '\r\n']]
2016-07-21 11:02:03,425 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-点击立即购买按钮]
2016-07-21 11:02:03,425 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-21 11:02:03,425 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 249, in test_to_buy_goods    self.assertEqual(tab_page_title, self.expected_result[tab_page_title], msg=无法打开商品详情)KeyError: tab_page_title", protocol_method="get", runtime="2016-07-21 11:02:03" WHERE executed_history_id = 20160721110202 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 11:02:03,428 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-21 11:02:03,428 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-21 11:02:03" WHERE executed_history_id = 20160721110202 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-21 11:02:03,430 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-21 11:02:03,430 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-21 11:02:03,431 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-21 11:02:03,431 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160721110202',)
2016-07-21 11:02:03,432 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-21 11:02:03,432 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160721110202')
2016-07-21 11:02:03,434 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-21 11:02:03,435 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160721110202')
2016-07-21 11:02:03,436 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-21 11:02:03,436 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160721110202')
2016-07-21 11:02:03,437 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-21 11:02:03,437 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160721110202')
2016-07-21 11:02:03,437 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-21 11:02:03,438 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721110202',)
2016-07-21 11:02:03,439 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-21 11:02:03,439 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721110202')
2016-07-21 11:02:03,441 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-21 11:02:03,441 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-21 11:02:03,441 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160721110202',)
2016-07-21 11:02:03,442 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-21 11:02:03,442 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160721110202')
2016-07-21 11:02:03,443 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-21 11:02:03,443 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160721110202')
2016-07-21 11:02:03,445 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-21 11:02:03,445 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160721110202')
2016-07-21 11:02:03,447 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-21 11:02:03,447 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160721110202.html
2016-07-21 11:02:03,447 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-21 11:02:03,449 main.py[line: 252] INFO: 生成测试报告成功
2016-07-21 11:02:03,741 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160721110202.html
2016-07-21 11:02:03,741 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-21 11:02:03,741 main.py[line: 266] INFO: 发送邮件成功
2016-07-21 11:02:08,768 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-21 11:02:08,778 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-21 11:02:08,783 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-21 11:02:08,835 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-21 11:02:08,835 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-21 11:02:08,837 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-21 11:02:08,837 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-21 11:02:08,839 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-21 11:02:08,840 main.py[line: 187] INFO: 按套件运行测试
2016-07-21 11:02:08,840 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-21 11:02:09,085 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-21 11:02:09,086 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-21 11:02:09,086 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-21 11:02:09,437 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-21 11:02:09,438 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110208', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-21 11:02:09,439 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-21 11:02:09,439 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-21 11:02:09,439 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160721110208', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200, "goods_name":"接口-测试商品1"}', 'Block', '', '')
2016-07-21 11:02:09,441 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-21 11:02:09,441 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-21 11:02:09,441 wechatno_wemall.py[line: 91] INFO: 正在发起GET请求...
2016-07-21 11:02:09,441 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-21 11:02:09,441 httpprotocol.py[line: 51] INFO: {'Cookie': '10549840601068216320=ous64uFCCLMyXYDJ-MkNilyCI5CY2'}
2016-07-21 11:02:09,565 htmlparser.py[line: 28] INFO: Data 






