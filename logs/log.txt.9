2016-04-13 11:10:52,148 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-04-13 11:11:38,809 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-04-13 11:11:39,152 globalpy.py[line: 17] INFO: 正在获取testlink
2016-04-13 11:11:39,275 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-04-13 11:11:39,275 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-04-13 11:11:39,347 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-04-13 11:11:39,348 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-04-13 11:11:39,386 main.py[line: 65] INFO: 正在读取运行模式配置
2016-04-13 11:11:39,389 main.py[line: 70] INFO: 按项目运行测试
2016-04-13 11:11:39,389 main.py[line: 106] INFO: 运行指定项目
2016-04-13 11:12:00,392 main.py[line: 112] ERROR: 测试项目[project：项目1]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:12:21,394 main.py[line: 112] ERROR: 测试项目[project：项目2]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:12:42,397 main.py[line: 112] ERROR: 测试项目[project：项目3]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:12:58,135 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-04-13 11:12:58,145 globalpy.py[line: 17] INFO: 正在获取testlink
2016-04-13 11:12:58,201 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-04-13 11:12:58,201 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-04-13 11:12:58,203 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-04-13 11:12:58,203 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-04-13 11:12:58,206 main.py[line: 65] INFO: 正在读取运行模式配置
2016-04-13 11:12:58,207 main.py[line: 70] INFO: 按项目运行测试
2016-04-13 11:12:58,207 main.py[line: 106] INFO: 运行指定项目
2016-04-13 11:13:03,398 main.py[line: 112] ERROR: 测试项目[project：项目4]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:13:03,398 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-04-13 11:13:03,399 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-04-13 11:13:03,400 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160413111139',)
2016-04-13 11:13:03,444 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-04-13 11:13:03,444 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160413111139')
2016-04-13 11:13:03,445 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-04-13 11:13:03,445 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160413111139')
2016-04-13 11:13:03,446 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-04-13 11:13:03,447 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160413111139')
2016-04-13 11:13:03,447 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-04-13 11:13:03,448 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160413111139')
2016-04-13 11:13:03,449 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-04-13 11:13:03,450 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111139',)
2016-04-13 11:13:03,451 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-04-13 11:13:03,451 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111139',)
2016-04-13 11:13:03,453 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-04-13 11:13:03,453 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160413111139.html
2016-04-13 11:13:03,454 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-04-13 11:13:03,479 main.py[line: 250] INFO: 生成测试报告成功
2016-04-13 11:13:03,870 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160413111139.html
2016-04-13 11:13:03,870 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-04-13 11:13:04,286 main.py[line: 264] INFO: 发送邮件成功
2016-04-13 11:13:19,204 main.py[line: 112] ERROR: 测试项目[project：项目1]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:13:40,208 main.py[line: 112] ERROR: 测试项目[project：项目2]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:14:01,211 main.py[line: 112] ERROR: 测试项目[project：项目3]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:14:22,204 main.py[line: 112] ERROR: 测试项目[project：项目4]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.89/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-04-13 11:14:22,204 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-04-13 11:14:22,207 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-04-13 11:14:22,207 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160413111258',)
2016-04-13 11:14:22,211 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-04-13 11:14:22,212 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160413111258')
2016-04-13 11:14:22,214 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-04-13 11:14:22,215 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160413111258')
2016-04-13 11:14:22,217 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-04-13 11:14:22,218 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160413111258')
2016-04-13 11:14:22,221 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-04-13 11:14:22,222 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160413111258')
2016-04-13 11:14:22,227 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-04-13 11:14:22,227 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111258',)
2016-04-13 11:14:22,230 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-04-13 11:14:22,230 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111258',)
2016-04-13 11:14:22,232 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-04-13 11:14:22,232 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160413111258.html
2016-04-13 11:14:22,233 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-04-13 11:14:22,234 main.py[line: 250] INFO: 生成测试报告成功
2016-04-13 11:14:22,497 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160413111258.html
2016-04-13 11:14:22,497 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-04-13 11:14:22,832 main.py[line: 264] INFO: 发送邮件成功
2016-04-13 11:17:20,305 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-04-13 11:17:20,318 globalpy.py[line: 17] INFO: 正在获取testlink
2016-04-13 11:17:20,368 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-04-13 11:17:20,369 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-04-13 11:17:20,370 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-04-13 11:17:20,370 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-04-13 11:17:20,371 main.py[line: 65] INFO: 正在读取运行模式配置
2016-04-13 11:17:20,372 main.py[line: 70] INFO: 按项目运行测试
2016-04-13 11:17:20,372 main.py[line: 106] INFO: 运行指定项目
2016-04-13 11:17:20,755 main.py[line: 122] INFO: 正在读取测项目[id：1, project：项目1]的协议，host，端口配置...
2016-04-13 11:17:20,755 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"gc.ditu.aliyun.com","port":80}
2016-04-13 11:17:20,755 main.py[line: 141] INFO: 正在执行测试项目[id：1, project：项目1]
2016-04-13 11:17:20,756 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：项目1]对应对应的测试计划名称列表
2016-04-13 11:17:20,902 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['项目1-测试计划1', '项目1-测试计划2', '项目1-测试计划3', '项目1-测试计划4', '项目1-测试计划5']]
2016-04-13 11:17:21,044 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划1]
2016-04-13 11:17:21,046 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划1]的测试用例
2016-04-13 11:17:21,299 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划1]的测试用例id：dict_keys(['54', '58', '39'])
2016-04-13 11:17:21,886 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:21,886 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 54, '根据经纬度获取地区名', '根据经纬度获取地区名接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:17:21,889 testplan.py[line: 60] INFO: 开始执行测试用例[id=54，name=根据经纬度获取地区名]
2016-04-13 11:17:21,889 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:21,889 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 54, '根据经纬度获取地区名', '项目1-测试计划1', '项目1', 61, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"Regeocoding","function":"test_regeocoding","method":"get","url":"/regeocoding?","params":[{"l":"39.938133,116.395739","type":"100"}]}', '{"name":"地安门外大街"}', 'Block', '', '')
2016-04-13 11:17:21,901 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:17:21,901 casestep.py[line: 58] INFO: 调用的方法为：Regeocoding.test_regeocoding
2016-04-13 11:17:21,902 regeocoding.py[line: 24] INFO: 正在发起GET请求...
2016-04-13 11:17:21,902 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/regeocoding?type=100&l=39.938133%2C116.395739
2016-04-13 11:17:21,992 regeocoding.py[line: 27] INFO: 正在解析返回结果
2016-04-13 11:17:21,992 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:21,992 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:21" WHERE executed_history_id = 20160413111720 AND testcase_id = 54 AND step_id = 61 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:22,037 testcase.py[line: 101] INFO: 测试用例[id=54, name=根据经纬度获取地区名]执行成功
2016-04-13 11:17:22,037 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:22,037 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:17:21" WHERE executed_history_id = 20160413111720 AND testcase_id = 54 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:22,318 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=54]的执行结果
2016-04-13 11:17:22,753 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:22,753 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 58, '测试用例名2', '根据经纬度获取地区名接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:17:22,754 testplan.py[line: 60] INFO: 开始执行测试用例[id=58，name=测试用例名2]
2016-04-13 11:17:22,754 testcase.py[line: 26] WARNING: 用例[name=测试用例名2]处于禁用状态[active=0]，不执行
2016-04-13 11:17:22,754 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:22,754 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2016-04-13 11:17:22" WHERE executed_history_id = 20160413111720 AND testcase_id = 58 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:22,909 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=58]的执行结果
2016-04-13 11:17:23,205 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:23,206 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '根据地区名获取经纬度接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:17:23,207 testplan.py[line: 60] INFO: 开始执行测试用例[id=39，name=获取ip信息接口]
2016-04-13 11:17:23,207 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:23,207 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '项目1-测试计划1', '项目1', 41, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"IPQuery","function": "test_get_address_info","method":"get", "url":"/ipquery","params":""}', '{"city_name":"深圳市"}', 'Block', '', '')
2016-04-13 11:17:23,208 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:17:23,208 casestep.py[line: 58] INFO: 调用的方法为：IPQuery.test_get_address_info
2016-04-13 11:17:23,209 ipquery.py[line: 25] INFO: 正在发起GET请求...
2016-04-13 11:17:23,209 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2016-04-13 11:17:23,325 ipquery.py[line: 31] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413111720 and testcase_id = 39 and step_id = 41
2016-04-13 11:17:23,325 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413111720 and testcase_id = 39 and step_id = 41
2016-04-13 11:17:23,331 ipquery.py[line: 34] INFO: 正在解析返回结果
2016-04-13 11:17:23,332 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:23,333 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:23" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND step_id = 41 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:23,339 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:23,340 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '项目1-测试计划1', '项目1', 42, 2, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"GeoCoding","function": "test_get_ip_info","method":"get", "url":"/geocoding?","params":[{"a":"$city_name"}]}', '{"lon":114.05786,"lat":22.54309}', 'Block', '', '')
2016-04-13 11:17:23,346 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-04-13 11:17:23,346 casestep.py[line: 58] INFO: 调用的方法为：GeoCoding.test_get_ip_info
2016-04-13 11:17:23,347 geocoding.py[line: 22] INFO: 正在发起GET请求...
2016-04-13 11:17:23,348 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/geocoding?a=%E6%B7%B1%E5%9C%B3%E5%B8%82
2016-04-13 11:17:23,431 geocoding.py[line: 37] INFO: 正在解析返回结果
2016-04-13 11:17:23,432 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:23,432 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:23" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND step_id = 42 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:23,447 testcase.py[line: 101] INFO: 测试用例[id=39, name=获取ip信息接口]执行成功
2016-04-13 11:17:23,447 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:23,448 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:17:23" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:17:23,615 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=39]的执行结果
2016-04-13 11:17:23,785 testplan.py[line: 85] INFO: 测试计划[project=项目1 ,testplan=项目1-测试计划1]已执行完
2016-04-13 11:17:23,951 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划2]
2016-04-13 11:17:23,952 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划2]的测试用例
2016-04-13 11:17:24,130 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划2]的测试用例id：dict_keys(['28'])
2016-04-13 11:17:24,131 testplan.py[line: 38] WARNING: 测试计划[project=项目1，name=项目1-测试计划2]处于不活动状态[active=0]，不执行
2016-04-13 11:17:24,268 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划3]
2016-04-13 11:17:24,268 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划3]的测试用例
2016-04-13 11:17:24,404 testplan.py[line: 32] WARNING: 未获取到测试用例
2016-04-13 11:17:24,542 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划4]
2016-04-13 11:17:24,542 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划4]的测试用例
2016-04-13 11:17:24,704 testplan.py[line: 32] WARNING: 未获取到测试用例
2016-04-13 11:17:24,834 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划5]
2016-04-13 11:17:24,835 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划5]的测试用例
2016-04-13 11:17:24,977 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划5]的测试用例id：dict_keys(['54', '58', '39'])
2016-04-13 11:17:25,230 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:25,230 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 54, '根据经纬度获取地区名', '根据经纬度获取地区名接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:17:25,231 testplan.py[line: 60] INFO: 开始执行测试用例[id=54，name=根据经纬度获取地区名]
2016-04-13 11:17:25,232 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:25,232 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 54, '根据经纬度获取地区名', '项目1-测试计划5', '项目1', 61, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"Regeocoding","function":"test_regeocoding","method":"get","url":"/regeocoding?","params":[{"l":"39.938133,116.395739","type":"100"}]}', '{"name":"地安门外大街"}', 'Block', '', '')
2016-04-13 11:17:25,233 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:17:25,233 casestep.py[line: 58] INFO: 调用的方法为：Regeocoding.test_regeocoding
2016-04-13 11:17:25,233 regeocoding.py[line: 24] INFO: 正在发起GET请求...
2016-04-13 11:17:25,234 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/regeocoding?type=100&l=39.938133%2C116.395739
2016-04-13 11:17:25,315 regeocoding.py[line: 27] INFO: 正在解析返回结果
2016-04-13 11:17:25,315 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:25,315 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:25" WHERE executed_history_id = 20160413111720 AND testcase_id = 54 AND step_id = 61 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:25,317 testcase.py[line: 101] INFO: 测试用例[id=54, name=根据经纬度获取地区名]执行成功
2016-04-13 11:17:25,317 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:25,317 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:17:25" WHERE executed_history_id = 20160413111720 AND testcase_id = 54 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:25,443 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=54]的执行结果
2016-04-13 11:17:25,835 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:25,835 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 58, '测试用例名2', '根据经纬度获取地区名接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:17:25,837 testplan.py[line: 60] INFO: 开始执行测试用例[id=58，name=测试用例名2]
2016-04-13 11:17:25,837 testcase.py[line: 26] WARNING: 用例[name=测试用例名2]处于禁用状态[active=0]，不执行
2016-04-13 11:17:25,837 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:25,837 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2016-04-13 11:17:25" WHERE executed_history_id = 20160413111720 AND testcase_id = 58 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:25,972 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=58]的执行结果
2016-04-13 11:17:26,262 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:17:26,262 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '根据地区名获取经纬度接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:17:26,263 testplan.py[line: 60] INFO: 开始执行测试用例[id=39，name=获取ip信息接口]
2016-04-13 11:17:26,264 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:26,264 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '项目1-测试计划5', '项目1', 41, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"IPQuery","function": "test_get_address_info","method":"get", "url":"/ipquery","params":""}', '{"city_name":"深圳市"}', 'Block', '', '')
2016-04-13 11:17:26,265 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:17:26,265 casestep.py[line: 58] INFO: 调用的方法为：IPQuery.test_get_address_info
2016-04-13 11:17:26,266 ipquery.py[line: 25] INFO: 正在发起GET请求...
2016-04-13 11:17:26,266 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2016-04-13 11:17:26,374 ipquery.py[line: 31] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413111720 and testcase_id = 39 and step_id = 41
2016-04-13 11:17:26,374 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413111720 and testcase_id = 39 and step_id = 41
2016-04-13 11:17:26,379 ipquery.py[line: 34] INFO: 正在解析返回结果
2016-04-13 11:17:26,380 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:26,381 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:26" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND step_id = 41 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:26,386 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:17:26,386 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413111720', 39, '获取ip信息接口', '项目1-测试计划5', '项目1', 42, 2, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"GeoCoding","function": "test_get_ip_info","method":"get", "url":"/geocoding?","params":[{"a":"$city_name"}]}', '{"lon":114.05786,"lat":22.54309}', 'Block', '', '')
2016-04-13 11:17:26,391 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-04-13 11:17:26,391 casestep.py[line: 58] INFO: 调用的方法为：GeoCoding.test_get_ip_info
2016-04-13 11:17:26,392 geocoding.py[line: 22] INFO: 正在发起GET请求...
2016-04-13 11:17:26,393 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/geocoding?a=%E6%B7%B1%E5%9C%B3%E5%B8%82
2016-04-13 11:17:26,475 geocoding.py[line: 37] INFO: 正在解析返回结果
2016-04-13 11:17:26,476 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:17:26,477 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:17:26" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND step_id = 42 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:26,495 testcase.py[line: 101] INFO: 测试用例[id=39, name=获取ip信息接口]执行成功
2016-04-13 11:17:26,495 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:17:26,495 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:17:26" WHERE executed_history_id = 20160413111720 AND testcase_id = 39 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:17:26,654 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=39]的执行结果
2016-04-13 11:17:26,791 testplan.py[line: 85] INFO: 测试计划[project=项目1 ,testplan=项目1-测试计划5]已执行完
2016-04-13 11:17:26,930 main.py[line: 122] INFO: 正在读取测项目[id：9, project：项目2]的协议，host，端口配置...
2016-04-13 11:17:26,930 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http"}
2016-04-13 11:17:26,930 main.py[line: 136] ERROR: 测试项目[id：9, project：项目2]协议，host，端口信息配置错误,暂时无法执行：'host'
2016-04-13 11:17:27,063 main.py[line: 122] INFO: 正在读取测项目[id：22, project：项目3]的协议，host，端口配置...
2016-04-13 11:17:27,064 main.py[line: 125] INFO: 成功读取配置信息：
2016-04-13 11:17:27,064 main.py[line: 127] ERROR: 测试项目[id：22, project：项目3]未配置协议，host，端口信息，暂时无法执行
2016-04-13 11:17:27,187 main.py[line: 112] ERROR: 测试项目[project：项目4]获取失败，暂时无法执行：7011: Test Project (name:项目4) does not exist.
getTestProjectByName({'devKey': '965a88dd56a1fe1c4d0d7891ed87272d', 'testprojectname': '项目4'})
2016-04-13 11:17:27,188 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-04-13 11:17:27,188 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-04-13 11:17:27,188 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160413111720',)
2016-04-13 11:17:27,189 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-04-13 11:17:27,190 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160413111720')
2016-04-13 11:17:27,190 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-04-13 11:17:27,191 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160413111720')
2016-04-13 11:17:27,191 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-04-13 11:17:27,192 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160413111720')
2016-04-13 11:17:27,192 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-04-13 11:17:27,193 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160413111720')
2016-04-13 11:17:27,194 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-04-13 11:17:27,194 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111720',)
2016-04-13 11:17:27,195 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划1]的测试用例执行结果
2016-04-13 11:17:27,195 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '项目1-测试计划1', '20160413111720')
2016-04-13 11:17:27,196 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：项目1-测试计划1]的测试用例运行结果到测试报告
2016-04-13 11:17:27,197 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划5]的测试用例执行结果
2016-04-13 11:17:27,197 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '项目1-测试计划5', '20160413111720')
2016-04-13 11:17:27,198 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：项目1-测试计划5]的测试用例运行结果到测试报告
2016-04-13 11:17:27,199 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-04-13 11:17:27,199 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413111720',)
2016-04-13 11:17:27,200 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划1]已运行的测试用例
2016-04-13 11:17:27,200 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '项目1-测试计划1', '20160413111720')
2016-04-13 11:17:27,201 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=54]步骤运行结果
2016-04-13 11:17:27,202 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 54, '20160413111720')
2016-04-13 11:17:27,204 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=58]步骤运行结果
2016-04-13 11:17:27,204 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 58, '20160413111720')
2016-04-13 11:17:27,206 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=39]步骤运行结果
2016-04-13 11:17:27,206 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 39, '20160413111720')
2016-04-13 11:17:27,208 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划5]已运行的测试用例
2016-04-13 11:17:27,208 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '项目1-测试计划5', '20160413111720')
2016-04-13 11:17:27,209 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=54]步骤运行结果
2016-04-13 11:17:27,210 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 54, '20160413111720')
2016-04-13 11:17:27,211 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=58]步骤运行结果
2016-04-13 11:17:27,212 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 58, '20160413111720')
2016-04-13 11:17:27,213 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=39]步骤运行结果
2016-04-13 11:17:27,213 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 39, '20160413111720')
2016-04-13 11:17:27,214 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-04-13 11:17:27,215 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160413111720.html
2016-04-13 11:17:27,215 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-04-13 11:17:27,217 main.py[line: 250] INFO: 生成测试报告成功
2016-04-13 11:17:27,494 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160413111720.html
2016-04-13 11:17:27,494 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-04-13 11:17:28,142 main.py[line: 264] INFO: 发送邮件成功
2016-04-13 11:36:29,664 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-04-13 11:36:29,673 globalpy.py[line: 17] INFO: 正在获取testlink
2016-04-13 11:36:29,737 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-04-13 11:36:29,737 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-04-13 11:36:29,740 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-04-13 11:36:29,740 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-04-13 11:36:29,742 main.py[line: 65] INFO: 正在读取运行模式配置
2016-04-13 11:36:29,743 main.py[line: 70] INFO: 按项目运行测试
2016-04-13 11:36:29,743 main.py[line: 106] INFO: 运行指定项目
2016-04-13 11:36:29,865 main.py[line: 122] INFO: 正在读取测项目[id：1, project：项目1]的协议，host，端口配置...
2016-04-13 11:36:29,865 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"gc.ditu.aliyun.com","port":80}
2016-04-13 11:36:29,866 main.py[line: 141] INFO: 正在执行测试项目[id：1, project：项目1]
2016-04-13 11:36:29,866 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：项目1]对应对应的测试计划名称列表
2016-04-13 11:36:30,002 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['项目1-测试计划1', '项目1-测试计划2', '项目1-测试计划3', '项目1-测试计划4', '项目1-测试计划5']]
2016-04-13 11:36:30,112 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划1]
2016-04-13 11:36:30,112 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划1]的测试用例
2016-04-13 11:36:30,233 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划1]的测试用例id：dict_keys(['58', '39', '54'])
2016-04-13 11:36:30,454 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:30,454 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 58, '测试用例名2', '根据经纬度获取地区名接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:36:30,455 testplan.py[line: 60] INFO: 开始执行测试用例[id=58，name=测试用例名2]
2016-04-13 11:36:30,456 testcase.py[line: 26] WARNING: 用例[name=测试用例名2]处于禁用状态[active=0]，不执行
2016-04-13 11:36:30,456 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:30,456 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2016-04-13 11:36:30" WHERE executed_history_id = 20160413113629 AND testcase_id = 58 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:30,562 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=58]的执行结果
2016-04-13 11:36:30,850 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:30,850 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '根据地区名获取经纬度接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:36:30,852 testplan.py[line: 60] INFO: 开始执行测试用例[id=39，name=获取ip信息接口]
2016-04-13 11:36:30,852 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:30,852 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '项目1-测试计划1', '项目1', 41, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"IPQuery","function": "test_get_address_info","method":"get", "url":"/ipquery","params":""}', '{"city_name":"深圳市"}', 'Block', '', '')
2016-04-13 11:36:30,854 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:36:30,855 casestep.py[line: 58] INFO: 调用的方法为：IPQuery.test_get_address_info
2016-04-13 11:36:30,856 ipquery.py[line: 25] INFO: 正在发起GET请求...
2016-04-13 11:36:30,856 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2016-04-13 11:36:30,963 ipquery.py[line: 31] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413113629 and testcase_id = 39 and step_id = 41
2016-04-13 11:36:30,963 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413113629 and testcase_id = 39 and step_id = 41
2016-04-13 11:36:30,965 ipquery.py[line: 34] INFO: 正在解析返回结果
2016-04-13 11:36:30,965 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:30,966 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:30" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND step_id = 41 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:30,967 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:30,968 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '项目1-测试计划1', '项目1', 42, 2, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"GeoCoding","function": "test_get_ip_info","method":"get", "url":"/geocoding?","params":[{"a":"$city_name"}]}', '{"lon":114.05786,"lat":22.54309}', 'Block', '', '')
2016-04-13 11:36:30,970 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-04-13 11:36:30,970 casestep.py[line: 58] INFO: 调用的方法为：GeoCoding.test_get_ip_info
2016-04-13 11:36:30,970 geocoding.py[line: 22] INFO: 正在发起GET请求...
2016-04-13 11:36:30,970 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/geocoding?a=%E6%B7%B1%E5%9C%B3%E5%B8%82
2016-04-13 11:36:31,050 geocoding.py[line: 37] INFO: 正在解析返回结果
2016-04-13 11:36:31,051 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:31,052 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:30" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND step_id = 42 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:31,065 testcase.py[line: 101] INFO: 测试用例[id=39, name=获取ip信息接口]执行成功
2016-04-13 11:36:31,066 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:31,066 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:36:30" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:31,206 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=39]的执行结果
2016-04-13 11:36:31,597 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:31,597 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 54, '根据经纬度获取地区名', '根据经纬度获取地区名接口', '项目1-测试计划1', '项目1', 'Block', '')
2016-04-13 11:36:31,600 testplan.py[line: 60] INFO: 开始执行测试用例[id=54，name=根据经纬度获取地区名]
2016-04-13 11:36:31,600 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:31,600 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 54, '根据经纬度获取地区名', '项目1-测试计划1', '项目1', 61, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"Regeocoding","function":"test_regeocoding","method":"get","url":"/regeocoding?","params":[{"l":"39.938133,116.395739","type":"100"}]}', '{"name":"地安门外大街"}', 'Block', '', '')
2016-04-13 11:36:31,601 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:36:31,601 casestep.py[line: 58] INFO: 调用的方法为：Regeocoding.test_regeocoding
2016-04-13 11:36:31,602 regeocoding.py[line: 24] INFO: 正在发起GET请求...
2016-04-13 11:36:31,602 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/regeocoding?type=100&l=39.938133%2C116.395739
2016-04-13 11:36:31,681 regeocoding.py[line: 27] INFO: 正在解析返回结果
2016-04-13 11:36:31,682 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:31,682 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:31" WHERE executed_history_id = 20160413113629 AND testcase_id = 54 AND step_id = 61 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:31,688 testcase.py[line: 101] INFO: 测试用例[id=54, name=根据经纬度获取地区名]执行成功
2016-04-13 11:36:31,688 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:31,689 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:36:31" WHERE executed_history_id = 20160413113629 AND testcase_id = 54 AND project='项目1' AND testplan='项目1-测试计划1'
2016-04-13 11:36:31,861 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=2, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=54]的执行结果
2016-04-13 11:36:31,980 testplan.py[line: 85] INFO: 测试计划[project=项目1 ,testplan=项目1-测试计划1]已执行完
2016-04-13 11:36:32,090 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划2]
2016-04-13 11:36:32,090 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划2]的测试用例
2016-04-13 11:36:32,208 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划2]的测试用例id：dict_keys(['28'])
2016-04-13 11:36:32,208 testplan.py[line: 38] WARNING: 测试计划[project=项目1，name=项目1-测试计划2]处于不活动状态[active=0]，不执行
2016-04-13 11:36:32,322 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划3]
2016-04-13 11:36:32,322 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划3]的测试用例
2016-04-13 11:36:32,431 testplan.py[line: 32] WARNING: 未获取到测试用例
2016-04-13 11:36:32,552 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划4]
2016-04-13 11:36:32,552 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划4]的测试用例
2016-04-13 11:36:32,663 testplan.py[line: 32] WARNING: 未获取到测试用例
2016-04-13 11:36:32,803 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：项目1，testplan：项目1-测试计划5]
2016-04-13 11:36:32,803 testplan.py[line: 29] INFO: 正在获取测试计划[project=项目1，name=项目1-测试计划5]的测试用例
2016-04-13 11:36:32,928 testplan.py[line: 35] INFO: 成功获取测试计划[project=项目1，name=项目1-测试计划5]的测试用例id：dict_keys(['58', '39', '54'])
2016-04-13 11:36:33,148 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:33,148 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 58, '测试用例名2', '根据经纬度获取地区名接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:36:33,149 testplan.py[line: 60] INFO: 开始执行测试用例[id=58，name=测试用例名2]
2016-04-13 11:36:33,149 testcase.py[line: 26] WARNING: 用例[name=测试用例名2]处于禁用状态[active=0]，不执行
2016-04-13 11:36:33,150 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:33,150 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2016-04-13 11:36:33" WHERE executed_history_id = 20160413113629 AND testcase_id = 58 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:33,257 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=58]的执行结果
2016-04-13 11:36:33,520 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:33,520 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '根据地区名获取经纬度接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:36:33,522 testplan.py[line: 60] INFO: 开始执行测试用例[id=39，name=获取ip信息接口]
2016-04-13 11:36:33,522 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:33,522 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '项目1-测试计划5', '项目1', 41, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"IPQuery","function": "test_get_address_info","method":"get", "url":"/ipquery","params":""}', '{"city_name":"深圳市"}', 'Block', '', '')
2016-04-13 11:36:33,523 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:36:33,523 casestep.py[line: 58] INFO: 调用的方法为：IPQuery.test_get_address_info
2016-04-13 11:36:33,524 ipquery.py[line: 25] INFO: 正在发起GET请求...
2016-04-13 11:36:33,524 httpprotocol.py[line: 50] INFO: 发起的请求为：http://ip.ws.126.net:80/ipquery
2016-04-13 11:36:33,629 ipquery.py[line: 31] INFO: 正在更新步骤端口，主机，协议等配置信息: UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413113629 and testcase_id = 39 and step_id = 41
2016-04-13 11:36:33,629 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET protocol="http",host="ditu.amap.com", port="80"WHERE executed_history_id = 20160413113629 and testcase_id = 39 and step_id = 41
2016-04-13 11:36:33,636 ipquery.py[line: 34] INFO: 正在解析返回结果
2016-04-13 11:36:33,637 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:33,638 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:33" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND step_id = 41 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:33,644 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:33,644 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 39, '获取ip信息接口', '项目1-测试计划5', '项目1', 42, 2, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"GeoCoding","function": "test_get_ip_info","method":"get", "url":"/geocoding?","params":[{"a":"$city_name"}]}', '{"lon":114.05786,"lat":22.54309}', 'Block', '', '')
2016-04-13 11:36:33,648 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-04-13 11:36:33,649 casestep.py[line: 58] INFO: 调用的方法为：GeoCoding.test_get_ip_info
2016-04-13 11:36:33,650 geocoding.py[line: 22] INFO: 正在发起GET请求...
2016-04-13 11:36:33,650 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/geocoding?a=%E6%B7%B1%E5%9C%B3%E5%B8%82
2016-04-13 11:36:33,735 geocoding.py[line: 37] INFO: 正在解析返回结果
2016-04-13 11:36:33,737 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:33,738 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:33" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND step_id = 42 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:33,749 testcase.py[line: 101] INFO: 测试用例[id=39, name=获取ip信息接口]执行成功
2016-04-13 11:36:33,750 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:33,750 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:36:33" WHERE executed_history_id = 20160413113629 AND testcase_id = 39 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:33,894 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=39]的执行结果
2016-04-13 11:36:34,239 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-04-13 11:36:34,239 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 54, '根据经纬度获取地区名', '根据经纬度获取地区名接口', '项目1-测试计划5', '项目1', 'Block', '')
2016-04-13 11:36:34,241 testplan.py[line: 60] INFO: 开始执行测试用例[id=54，name=根据经纬度获取地区名]
2016-04-13 11:36:34,241 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-04-13 11:36:34,241 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160413113629', 54, '根据经纬度获取地区名', '项目1-测试计划5', '项目1', 61, 1, '', 'http', 'gc.ditu.aliyun.com', 80, '{"class":"Regeocoding","function":"test_regeocoding","method":"get","url":"/regeocoding?","params":[{"l":"39.938133,116.395739","type":"100"}]}', '{"name":"地安门外大街"}', 'Block', '', '')
2016-04-13 11:36:34,242 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-04-13 11:36:34,242 casestep.py[line: 58] INFO: 调用的方法为：Regeocoding.test_regeocoding
2016-04-13 11:36:34,242 regeocoding.py[line: 24] INFO: 正在发起GET请求...
2016-04-13 11:36:34,242 httpprotocol.py[line: 50] INFO: 发起的请求为：http://gc.ditu.aliyun.com:80/regeocoding?type=100&l=39.938133%2C116.395739
2016-04-13 11:36:34,327 regeocoding.py[line: 27] INFO: 正在解析返回结果
2016-04-13 11:36:34,328 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-04-13 11:36:34,329 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-04-13 11:36:34" WHERE executed_history_id = 20160413113629 AND testcase_id = 54 AND step_id = 61 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:34,334 testcase.py[line: 101] INFO: 测试用例[id=54, name=根据经纬度获取地区名]执行成功
2016-04-13 11:36:34,335 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-04-13 11:36:34,335 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-04-13 11:36:34" WHERE executed_history_id = 20160413113629 AND testcase_id = 54 AND project='项目1' AND testplan='项目1-测试计划5'
2016-04-13 11:36:34,469 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=64, bulid_version=测试计划1-Version1.0.2],对应用例[testcase_id=54]的执行结果
2016-04-13 11:36:34,589 testplan.py[line: 85] INFO: 测试计划[project=项目1 ,testplan=项目1-测试计划5]已执行完
2016-04-13 11:36:34,696 main.py[line: 122] INFO: 正在读取测项目[id：9, project：项目2]的协议，host，端口配置...
2016-04-13 11:36:34,696 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http"}
2016-04-13 11:36:34,696 main.py[line: 136] ERROR: 测试项目[id：9, project：项目2]协议，host，端口信息配置错误,暂时无法执行：'host'
2016-04-13 11:36:34,823 main.py[line: 122] INFO: 正在读取测项目[id：22, project：项目3]的协议，host，端口配置...
2016-04-13 11:36:34,824 main.py[line: 125] INFO: 成功读取配置信息：
2016-04-13 11:36:34,824 main.py[line: 127] ERROR: 测试项目[id：22, project：项目3]未配置协议，host，端口信息，暂时无法执行
2016-04-13 11:36:34,947 main.py[line: 112] ERROR: 测试项目[project：项目4]获取失败，暂时无法执行：7011: Test Project (name:项目4) does not exist.
getTestProjectByName({'testprojectname': '项目4', 'devKey': '965a88dd56a1fe1c4d0d7891ed87272d'})
2016-04-13 11:36:34,947 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-04-13 11:36:34,948 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-04-13 11:36:34,948 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160413113629',)
2016-04-13 11:36:34,949 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-04-13 11:36:34,949 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160413113629')
2016-04-13 11:36:34,950 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-04-13 11:36:34,950 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160413113629')
2016-04-13 11:36:34,951 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-04-13 11:36:34,951 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160413113629')
2016-04-13 11:36:34,952 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-04-13 11:36:34,952 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160413113629')
2016-04-13 11:36:34,953 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-04-13 11:36:34,954 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413113629',)
2016-04-13 11:36:34,955 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划1]的测试用例执行结果
2016-04-13 11:36:34,955 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '项目1-测试计划1', '20160413113629')
2016-04-13 11:36:34,956 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：项目1-测试计划1]的测试用例运行结果到测试报告
2016-04-13 11:36:34,957 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划5]的测试用例执行结果
2016-04-13 11:36:34,958 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('项目1', '项目1-测试计划5', '20160413113629')
2016-04-13 11:36:34,960 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：项目1, testplan：项目1-测试计划5]的测试用例运行结果到测试报告
2016-04-13 11:36:34,960 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-04-13 11:36:34,960 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160413113629',)
2016-04-13 11:36:34,962 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划1]已运行的测试用例
2016-04-13 11:36:34,962 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '项目1-测试计划1', '20160413113629')
2016-04-13 11:36:34,963 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=58]步骤运行结果
2016-04-13 11:36:34,963 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 58, '20160413113629')
2016-04-13 11:36:34,964 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=39]步骤运行结果
2016-04-13 11:36:34,964 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 39, '20160413113629')
2016-04-13 11:36:34,966 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=54]步骤运行结果
2016-04-13 11:36:34,966 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划1', 54, '20160413113629')
2016-04-13 11:36:34,968 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：项目1, testplan：项目1-测试计划5]已运行的测试用例
2016-04-13 11:36:34,968 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('项目1', '项目1-测试计划5', '20160413113629')
2016-04-13 11:36:34,969 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=58]步骤运行结果
2016-04-13 11:36:34,969 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 58, '20160413113629')
2016-04-13 11:36:34,970 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=39]步骤运行结果
2016-04-13 11:36:34,971 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 39, '20160413113629')
2016-04-13 11:36:34,972 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=54]步骤运行结果
2016-04-13 11:36:34,972 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('项目1', '项目1-测试计划5', 54, '20160413113629')
2016-04-13 11:36:34,974 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-04-13 11:36:34,974 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160413113629.html
2016-04-13 11:36:34,974 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-04-13 11:36:34,976 main.py[line: 250] INFO: 生成测试报告成功
2016-04-13 11:36:53,084 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160413113629.html
2016-04-13 11:36:53,084 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-04-13 11:36:56,591 main.py[line: 264] INFO: 发送邮件成功
2016-07-14 15:45:12,433 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-14 15:47:15,611 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-14 15:47:15,631 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-14 15:47:16,257 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-14 15:47:16,258 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-14 15:47:16,261 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-14 15:47:16,261 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-14 15:47:16,263 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-14 15:47:16,267 main.py[line: 70] INFO: 按项目运行测试
2016-07-14 15:47:16,268 main.py[line: 106] INFO: 运行指定项目
2016-07-14 15:47:37,338 main.py[line: 112] ERROR: 测试项目[project：项目1]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.210/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-07-14 15:47:58,386 main.py[line: 112] ERROR: 测试项目[project：项目2]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.210/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-07-14 15:48:19,385 main.py[line: 112] ERROR: 测试项目[project：项目3]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.210/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-07-14 15:48:40,387 main.py[line: 112] ERROR: 测试项目[project：项目4]获取失败，暂时无法执行：problems connecting the TestLink Server http://192.168.1.210/testlink/lib/api/xmlrpc/v1/xmlrpc.php
[WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。
2016-07-14 15:48:40,388 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-14 15:48:40,391 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-14 15:48:40,391 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160714154715',)
2016-07-14 15:48:40,400 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-14 15:48:40,400 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160714154715')
2016-07-14 15:48:40,405 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-14 15:48:40,405 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160714154715')
2016-07-14 15:48:40,409 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-14 15:48:40,409 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160714154715')
2016-07-14 15:48:40,411 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-14 15:48:40,411 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160714154715')
2016-07-14 15:48:40,414 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-14 15:48:40,415 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160714154715',)
2016-07-14 15:48:40,417 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-14 15:48:40,417 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160714154715',)
2016-07-14 15:48:40,420 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-14 15:48:40,421 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160714154715.html
2016-07-14 15:48:40,421 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-14 15:48:40,422 main.py[line: 250] INFO: 生成测试报告成功
2016-07-14 15:48:41,720 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160714154715.html
2016-07-14 15:48:41,721 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-14 15:48:42,030 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:17:07,370 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:17:07,439 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:17:07,602 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:17:07,603 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:17:07,604 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:17:07,604 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:17:07,606 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:17:07,613 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:17:07,613 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:17:08,032 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:17:08,032 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:17:08,033 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:17:08,034 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:17:08,178 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:17:08,316 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:17:08,317 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:17:08,459 testplan.py[line: 32] WARNING: 未获取到测试用例
2016-07-19 11:17:08,459 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:17:08,460 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:17:08,460 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719111707',)
2016-07-19 11:17:08,465 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:17:08,465 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719111707')
2016-07-19 11:17:08,466 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:17:08,466 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719111707')
2016-07-19 11:17:08,466 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:17:08,467 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719111707')
2016-07-19 11:17:08,468 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:17:08,468 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719111707')
2016-07-19 11:17:08,469 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:17:08,469 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719111707',)
2016-07-19 11:17:08,470 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:17:08,470 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719111707',)
2016-07-19 11:17:08,471 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:17:08,471 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719111707.html
2016-07-19 11:17:08,471 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:17:08,472 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:17:09,734 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719111707.html
2016-07-19 11:17:09,735 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:17:10,033 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:21:28,814 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:21:28,824 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:21:28,885 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:21:28,885 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:21:28,887 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:21:28,887 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:21:28,888 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:21:28,889 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:21:28,889 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:21:29,016 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:21:29,016 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:21:29,017 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:21:29,017 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:21:29,146 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:21:29,268 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:21:29,268 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:21:29,431 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:21:29,681 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:21:29,682 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719112128', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:21:29,684 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:21:29,685 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:21:29,685 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719112128', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{&ldquo;currentPage&rdquo;:"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var""standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:21:29,687 testcase.py[line: 57] ERROR: 步骤[1]信息填写错误: Expecting property name enclosed in double quotes: line 1 column 2 (char 1),停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:21:29,687 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:21:29,687 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:21:29" WHERE executed_history_id = 20160719112128 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:27:18,026 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:27:18,036 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:27:18,098 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:27:18,098 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:27:18,100 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:27:18,100 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:27:18,101 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:27:18,102 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:27:18,102 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:27:18,302 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:27:18,302 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:27:18,304 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:27:18,304 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:27:18,462 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:27:18,595 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:27:18,595 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:27:18,717 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:27:18,965 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:27:18,965 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719112718', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:27:18,967 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:27:18,967 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:27:18,967 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719112718', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{&ldquo;currentPage&rdquo;:"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var""standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:27:18,969 testcase.py[line: 57] ERROR: 步骤[1]信息填写错误: Expecting property name enclosed in double quotes: line 1 column 2 (char 1),停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:27:18,969 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:27:18,969 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:27:18" WHERE executed_history_id = 20160719112718 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:32:04,822 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:32:04,835 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:32:04,909 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:32:04,909 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:32:04,911 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:32:04,911 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:32:04,913 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:32:04,914 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:32:04,914 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:32:05,073 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:32:05,073 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:32:05,075 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:32:05,075 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:32:05,261 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:32:05,383 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:32:05,383 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:32:05,505 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:32:05,737 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:32:05,737 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113204', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:32:05,738 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:32:05,738 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:32:05,738 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113204', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var""standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:32:05,739 testcase.py[line: 57] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 342 (char 341),停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:32:05,740 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:32:05,740 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:32:05" WHERE executed_history_id = 20160719113204 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:35:31,451 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:35:31,462 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:35:31,522 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:35:31,522 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:35:31,523 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:35:31,523 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:35:31,524 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:35:31,526 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:35:31,526 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:35:31,647 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:35:31,647 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:35:31,648 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:35:31,648 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:35:31,767 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:35:31,896 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:35:31,897 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:35:32,038 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:35:32,294 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:35:32,295 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113531', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:35:32,296 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:35:32,296 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:35:32,296 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113531', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var""standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:35:32,297 testcase.py[line: 57] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 342 (char 341),停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:35:32,297 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:35:32,298 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:35:32" WHERE executed_history_id = 20160719113531 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:35:32,417 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 11:35:32,549 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 11:35:32,550 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:35:32,550 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:35:32,550 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719113531',)
2016-07-19 11:35:32,552 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:35:32,552 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719113531')
2016-07-19 11:35:32,553 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:35:32,553 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719113531')
2016-07-19 11:35:32,554 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:35:32,554 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719113531')
2016-07-19 11:35:32,555 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:35:32,555 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719113531')
2016-07-19 11:35:32,556 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:35:32,556 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719113531',)
2016-07-19 11:35:32,558 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 11:35:32,558 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719113531')
2016-07-19 11:35:32,582 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 11:35:32,582 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:35:32,582 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719113531',)
2016-07-19 11:35:32,583 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 11:35:32,584 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719113531')
2016-07-19 11:35:32,585 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 11:35:32,585 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719113531')
2016-07-19 11:35:32,586 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:35:32,586 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719113531.html
2016-07-19 11:35:32,586 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:35:32,587 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:35:33,806 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719113531.html
2016-07-19 11:35:33,807 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:35:33,807 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:38:03,931 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:38:03,941 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:38:04,001 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:38:04,001 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:38:04,002 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:38:04,002 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:38:04,003 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:38:04,005 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:38:04,005 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:38:04,165 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:38:04,165 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:38:04,167 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:38:04,167 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:38:04,326 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:38:04,466 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:38:04,467 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:38:04,606 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:38:04,889 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:38:04,890 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113803', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:38:04,891 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:38:04,892 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:38:04,892 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719113803', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var""standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:38:04,893 testcase.py[line: 58] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 342 (char 341),停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:38:04,893 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:38:04,893 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:38:04" WHERE executed_history_id = 20160719113803 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:38:05,035 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 11:38:05,227 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 11:38:05,228 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:38:05,229 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:38:05,229 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719113803',)
2016-07-19 11:38:05,230 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:38:05,231 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719113803')
2016-07-19 11:38:05,232 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:38:05,232 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719113803')
2016-07-19 11:38:05,233 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:38:05,234 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719113803')
2016-07-19 11:38:05,235 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:38:05,235 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719113803')
2016-07-19 11:38:05,237 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:38:05,237 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719113803',)
2016-07-19 11:38:05,239 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 11:38:05,239 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719113803')
2016-07-19 11:38:05,240 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 11:38:05,241 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:38:05,241 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719113803',)
2016-07-19 11:38:05,243 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 11:38:05,243 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719113803')
2016-07-19 11:38:05,245 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 11:38:05,245 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719113803')
2016-07-19 11:38:05,247 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:38:05,247 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719113803.html
2016-07-19 11:38:05,247 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:38:05,249 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:38:05,459 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719113803.html
2016-07-19 11:38:05,459 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:38:05,459 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:43:58,344 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:43:58,353 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:43:58,411 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:43:58,411 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:43:58,413 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:43:58,413 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:43:58,414 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:43:58,415 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:43:58,415 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:43:58,535 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:43:58,535 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:43:58,536 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:43:58,536 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:43:58,662 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:43:58,780 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:43:58,780 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:43:58,907 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:43:59,197 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:43:59,197 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719114358', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:43:59,199 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:43:59,199 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:43:59,199 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719114358', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:43:59,201 testcase.py[line: 53] ERROR: 出错了
2016-07-19 11:43:59,201 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 11:43:59,201 casestep.py[line: 60] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 11:46:22,757 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:46:22,768 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:46:22,811 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:46:22,811 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:46:22,812 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:46:22,813 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:46:22,813 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:46:22,815 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:46:22,815 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:46:22,950 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:46:22,950 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:46:22,951 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:46:22,952 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:46:23,099 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:46:23,218 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:46:23,219 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:46:23,355 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:46:23,646 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:46:23,646 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719114622', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:46:23,648 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:46:23,648 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:46:23,648 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719114622', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:46:23,650 testcase.py[line: 53] ERROR: 出错了
2016-07-19 11:46:23,651 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 11:46:23,651 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 11:46:23,651 wechatno.py[line: 24] INFO: 正在发起POST请求...
2016-07-19 11:46:23,651 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 11:46:23,651 httpprotocol.py[line: 72] ERROR: 发送请求失败，原因：POST data should be bytes or an iterable of bytes. It cannot be of type str.
2016-07-19 11:46:23,652 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:46:23,652 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 11:46:23,652 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 28, in test_plist_default    response = response.decode(utf-8)AttributeError: NoneType object has no attribute decode", protocol_method="post", runtime="2016-07-19 11:46:23" WHERE executed_history_id = 20160719114622 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:46:23,654 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:46:23,654 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:46:23" WHERE executed_history_id = 20160719114622 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:46:23,780 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 11:46:23,906 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 11:46:23,906 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:46:23,907 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:46:23,907 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719114622',)
2016-07-19 11:46:23,914 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:46:23,914 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719114622')
2016-07-19 11:46:23,915 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:46:23,915 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719114622')
2016-07-19 11:46:23,916 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:46:23,916 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719114622')
2016-07-19 11:46:23,917 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:46:23,917 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719114622')
2016-07-19 11:46:23,919 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:46:23,919 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719114622',)
2016-07-19 11:46:23,921 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 11:46:23,921 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719114622')
2016-07-19 11:46:23,922 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 11:46:23,923 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:46:23,923 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719114622',)
2016-07-19 11:46:23,924 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 11:46:23,924 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719114622')
2016-07-19 11:46:23,928 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 11:46:23,929 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719114622')
2016-07-19 11:46:23,930 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:46:23,931 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719114622.html
2016-07-19 11:46:23,931 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:46:23,932 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:46:25,102 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719114622.html
2016-07-19 11:46:25,102 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:46:25,102 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:53:15,596 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:53:15,607 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:53:15,663 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:53:15,663 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:53:15,665 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:53:15,665 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:53:15,668 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:53:15,670 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:53:15,670 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:53:15,877 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:53:15,877 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:53:15,878 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:53:15,879 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:53:16,004 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:53:16,126 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:53:16,127 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:53:16,277 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:53:16,546 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:53:16,546 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719115315', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:53:16,548 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:53:16,548 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:53:16,548 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719115315', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:53:16,550 testcase.py[line: 53] ERROR: 出错了
2016-07-19 11:53:16,550 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 11:53:16,550 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 11:53:16,550 wechatno.py[line: 24] INFO: 正在发起POST请求...
2016-07-19 11:53:16,550 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 11:53:16,551 httpprotocol.py[line: 72] ERROR: 发送请求失败，原因：Content-Length should be specified for iterable data of type <class 'dict'> {'serial': '10549840601068216320', 'orderBy': '', 'name': '', 'cateIds': '', 'page_size': '10', 'page_no': '1'}
2016-07-19 11:53:16,551 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 11:53:16,551 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 11:53:16,551 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 28, in test_plist_default    response = response.decode(utf-8)AttributeError: NoneType object has no attribute decode", protocol_method="post", runtime="2016-07-19 11:53:16" WHERE executed_history_id = 20160719115315 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:53:16,553 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:53:16,553 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 11:53:16" WHERE executed_history_id = 20160719115315 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:53:16,673 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 11:53:16,848 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 11:53:16,849 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:53:16,850 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:53:16,850 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719115315',)
2016-07-19 11:53:16,851 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:53:16,852 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719115315')
2016-07-19 11:53:16,852 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:53:16,853 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719115315')
2016-07-19 11:53:16,853 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:53:16,853 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719115315')
2016-07-19 11:53:16,854 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:53:16,854 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719115315')
2016-07-19 11:53:16,856 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:53:16,856 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719115315',)
2016-07-19 11:53:16,857 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 11:53:16,857 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719115315')
2016-07-19 11:53:16,859 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 11:53:16,859 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:53:16,859 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719115315',)
2016-07-19 11:53:16,860 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 11:53:16,860 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719115315')
2016-07-19 11:53:16,861 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 11:53:16,861 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719115315')
2016-07-19 11:53:16,862 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:53:16,863 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719115315.html
2016-07-19 11:53:16,863 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:53:16,863 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:53:17,158 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719115315.html
2016-07-19 11:53:17,158 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:53:17,159 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 11:54:09,713 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 11:54:09,723 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 11:54:09,765 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 11:54:09,765 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 11:54:09,766 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 11:54:09,766 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 11:54:09,767 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 11:54:09,768 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 11:54:09,768 main.py[line: 106] INFO: 运行指定项目
2016-07-19 11:54:09,887 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 11:54:09,888 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 11:54:09,889 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 11:54:09,889 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 11:54:10,004 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 11:54:10,132 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 11:54:10,132 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 11:54:10,262 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 11:54:10,534 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 11:54:10,535 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719115409', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 11:54:10,536 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 11:54:10,537 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 11:54:10,537 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719115409', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"oriPrice":0,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"oriPrice": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 11:54:10,539 testcase.py[line: 53] ERROR: 出错了
2016-07-19 11:54:10,539 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 11:54:10,539 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 11:54:10,539 wechatno.py[line: 24] INFO: 正在发起POST请求...
2016-07-19 11:54:10,539 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 11:54:54,522 wechatno.py[line: 31] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 11:54:54,523 testcase.py[line: 99] INFO: 正在更新步骤执行结果
2016-07-19 11:54:54,523 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-19 11:54:10" WHERE executed_history_id = 20160719115409 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:54:54,526 testcase.py[line: 102] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-19 11:54:54,526 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 11:54:54,527 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-19 11:54:10" WHERE executed_history_id = 20160719115409 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 11:54:54,748 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 11:54:54,879 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 11:54:54,879 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 11:54:54,880 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 11:54:54,881 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719115409',)
2016-07-19 11:54:54,883 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 11:54:54,883 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719115409')
2016-07-19 11:54:54,884 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 11:54:54,884 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719115409')
2016-07-19 11:54:54,884 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 11:54:54,885 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719115409')
2016-07-19 11:54:54,885 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 11:54:54,886 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719115409')
2016-07-19 11:54:54,886 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 11:54:54,886 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719115409',)
2016-07-19 11:54:54,887 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 11:54:54,888 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719115409')
2016-07-19 11:54:54,888 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 11:54:54,889 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 11:54:54,889 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719115409',)
2016-07-19 11:54:54,890 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 11:54:54,890 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719115409')
2016-07-19 11:54:54,891 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 11:54:54,891 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719115409')
2016-07-19 11:54:54,892 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 11:54:54,893 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719115409.html
2016-07-19 11:54:54,893 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 11:54:54,894 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 11:54:55,095 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719115409.html
2016-07-19 11:54:55,096 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 11:54:55,096 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 15:44:47,134 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 15:44:47,144 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 15:44:47,190 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 15:44:47,190 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 15:44:47,192 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 15:44:47,193 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 15:44:47,194 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 15:44:47,196 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 15:44:47,196 main.py[line: 106] INFO: 运行指定项目
2016-07-19 15:44:47,330 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 15:44:47,331 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 15:44:47,332 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 15:44:47,332 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 15:44:47,453 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 15:44:47,591 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 15:44:47,591 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 15:44:47,755 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 15:44:47,991 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 15:44:47,991 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154447', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 15:44:47,994 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 15:44:47,994 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 15:44:47,994 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154447', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 15:44:47,996 testcase.py[line: 53] ERROR: 出错了
2016-07-19 15:44:47,996 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 15:44:47,996 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 15:44:47,997 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 15:44:47,997 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 15:45:18,062 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 15:45:18,063 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.idJOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.`business_id` NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 15:45:18,064 mydb.py[line: 87] ERROR: 执行数据库查询操作失败：1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WH' at line 1
2016-07-19 15:45:18,110 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 15:45:18,110 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 15:45:18,110 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\globalpkg\mydb.py, line 81, in select_one_record    db_cursor.execute(query, data)  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 515, in execute    self._handle_result(self._connection.cmd_query(stmt))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 488, in cmd_query    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 395, in _handle_result    raise errors.get_exception(packet)mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WH at line 1During handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 40, in test_plist_default    result = testdb.select_one_record(query, data)  File E:\Projects\interface_project\globalpkg\mydb.py, line 89, in select_one_record    exit()  File D:\Program Files\python33\lib\site.py, line 375, in __call__    raise SystemExit(code)SystemExit: None", protocol_method="post", runtime="2016-07-19 15:44:47" WHERE executed_history_id = 20160719154447 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:45:18,114 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 15:45:18,114 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 15:44:47" WHERE executed_history_id = 20160719154447 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:45:18,358 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 15:45:18,495 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 15:45:18,495 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 15:45:18,496 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 15:45:18,496 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719154447',)
2016-07-19 15:45:18,497 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 15:45:18,497 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719154447')
2016-07-19 15:45:18,498 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 15:45:18,498 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719154447')
2016-07-19 15:45:18,499 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 15:45:18,499 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719154447')
2016-07-19 15:45:18,500 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 15:45:18,500 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719154447')
2016-07-19 15:45:18,501 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 15:45:18,502 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154447',)
2016-07-19 15:45:18,503 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 15:45:18,503 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154447')
2016-07-19 15:45:18,504 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 15:45:18,505 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 15:45:18,505 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154447',)
2016-07-19 15:45:18,506 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 15:45:18,506 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154447')
2016-07-19 15:45:18,508 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 15:45:18,508 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719154447')
2016-07-19 15:45:18,510 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 15:45:18,510 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719154447.html
2016-07-19 15:45:18,510 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 15:45:18,511 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 15:45:19,746 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719154447.html
2016-07-19 15:45:19,746 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 15:45:19,747 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 15:48:15,416 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 15:48:15,425 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 15:48:15,492 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 15:48:15,493 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 15:48:15,495 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 15:48:15,495 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 15:48:15,497 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 15:48:15,500 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 15:48:15,500 main.py[line: 106] INFO: 运行指定项目
2016-07-19 15:48:15,720 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 15:48:15,720 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 15:48:15,722 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 15:48:15,722 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 15:48:15,861 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 15:48:15,977 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 15:48:15,977 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 15:48:16,100 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 15:48:16,355 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 15:48:16,355 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154815', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 15:48:16,357 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 15:48:16,357 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 15:48:16,357 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154815', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 15:48:16,359 testcase.py[line: 53] ERROR: 出错了
2016-07-19 15:48:16,359 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 15:48:16,359 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 15:48:16,359 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 15:48:16,359 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 15:48:46,420 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 15:48:46,420 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.idJOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 15:48:46,427 mydb.py[line: 87] ERROR: 执行数据库查询操作失败：1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WH' at line 1
2016-07-19 15:48:46,431 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 15:48:46,432 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 15:48:46,432 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\globalpkg\mydb.py, line 81, in select_one_record    db_cursor.execute(query, data)  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 515, in execute    self._handle_result(self._connection.cmd_query(stmt))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 488, in cmd_query    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 395, in _handle_result    raise errors.get_exception(packet)mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WH at line 1During handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 40, in test_plist_default    result = testdb.select_one_record(query, data)  File E:\Projects\interface_project\globalpkg\mydb.py, line 89, in select_one_record    exit()  File D:\Program Files\python33\lib\site.py, line 375, in __call__    raise SystemExit(code)SystemExit: None", protocol_method="post", runtime="2016-07-19 15:48:16" WHERE executed_history_id = 20160719154815 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:48:46,435 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 15:48:46,436 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 15:48:16" WHERE executed_history_id = 20160719154815 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:48:46,560 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 15:48:46,676 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 15:48:46,676 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 15:48:46,677 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 15:48:46,677 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719154815',)
2016-07-19 15:48:46,678 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 15:48:46,678 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719154815')
2016-07-19 15:48:46,679 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 15:48:46,679 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719154815')
2016-07-19 15:48:46,680 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 15:48:46,680 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719154815')
2016-07-19 15:48:46,681 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 15:48:46,681 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719154815')
2016-07-19 15:48:46,682 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 15:48:46,682 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154815',)
2016-07-19 15:48:46,684 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 15:48:46,684 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154815')
2016-07-19 15:48:46,685 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 15:48:46,685 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 15:48:46,686 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154815',)
2016-07-19 15:48:46,687 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 15:48:46,687 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154815')
2016-07-19 15:48:46,688 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 15:48:46,689 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719154815')
2016-07-19 15:48:46,690 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 15:48:46,690 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719154815.html
2016-07-19 15:48:46,690 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 15:48:46,691 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 15:48:46,917 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719154815.html
2016-07-19 15:48:46,917 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 15:48:46,917 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 15:49:50,143 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 15:49:50,154 globalpy.py[line: 17] INFO: 正在获取testlink
2016-07-19 15:49:50,201 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 15:49:50,201 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 15:49:50,202 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 15:49:50,202 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 15:49:50,203 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 15:49:50,204 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 15:49:50,205 main.py[line: 106] INFO: 运行指定项目
2016-07-19 15:49:50,385 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 15:49:50,385 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 15:49:50,386 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 15:49:50,387 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 15:49:50,516 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 15:49:50,641 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 15:49:50,641 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 15:49:50,833 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 15:49:51,110 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 15:49:51,110 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154950', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 15:49:51,112 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 15:49:51,112 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 15:49:51,112 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719154950', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 15:49:51,113 testcase.py[line: 53] ERROR: 出错了
2016-07-19 15:49:51,114 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 15:49:51,114 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 15:49:51,114 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 15:49:51,114 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 15:50:21,156 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 15:50:21,157 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 15:50:21,160 mydb.py[line: 87] ERROR: 执行数据库查询操作失败：1146 (42S02): Table 'interface_autotest.mall_goods' doesn't exist
2016-07-19 15:50:21,166 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 15:50:21,166 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 15:50:21,166 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\globalpkg\mydb.py, line 81, in select_one_record    db_cursor.execute(query, data)  File D:\Program Files\python33\lib\site-packages\mysql\connector\cursor.py, line 515, in execute    self._handle_result(self._connection.cmd_query(stmt))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 488, in cmd_query    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))  File D:\Program Files\python33\lib\site-packages\mysql\connector\connection.py, line 395, in _handle_result    raise errors.get_exception(packet)mysql.connector.errors.ProgrammingError: 1146 (42S02): Table interface_autotest.mall_goods doesnt existDuring handling of the above exception, another exception occurred:Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 40, in test_plist_default    result = testdb.select_one_record(query, data)  File E:\Projects\interface_project\globalpkg\mydb.py, line 89, in select_one_record    exit()  File D:\Program Files\python33\lib\site.py, line 375, in __call__    raise SystemExit(code)SystemExit: None", protocol_method="post", runtime="2016-07-19 15:49:51" WHERE executed_history_id = 20160719154950 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:50:21,171 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 15:50:21,171 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 15:49:51" WHERE executed_history_id = 20160719154950 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 15:50:21,333 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 15:50:21,517 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 15:50:21,517 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 15:50:21,518 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 15:50:21,518 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719154950',)
2016-07-19 15:50:21,520 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 15:50:21,520 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719154950')
2016-07-19 15:50:21,521 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 15:50:21,522 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719154950')
2016-07-19 15:50:21,523 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 15:50:21,523 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719154950')
2016-07-19 15:50:21,524 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 15:50:21,525 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719154950')
2016-07-19 15:50:21,526 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 15:50:21,526 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154950',)
2016-07-19 15:50:21,527 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 15:50:21,528 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154950')
2016-07-19 15:50:21,529 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 15:50:21,530 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 15:50:21,530 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719154950',)
2016-07-19 15:50:21,531 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 15:50:21,531 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719154950')
2016-07-19 15:50:21,533 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 15:50:21,533 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719154950')
2016-07-19 15:50:21,535 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 15:50:21,535 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719154950.html
2016-07-19 15:50:21,535 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 15:50:21,536 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 15:50:21,776 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719154950.html
2016-07-19 15:50:21,776 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 15:50:21,776 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 16:32:59,478 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 16:32:59,488 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 16:32:59,492 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 16:32:59,538 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 16:32:59,538 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 16:32:59,540 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 16:32:59,540 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 16:32:59,542 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 16:32:59,543 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 16:32:59,544 main.py[line: 106] INFO: 运行指定项目
2016-07-19 16:32:59,747 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 16:32:59,747 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 16:32:59,748 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 16:32:59,749 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 16:32:59,871 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 16:33:00,010 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 16:33:00,010 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 16:33:00,134 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 16:33:00,375 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 16:33:00,375 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163259', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 16:33:00,377 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 16:33:00,378 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 16:33:00,378 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163259', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 16:33:00,379 testcase.py[line: 53] ERROR: 出错了
2016-07-19 16:33:00,379 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 16:33:00,379 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 16:33:00,380 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 16:33:00,380 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 16:33:00,400 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 16:33:00,400 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 16:33:00,414 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 16:33:00,415 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 16:33:00,415 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 42, in test_plist_default    totalPages = totalRows // self.expected_result[pageSize]TypeError: unsupported operand type(s) for //: int and str", protocol_method="post", runtime="2016-07-19 16:33:00" WHERE executed_history_id = 20160719163259 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:33:00,416 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 16:33:00,416 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 16:33:00" WHERE executed_history_id = 20160719163259 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:33:00,531 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 16:33:00,689 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 16:33:00,689 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 16:33:00,690 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 16:33:00,690 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719163259',)
2016-07-19 16:33:00,692 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 16:33:00,692 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719163259')
2016-07-19 16:33:00,693 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 16:33:00,693 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719163259')
2016-07-19 16:33:00,695 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 16:33:00,695 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719163259')
2016-07-19 16:33:00,696 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 16:33:00,696 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719163259')
2016-07-19 16:33:00,698 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 16:33:00,698 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163259',)
2016-07-19 16:33:00,699 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 16:33:00,699 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163259')
2016-07-19 16:33:00,701 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 16:33:00,702 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 16:33:00,702 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163259',)
2016-07-19 16:33:00,703 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 16:33:00,703 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163259')
2016-07-19 16:33:00,705 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 16:33:00,705 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719163259')
2016-07-19 16:33:00,707 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 16:33:00,708 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719163259.html
2016-07-19 16:33:00,708 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 16:33:00,709 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 16:33:01,985 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719163259.html
2016-07-19 16:33:01,986 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 16:33:01,987 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 16:33:28,340 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 16:33:28,351 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 16:33:28,356 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 16:33:28,411 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 16:33:28,412 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 16:33:28,413 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 16:33:28,413 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 16:33:28,414 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 16:33:28,416 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 16:33:28,416 main.py[line: 106] INFO: 运行指定项目
2016-07-19 16:33:28,555 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 16:33:28,556 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 16:33:28,557 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 16:33:28,557 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 16:33:28,684 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 16:33:28,809 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 16:33:28,809 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 16:33:28,968 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 16:33:29,283 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 16:33:29,283 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163328', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 16:33:29,284 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 16:33:29,285 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 16:33:29,285 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163328', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 16:33:29,287 testcase.py[line: 53] ERROR: 出错了
2016-07-19 16:33:29,287 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 16:33:29,287 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 16:33:29,288 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 16:33:29,288 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 16:33:29,308 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 16:33:29,309 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 16:33:29,323 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 16:33:29,323 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 16:33:29,323 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 44, in test_plist_default    self.assertEqual(response[pageInfo][currentPage], self.expected_result[currentPage], msg=currentPage不等于1)TypeError: byte indices must be integers, not str", protocol_method="post", runtime="2016-07-19 16:33:29" WHERE executed_history_id = 20160719163328 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:33:29,325 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 16:33:29,325 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 16:33:29" WHERE executed_history_id = 20160719163328 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:33:29,450 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 16:33:29,597 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 16:33:29,597 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 16:33:29,598 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 16:33:29,598 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719163328',)
2016-07-19 16:33:29,600 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 16:33:29,600 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719163328')
2016-07-19 16:33:29,601 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 16:33:29,601 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719163328')
2016-07-19 16:33:29,601 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 16:33:29,602 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719163328')
2016-07-19 16:33:29,602 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 16:33:29,603 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719163328')
2016-07-19 16:33:29,603 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 16:33:29,604 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163328',)
2016-07-19 16:33:29,605 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 16:33:29,606 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163328')
2016-07-19 16:33:29,608 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 16:33:29,620 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 16:33:29,620 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163328',)
2016-07-19 16:33:29,621 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 16:33:29,621 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163328')
2016-07-19 16:33:29,622 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 16:33:29,623 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719163328')
2016-07-19 16:33:29,624 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 16:33:29,624 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719163328.html
2016-07-19 16:33:29,624 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 16:33:29,626 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 16:33:29,844 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719163328.html
2016-07-19 16:33:29,844 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 16:33:29,844 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 16:35:20,642 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 16:35:20,652 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 16:35:20,657 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 16:35:20,700 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 16:35:20,701 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 16:35:20,702 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 16:35:20,702 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 16:35:20,703 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 16:35:20,704 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 16:35:20,705 main.py[line: 106] INFO: 运行指定项目
2016-07-19 16:35:20,825 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 16:35:20,826 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 16:35:20,827 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 16:35:20,827 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 16:35:20,946 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 16:35:21,057 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 16:35:21,057 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 16:35:21,192 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 16:35:21,418 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 16:35:21,418 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163520', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 16:35:21,419 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 16:35:21,420 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 16:35:21,420 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719163520', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 16:35:21,421 testcase.py[line: 53] ERROR: 出错了
2016-07-19 16:35:21,421 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 16:35:21,421 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 16:35:21,421 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 16:35:21,421 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 16:35:21,440 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"success":false,"code":"4000","message":"Server Error"}'
2016-07-19 16:35:21,440 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 16:35:21,455 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 16:35:21,455 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 16:35:21,455 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 44, in test_plist_default    self.assertEqual(response[pageInfo][currentPage], int(self.expected_result[currentPage]), msg=currentPage不等于1)TypeError: byte indices must be integers, not str", protocol_method="post", runtime="2016-07-19 16:35:21" WHERE executed_history_id = 20160719163520 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:35:21,457 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 16:35:21,457 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 16:35:21" WHERE executed_history_id = 20160719163520 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 16:35:21,604 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 16:35:21,731 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 16:35:21,731 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 16:35:21,732 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 16:35:21,732 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719163520',)
2016-07-19 16:35:21,733 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 16:35:21,734 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719163520')
2016-07-19 16:35:21,735 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 16:35:21,735 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719163520')
2016-07-19 16:35:21,736 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 16:35:21,736 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719163520')
2016-07-19 16:35:21,737 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 16:35:21,737 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719163520')
2016-07-19 16:35:21,737 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 16:35:21,738 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163520',)
2016-07-19 16:35:21,739 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 16:35:21,739 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163520')
2016-07-19 16:35:21,740 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 16:35:21,740 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 16:35:21,740 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719163520',)
2016-07-19 16:35:21,741 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 16:35:21,742 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719163520')
2016-07-19 16:35:21,743 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 16:35:21,743 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719163520')
2016-07-19 16:35:21,744 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 16:35:21,744 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719163520.html
2016-07-19 16:35:21,744 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 16:35:21,745 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 16:35:21,968 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719163520.html
2016-07-19 16:35:21,968 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 16:35:21,969 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 17:19:16,730 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 17:19:16,740 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 17:19:16,745 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 17:19:16,785 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 17:19:16,785 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 17:19:16,787 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 17:19:16,787 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 17:19:16,788 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 17:19:16,790 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 17:19:16,790 main.py[line: 106] INFO: 运行指定项目
2016-07-19 17:19:17,031 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 17:19:17,031 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 17:19:17,032 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 17:19:17,033 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 17:19:17,159 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 17:19:17,283 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 17:19:17,284 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 17:19:17,407 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 17:19:17,710 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 17:19:17,710 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719171916', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 17:19:17,712 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 17:19:17,712 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 17:19:17,712 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719171916', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 17:19:17,714 testcase.py[line: 53] ERROR: 出错了
2016-07-19 17:19:17,714 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 17:19:17,714 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 17:19:17,714 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 17:19:17,714 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 17:19:17,799 wechatno.py[line: 32] INFO: 正在解析返回结果:b'{"dataList":[{"id":26189,"name":"\xe6\x8f\x92\xe7\xba\xbf\xe6\x9d\xbf\xe6\x9b\xb4\xe5\x90\x8d\xe5\x90\x8e","price":1000,"oriPrice":0,"description":"100","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":260,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":91,"istop":0,"soldCount":177,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":183,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26188,"name":"\xe6\xb0\xb4\xe6\xb7\x80\xe7\xb2\x89","price":100000000,"oriPrice":0,"description":"\xe9\x98\xbf\xe6\x96\xaf\xe8\xbe\xbe","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":260,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":9265759,"istop":0,"soldCount":72,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":72,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26839,"name":"\xe6\x8e\xa5\xe5\x8f\xa3-\xe6\xb5\x8b\xe8\xaf\x95\xe5\x95\x86\xe5\x93\x812","price":0,"oriPrice":0,"description":"\xe6\x8e\xa5\xe5\x8f\xa3\xe6\xb5\x8b\xe8\xaf\x95\xe4\xb8\x93\xe7\x94\xa8\xef\xbc\x8c\xe5\x8b\xbf\xe5\x8a\xa8","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":268,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":2,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.01,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26838,"name":"\xe6\x8e\xa5\xe5\x8f\xa3-\xe6\xb5\x8b\xe8\xaf\x95\xe5\x95\x86\xe5\x93\x811","price":1,"oriPrice":0,"description":"\xe6\x8e\xa5\xe5\x8f\xa3\xe6\xb5\x8b\xe8\xaf\x95\xe4\xb8\x93\xe7\x94\xa8\xef\xbc\x8c\xe7\x83\xa6\xe8\xaf\xb7\xe5\x8b\xbf\xe5\x88\xa0\xef\xbc\x8c\xe5\x8b\xbf\xe6\x93\x8d\xe4\xbd\x9c","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":268,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":1000000,"istop":0,"soldCount":0,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26836,"name":"\xe5\xa4\x9a\xe8\xa7\x84\xe6\xa0\xbc\xe5\x86\x97\xe4\xbd\x99\xe6\xb5\x8b\xe8\xaf\x95","price":0,"oriPrice":0,"description":"\xe5\x95\x8a\xe5\x95\x8a\xe5\x95\x8a\xe5\x95\x8a\xe5\x95\x8a","iconUrl":"http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":259,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":2,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":8,"standardLowPrice":1.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0}],"pageInfo":{"pageSize":10,"currentPage":1,"totalPages":1,"totalRows":5,"pageStartRow":0,"pageEndRow":5,"pagination":true,"hasNextPage":false,"hasPreviousPage":false,"params":null}}'
2016-07-19 17:19:17,802 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 17:19:17,821 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 17:19:17,821 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 17:19:17,822 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 44, in test_plist_default    self.assertEqual(response[pageInfo][currentPage], int(self.expected_result[currentPage]), msg=currentPage不等于1)TypeError: byte indices must be integers, not str", protocol_method="post", runtime="2016-07-19 17:19:17" WHERE executed_history_id = 20160719171916 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 17:19:17,830 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 17:19:17,830 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 17:19:17" WHERE executed_history_id = 20160719171916 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 17:19:18,028 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 17:19:18,157 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 17:19:18,157 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 17:19:18,158 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 17:19:18,158 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719171916',)
2016-07-19 17:19:18,161 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 17:19:18,161 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719171916')
2016-07-19 17:19:18,163 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 17:19:18,163 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719171916')
2016-07-19 17:19:18,164 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 17:19:18,164 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719171916')
2016-07-19 17:19:18,165 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 17:19:18,165 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719171916')
2016-07-19 17:19:18,166 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 17:19:18,166 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719171916',)
2016-07-19 17:19:18,167 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 17:19:18,167 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719171916')
2016-07-19 17:19:18,168 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 17:19:18,168 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 17:19:18,168 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719171916',)
2016-07-19 17:19:18,169 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 17:19:18,169 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719171916')
2016-07-19 17:19:18,170 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 17:19:18,171 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719171916')
2016-07-19 17:19:18,172 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 17:19:18,172 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719171916.html
2016-07-19 17:19:18,172 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 17:19:18,173 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 17:19:20,419 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719171916.html
2016-07-19 17:19:20,420 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 17:19:20,420 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 17:20:17,100 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 17:20:17,112 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 17:20:17,121 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 17:20:17,163 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 17:20:17,163 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 17:20:17,164 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 17:20:17,165 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 17:20:17,165 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 17:20:17,167 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 17:20:17,167 main.py[line: 106] INFO: 运行指定项目
2016-07-19 17:20:17,288 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 17:20:17,288 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 17:20:17,289 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 17:20:17,289 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 17:20:17,409 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 17:20:17,540 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 17:20:17,540 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 17:20:17,666 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 17:20:18,027 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 17:20:18,028 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719172017', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 17:20:18,030 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 17:20:18,030 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 17:20:18,030 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719172017', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 17:20:18,031 testcase.py[line: 53] ERROR: 出错了
2016-07-19 17:20:18,032 testcase.py[line: 61] INFO: 开始执行步骤操作[第1步]
2016-07-19 17:20:18,032 casestep.py[line: 61] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 17:20:18,032 wechatno.py[line: 25] INFO: 正在发起POST请求...
2016-07-19 17:20:18,032 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 17:20:31,997 wechatno.py[line: 32] INFO: 正在解析返回结果:{"dataList":[{"id":26189,"name":"插线板更名后","price":1000,"oriPrice":0,"description":"100","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":260,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":91,"istop":0,"soldCount":177,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":183,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26188,"name":"水淀粉","price":100000000,"oriPrice":0,"description":"阿斯达","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":260,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":9265759,"istop":0,"soldCount":72,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":72,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26839,"name":"接口-测试商品2","price":0,"oriPrice":0,"description":"接口测试专用，勿动","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":268,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":2,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.01,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26838,"name":"接口-测试商品1","price":1,"oriPrice":0,"description":"接口测试专用，烦请勿删，勿操作","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":268,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":1000000,"istop":0,"soldCount":0,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},{"id":26836,"name":"多规格冗余测试","price":0,"oriPrice":0,"description":"啊啊啊啊啊","iconUrl":"http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png","shop":{"id":42,"serial":null,"parent":null,"phoneNumber":null,"email":null,"fullName":null,"name":null,"logoUrl":null,"printAdUrl":null,"printAdText":null,"createTime":null,"suffixShop":null,"thirdAppId":null},"shopId":null,"mallGoodsCate":{"id":259,"name":null,"delFlag":null,"shop":null,"orderNum":null,"branchId":null,"goodsAmount":0,"oldName":null,"goodsSoldOutAmount":0},"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":2,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":8,"standardLowPrice":1.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0}],"pageInfo":{"pageSize":10,"currentPage":1,"totalPages":1,"totalRows":5,"pageStartRow":0,"pageEndRow":5,"pagination":true,"hasNextPage":false,"hasPreviousPage":false,"params":null}}
2016-07-19 17:20:32,002 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 17:20:32,016 testcase.py[line: 70] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 17:20:32,016 testcase.py[line: 76] INFO: 正在更新步骤执行结果
2016-07-19 17:20:32,016 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 44, in test_plist_default    self.assertEqual(response[pageInfo][currentPage], int(self.expected_result[currentPage]), msg=currentPage不等于1)TypeError: string indices must be integers", protocol_method="post", runtime="2016-07-19 17:20:18" WHERE executed_history_id = 20160719172017 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 17:20:32,018 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 17:20:32,018 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 17:20:18" WHERE executed_history_id = 20160719172017 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 17:20:32,152 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 17:20:32,272 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 17:20:32,272 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 17:20:32,273 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 17:20:32,273 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719172017',)
2016-07-19 17:20:32,274 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 17:20:32,274 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719172017')
2016-07-19 17:20:32,275 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 17:20:32,275 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719172017')
2016-07-19 17:20:32,276 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 17:20:32,276 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719172017')
2016-07-19 17:20:32,277 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 17:20:32,277 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719172017')
2016-07-19 17:20:32,278 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 17:20:32,278 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719172017',)
2016-07-19 17:20:32,279 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 17:20:32,279 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719172017')
2016-07-19 17:20:32,280 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 17:20:32,280 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 17:20:32,281 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719172017',)
2016-07-19 17:20:32,282 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 17:20:32,282 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719172017')
2016-07-19 17:20:32,283 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 17:20:32,283 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719172017')
2016-07-19 17:20:32,284 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 17:20:32,284 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719172017.html
2016-07-19 17:20:32,285 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 17:20:32,285 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 17:20:32,504 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719172017.html
2016-07-19 17:20:32,505 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 17:20:32,505 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:11:52,769 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:11:52,780 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:11:52,785 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:11:52,835 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:11:52,836 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:11:52,837 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:11:52,837 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:11:52,838 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:11:52,840 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:11:52,840 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:11:53,071 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:11:53,072 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:11:53,073 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:11:53,073 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:11:53,205 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:11:53,335 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:11:53,335 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:11:53,505 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:11:53,785 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:11:53,785 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181152', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:11:53,786 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:11:53,787 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:11:53,787 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181152', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:11:53,788 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:11:53,788 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:11:53,789 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:11:53,789 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:11:53,859 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'hasNextPage': False, 'totalRows': 5, 'hasPreviousPage': False, 'pageSize': 10, 'pageStartRow': 0, 'currentPage': 1, 'pagination': True, 'totalPages': 1, 'pageEndRow': 5, 'params': None}, 'dataList': [{'mallGoodsStandards': None, 'meituanSyncStatus': None, 'rules': None, 'soldAllCount': 185, 'detail': None, 'status': 1, 'cannotUseTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'delFlag': None, 'rank': None, 'syncStatus': 0, 'transientPrice': 0.0, 'shopId': None, 'lunchBoxCount': None, 'business': None, 'shop': {'email': None, 'parent': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'name': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'id': 42, 'logoUrl': None}, 'goodsCopyId': None, 'hasActivity': 0, 'price': 1000, 'mallGoodsCatagoryId': None, 'expirTime': None, 'dishCount': None, 'id': 26189, 'useTime': None, 'name': '插线板更名后', 'relType': None, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'preRemind': None, 'servicePhone': None, 'waimaiChannel': None, 'cateId': 0, 'standardTopPrice': 0.0, 'soldCount': 179, 'cateName': None, 'standardAllSku': None, 'istop': 0, 'skuQuantity': 89, 'description': '100', 'transientOriPrice': 0.0, 'cwId': None, 'standard': 1, 'createTime': None, 'outerId': None, 'oriPrice': 0, 'relBranchList': None}, {'mallGoodsStandards': None, 'meituanSyncStatus': None, 'rules': None, 'soldAllCount': 72, 'detail': None, 'status': 1, 'cannotUseTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'delFlag': None, 'rank': None, 'syncStatus': 0, 'transientPrice': 0.0, 'shopId': None, 'lunchBoxCount': None, 'business': None, 'shop': {'email': None, 'parent': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'name': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'id': 42, 'logoUrl': None}, 'goodsCopyId': None, 'hasActivity': 0, 'price': 100000000, 'mallGoodsCatagoryId': None, 'expirTime': None, 'dishCount': None, 'id': 26188, 'useTime': None, 'name': '水淀粉', 'relType': None, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'preRemind': None, 'servicePhone': None, 'waimaiChannel': None, 'cateId': 0, 'standardTopPrice': 0.0, 'soldCount': 72, 'cateName': None, 'standardAllSku': None, 'istop': 0, 'skuQuantity': 9265759, 'description': '阿斯达', 'transientOriPrice': 0.0, 'cwId': None, 'standard': 1, 'createTime': None, 'outerId': None, 'oriPrice': 0, 'relBranchList': None}, {'mallGoodsStandards': None, 'meituanSyncStatus': None, 'rules': None, 'soldAllCount': 0, 'detail': None, 'status': 1, 'cannotUseTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'delFlag': None, 'rank': None, 'syncStatus': 0, 'transientPrice': 0.0, 'shopId': None, 'lunchBoxCount': None, 'business': None, 'shop': {'email': None, 'parent': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'name': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'id': 42, 'logoUrl': None}, 'goodsCopyId': None, 'hasActivity': 0, 'price': 0, 'mallGoodsCatagoryId': None, 'expirTime': None, 'dishCount': None, 'id': 26839, 'useTime': None, 'name': '接口-测试商品2', 'relType': None, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.01, 'preRemind': None, 'servicePhone': None, 'waimaiChannel': None, 'cateId': 0, 'standardTopPrice': 0.0, 'soldCount': 0, 'cateName': None, 'standardAllSku': None, 'istop': 0, 'skuQuantity': None, 'description': '接口测试专用，勿动', 'transientOriPrice': 0.0, 'cwId': None, 'standard': 2, 'createTime': None, 'outerId': None, 'oriPrice': 0, 'relBranchList': None}, {'mallGoodsStandards': None, 'meituanSyncStatus': None, 'rules': None, 'soldAllCount': 0, 'detail': None, 'status': 1, 'cannotUseTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'delFlag': None, 'rank': None, 'syncStatus': 0, 'transientPrice': 0.0, 'shopId': None, 'lunchBoxCount': None, 'business': None, 'shop': {'email': None, 'parent': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'name': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'id': 42, 'logoUrl': None}, 'goodsCopyId': None, 'hasActivity': 0, 'price': 1, 'mallGoodsCatagoryId': None, 'expirTime': None, 'dishCount': None, 'id': 26838, 'useTime': None, 'name': '接口-测试商品1', 'relType': None, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'preRemind': None, 'servicePhone': None, 'waimaiChannel': None, 'cateId': 0, 'standardTopPrice': 0.0, 'soldCount': 0, 'cateName': None, 'standardAllSku': None, 'istop': 0, 'skuQuantity': 1000000, 'description': '接口测试专用，烦请勿删，勿操作', 'transientOriPrice': 0.0, 'cwId': None, 'standard': 1, 'createTime': None, 'outerId': None, 'oriPrice': 0, 'relBranchList': None}, {'mallGoodsStandards': None, 'meituanSyncStatus': None, 'rules': None, 'soldAllCount': 8, 'detail': None, 'status': 1, 'cannotUseTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'delFlag': None, 'rank': None, 'syncStatus': 0, 'transientPrice': 0.0, 'shopId': None, 'lunchBoxCount': None, 'business': None, 'shop': {'email': None, 'parent': None, 'printAdText': None, 'fullName': None, 'suffixShop': None, 'name': None, 'serial': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'id': 42, 'logoUrl': None}, 'goodsCopyId': None, 'hasActivity': 0, 'price': 0, 'mallGoodsCatagoryId': None, 'expirTime': None, 'dishCount': None, 'id': 26836, 'useTime': None, 'name': '多规格冗余测试', 'relType': None, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 259, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 1.0, 'preRemind': None, 'servicePhone': None, 'waimaiChannel': None, 'cateId': 0, 'standardTopPrice': 0.0, 'soldCount': 0, 'cateName': None, 'standardAllSku': None, 'istop': 0, 'skuQuantity': None, 'description': '啊啊啊啊啊', 'transientOriPrice': 0.0, 'cwId': None, 'standard': 2, 'createTime': None, 'outerId': None, 'oriPrice': 0, 'relBranchList': None}]}
2016-07-19 18:11:53,860 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:11:53,876 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:11:53,877 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-19 18:11:53,877 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 49, in test_plist_default    self.assertEqual(response[pageInfo][pagination], int(self.expected_result[pagination]), msg=pagination不为true)ValueError: invalid literal for int() with base 10: True", protocol_method="post", runtime="2016-07-19 18:11:53" WHERE executed_history_id = 20160719181152 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:11:53,880 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:11:53,881 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 18:11:53" WHERE executed_history_id = 20160719181152 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:11:54,046 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:11:54,177 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:11:54,177 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:11:54,178 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:11:54,178 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719181152',)
2016-07-19 18:11:54,179 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:11:54,179 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719181152')
2016-07-19 18:11:54,180 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:11:54,180 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719181152')
2016-07-19 18:11:54,181 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:11:54,181 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719181152')
2016-07-19 18:11:54,182 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:11:54,182 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719181152')
2016-07-19 18:11:54,183 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:11:54,183 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181152',)
2016-07-19 18:11:54,184 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:11:54,184 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181152')
2016-07-19 18:11:54,185 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:11:54,186 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:11:54,186 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181152',)
2016-07-19 18:11:54,187 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:11:54,187 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181152')
2016-07-19 18:11:54,188 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:11:54,189 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719181152')
2016-07-19 18:11:54,190 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:11:54,190 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719181152.html
2016-07-19 18:11:54,190 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:11:54,191 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:11:55,439 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719181152.html
2016-07-19 18:11:55,439 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:11:55,440 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:12:26,244 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:12:26,254 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:12:26,259 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:12:26,311 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:12:26,312 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:12:26,313 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:12:26,313 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:12:26,314 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:12:26,316 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:12:26,316 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:12:26,429 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:12:26,429 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:12:26,430 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:12:26,430 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:12:26,559 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:12:26,675 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:12:26,676 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:12:26,829 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:12:27,136 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:12:27,137 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181226', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:12:27,138 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:12:27,138 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:12:27,139 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181226', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":"1","pageSize":"10","pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:12:27,140 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:12:27,141 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:12:27,141 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:12:27,141 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:12:27,197 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'transientPrice': 0.0, 'cannotUseTime': None, 'price': 1000, 'baiduSyncStatus': None, 'delFlag': None, 'dishCount': None, 'outerId': None, 'cateName': None, 'standardAllSku': None, 'business': None, 'mallGoodsStandards': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'printAdUrl': None, 'name': None, 'parent': None, 'thirdAppId': None, 'serial': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'status': 1, 'syncStatus': 0, 'isSku': 0, 'cwId': None, 'branch': None, 'relBranchList': None, 'relType': None, 'detail': None, 'createTime': None, 'useTime': None, 'description': '100', 'rules': None, 'mallGoodsCate': {'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'goodsAmount': 0, 'shop': None, 'id': 260, 'delFlag': None, 'orderNum': None, 'oldName': None}, 'shopId': None, 'preRemind': None, 'hasActivity': 0, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'skuQuantity': 89, 'rank': None, 'istop': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'waimaiChannel': None, 'standardLowPrice': 0.0, 'mallGoodsCatagoryId': None, 'lunchBoxCount': None, 'id': 26189, 'oriPrice': 0, 'soldCount': 179, 'standardTopPrice': 0.0, 'servicePhone': None, 'transientOriPrice': 0.0, 'name': '插线板更名后', 'soldAllCount': 185, 'goodsCopyId': None, 'expirTime': None, 'cateId': 0, 'standard': 1}, {'transientPrice': 0.0, 'cannotUseTime': None, 'price': 100000000, 'baiduSyncStatus': None, 'delFlag': None, 'dishCount': None, 'outerId': None, 'cateName': None, 'standardAllSku': None, 'business': None, 'mallGoodsStandards': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'printAdUrl': None, 'name': None, 'parent': None, 'thirdAppId': None, 'serial': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'status': 1, 'syncStatus': 0, 'isSku': 0, 'cwId': None, 'branch': None, 'relBranchList': None, 'relType': None, 'detail': None, 'createTime': None, 'useTime': None, 'description': '阿斯达', 'rules': None, 'mallGoodsCate': {'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'goodsAmount': 0, 'shop': None, 'id': 260, 'delFlag': None, 'orderNum': None, 'oldName': None}, 'shopId': None, 'preRemind': None, 'hasActivity': 0, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'skuQuantity': 9265759, 'rank': None, 'istop': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'waimaiChannel': None, 'standardLowPrice': 0.0, 'mallGoodsCatagoryId': None, 'lunchBoxCount': None, 'id': 26188, 'oriPrice': 0, 'soldCount': 72, 'standardTopPrice': 0.0, 'servicePhone': None, 'transientOriPrice': 0.0, 'name': '水淀粉', 'soldAllCount': 72, 'goodsCopyId': None, 'expirTime': None, 'cateId': 0, 'standard': 1}, {'transientPrice': 0.0, 'cannotUseTime': None, 'price': 0, 'baiduSyncStatus': None, 'delFlag': None, 'dishCount': None, 'outerId': None, 'cateName': None, 'standardAllSku': None, 'business': None, 'mallGoodsStandards': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'printAdUrl': None, 'name': None, 'parent': None, 'thirdAppId': None, 'serial': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'status': 1, 'syncStatus': 0, 'isSku': 0, 'cwId': None, 'branch': None, 'relBranchList': None, 'relType': None, 'detail': None, 'createTime': None, 'useTime': None, 'description': '接口测试专用，勿动', 'rules': None, 'mallGoodsCate': {'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'goodsAmount': 0, 'shop': None, 'id': 268, 'delFlag': None, 'orderNum': None, 'oldName': None}, 'shopId': None, 'preRemind': None, 'hasActivity': 0, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'rank': None, 'istop': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'waimaiChannel': None, 'standardLowPrice': 0.01, 'mallGoodsCatagoryId': None, 'lunchBoxCount': None, 'id': 26839, 'oriPrice': 0, 'soldCount': 0, 'standardTopPrice': 0.0, 'servicePhone': None, 'transientOriPrice': 0.0, 'name': '接口-测试商品2', 'soldAllCount': 0, 'goodsCopyId': None, 'expirTime': None, 'cateId': 0, 'standard': 2}, {'transientPrice': 0.0, 'cannotUseTime': None, 'price': 1, 'baiduSyncStatus': None, 'delFlag': None, 'dishCount': None, 'outerId': None, 'cateName': None, 'standardAllSku': None, 'business': None, 'mallGoodsStandards': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'printAdUrl': None, 'name': None, 'parent': None, 'thirdAppId': None, 'serial': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'status': 1, 'syncStatus': 0, 'isSku': 0, 'cwId': None, 'branch': None, 'relBranchList': None, 'relType': None, 'detail': None, 'createTime': None, 'useTime': None, 'description': '接口测试专用，烦请勿删，勿操作', 'rules': None, 'mallGoodsCate': {'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'goodsAmount': 0, 'shop': None, 'id': 268, 'delFlag': None, 'orderNum': None, 'oldName': None}, 'shopId': None, 'preRemind': None, 'hasActivity': 0, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'skuQuantity': 1000000, 'rank': None, 'istop': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'waimaiChannel': None, 'standardLowPrice': 0.0, 'mallGoodsCatagoryId': None, 'lunchBoxCount': None, 'id': 26838, 'oriPrice': 0, 'soldCount': 0, 'standardTopPrice': 0.0, 'servicePhone': None, 'transientOriPrice': 0.0, 'name': '接口-测试商品1', 'soldAllCount': 0, 'goodsCopyId': None, 'expirTime': None, 'cateId': 0, 'standard': 1}, {'transientPrice': 0.0, 'cannotUseTime': None, 'price': 0, 'baiduSyncStatus': None, 'delFlag': None, 'dishCount': None, 'outerId': None, 'cateName': None, 'standardAllSku': None, 'business': None, 'mallGoodsStandards': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'printAdUrl': None, 'name': None, 'parent': None, 'thirdAppId': None, 'serial': None, 'phoneNumber': None, 'fullName': None, 'suffixShop': None}, 'status': 1, 'syncStatus': 0, 'isSku': 0, 'cwId': None, 'branch': None, 'relBranchList': None, 'relType': None, 'detail': None, 'createTime': None, 'useTime': None, 'description': '啊啊啊啊啊', 'rules': None, 'mallGoodsCate': {'goodsSoldOutAmount': 0, 'branchId': None, 'name': None, 'goodsAmount': 0, 'shop': None, 'id': 259, 'delFlag': None, 'orderNum': None, 'oldName': None}, 'shopId': None, 'preRemind': None, 'hasActivity': 0, 'meituanSyncStatus': None, 'elemeSyncStatus': None, 'skuQuantity': None, 'rank': None, 'istop': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'waimaiChannel': None, 'standardLowPrice': 1.0, 'mallGoodsCatagoryId': None, 'lunchBoxCount': None, 'id': 26836, 'oriPrice': 0, 'soldCount': 0, 'standardTopPrice': 0.0, 'servicePhone': None, 'transientOriPrice': 0.0, 'name': '多规格冗余测试', 'soldAllCount': 8, 'goodsCopyId': None, 'expirTime': None, 'cateId': 0, 'standard': 2}], 'pageInfo': {'pageEndRow': 5, 'pagination': True, 'params': None, 'hasNextPage': False, 'pageSize': 10, 'totalRows': 5, 'currentPage': 1, 'totalPages': 1, 'pageStartRow': 0, 'hasPreviousPage': False}}
2016-07-19 18:12:27,201 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:12:27,215 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:12:27,216 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 46, in test_plist_default    self.assertEqual(response[pageInfo][currentPage], self.expected_result[currentPage], msg=currentPage不等于1)AssertionError: 1 != 1 : currentPage不等于1", protocol_method="post", runtime="2016-07-19 18:12:27" WHERE executed_history_id = 20160719181226 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:12:27,217 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:12:27,217 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:12:27" WHERE executed_history_id = 20160719181226 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:12:27,332 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:12:27,478 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:12:27,478 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:12:27,479 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:12:27,479 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719181226',)
2016-07-19 18:12:27,480 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:12:27,480 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719181226')
2016-07-19 18:12:27,481 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:12:27,481 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719181226')
2016-07-19 18:12:27,482 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:12:27,482 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719181226')
2016-07-19 18:12:27,483 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:12:27,483 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719181226')
2016-07-19 18:12:27,484 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:12:27,484 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181226',)
2016-07-19 18:12:27,485 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:12:27,485 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181226')
2016-07-19 18:12:27,486 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:12:27,486 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:12:27,486 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181226',)
2016-07-19 18:12:27,487 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:12:27,487 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181226')
2016-07-19 18:12:27,488 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:12:27,488 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719181226')
2016-07-19 18:12:27,490 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:12:27,490 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719181226.html
2016-07-19 18:12:27,490 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:12:27,491 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:12:27,696 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719181226.html
2016-07-19 18:12:27,697 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:12:27,697 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:12:58,690 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:12:58,702 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:12:58,709 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:12:58,758 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:12:58,758 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:12:58,759 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:12:58,759 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:12:58,761 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:12:58,763 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:12:58,763 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:12:58,889 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:12:58,890 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:12:58,890 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:12:58,891 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:12:59,016 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:12:59,148 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:12:59,149 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:12:59,276 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:12:59,587 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:12:59,587 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181258', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:12:59,589 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:12:59,589 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:12:59,589 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181258', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":"0","pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:12:59,591 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:12:59,591 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:12:59,591 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:12:59,592 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:12:59,646 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'cannotUseTime': None, 'business': None, 'servicePhone': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'expirTime': None, 'standardAllSku': None, 'skuQuantity': 89, 'relType': None, 'detail': None, 'outerId': None, 'transientPrice': 0.0, 'rules': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'orderNum': None, 'name': None}, 'delFlag': None, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'dishCount': None, 'lunchBoxCount': None, 'oriPrice': 0, 'shopId': None, 'cwId': None, 'hasActivity': 0, 'createTime': None, 'relBranchList': None, 'elemeSyncStatus': None, 'shop': {'fullName': None, 'createTime': None, 'thirdAppId': None, 'printAdUrl': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'serial': None, 'printAdText': None, 'email': None, 'name': None}, 'soldAllCount': 185, 'waimaiChannel': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'rank': None, 'cateId': 0, 'description': '100', 'soldCount': 179, 'status': 1, 'useTime': None, 'standardLowPrice': 0.0, 'isSku': 0, 'meituanSyncStatus': None, 'price': 1000, 'id': 26189, 'standard': 1, 'preRemind': None, 'cateName': None, 'istop': 0, 'name': '插线板更名后'}, {'cannotUseTime': None, 'business': None, 'servicePhone': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'expirTime': None, 'standardAllSku': None, 'skuQuantity': 9265759, 'relType': None, 'detail': None, 'outerId': None, 'transientPrice': 0.0, 'rules': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'branchId': None, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'orderNum': None, 'name': None}, 'delFlag': None, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'dishCount': None, 'lunchBoxCount': None, 'oriPrice': 0, 'shopId': None, 'cwId': None, 'hasActivity': 0, 'createTime': None, 'relBranchList': None, 'elemeSyncStatus': None, 'shop': {'fullName': None, 'createTime': None, 'thirdAppId': None, 'printAdUrl': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'serial': None, 'printAdText': None, 'email': None, 'name': None}, 'soldAllCount': 72, 'waimaiChannel': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'rank': None, 'cateId': 0, 'description': '阿斯达', 'soldCount': 72, 'status': 1, 'useTime': None, 'standardLowPrice': 0.0, 'isSku': 0, 'meituanSyncStatus': None, 'price': 100000000, 'id': 26188, 'standard': 1, 'preRemind': None, 'cateName': None, 'istop': 0, 'name': '水淀粉'}, {'cannotUseTime': None, 'business': None, 'servicePhone': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'expirTime': None, 'standardAllSku': None, 'skuQuantity': None, 'relType': None, 'detail': None, 'outerId': None, 'transientPrice': 0.0, 'rules': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'orderNum': None, 'name': None}, 'delFlag': None, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'dishCount': None, 'lunchBoxCount': None, 'oriPrice': 0, 'shopId': None, 'cwId': None, 'hasActivity': 0, 'createTime': None, 'relBranchList': None, 'elemeSyncStatus': None, 'shop': {'fullName': None, 'createTime': None, 'thirdAppId': None, 'printAdUrl': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'serial': None, 'printAdText': None, 'email': None, 'name': None}, 'soldAllCount': 0, 'waimaiChannel': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'rank': None, 'cateId': 0, 'description': '接口测试专用，勿动', 'soldCount': 0, 'status': 1, 'useTime': None, 'standardLowPrice': 0.01, 'isSku': 0, 'meituanSyncStatus': None, 'price': 0, 'id': 26839, 'standard': 2, 'preRemind': None, 'cateName': None, 'istop': 0, 'name': '接口-测试商品2'}, {'cannotUseTime': None, 'business': None, 'servicePhone': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'expirTime': None, 'standardAllSku': None, 'skuQuantity': 1000000, 'relType': None, 'detail': None, 'outerId': None, 'transientPrice': 0.0, 'rules': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'branchId': None, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'orderNum': None, 'name': None}, 'delFlag': None, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'dishCount': None, 'lunchBoxCount': None, 'oriPrice': 0, 'shopId': None, 'cwId': None, 'hasActivity': 0, 'createTime': None, 'relBranchList': None, 'elemeSyncStatus': None, 'shop': {'fullName': None, 'createTime': None, 'thirdAppId': None, 'printAdUrl': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'serial': None, 'printAdText': None, 'email': None, 'name': None}, 'soldAllCount': 0, 'waimaiChannel': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'rank': None, 'cateId': 0, 'description': '接口测试专用，烦请勿删，勿操作', 'soldCount': 0, 'status': 1, 'useTime': None, 'standardLowPrice': 0.0, 'isSku': 0, 'meituanSyncStatus': None, 'price': 1, 'id': 26838, 'standard': 1, 'preRemind': None, 'cateName': None, 'istop': 0, 'name': '接口-测试商品1'}, {'cannotUseTime': None, 'business': None, 'servicePhone': None, 'syncStatus': 0, 'mallGoodsStandards': None, 'expirTime': None, 'standardAllSku': None, 'skuQuantity': None, 'relType': None, 'detail': None, 'outerId': None, 'transientPrice': 0.0, 'rules': None, 'baiduSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'shop': None, 'goodsAmount': 0, 'branchId': None, 'delFlag': None, 'id': 259, 'goodsSoldOutAmount': 0, 'orderNum': None, 'name': None}, 'delFlag': None, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'branch': None, 'goodsCopyId': None, 'transientOriPrice': 0.0, 'dishCount': None, 'lunchBoxCount': None, 'oriPrice': 0, 'shopId': None, 'cwId': None, 'hasActivity': 0, 'createTime': None, 'relBranchList': None, 'elemeSyncStatus': None, 'shop': {'fullName': None, 'createTime': None, 'thirdAppId': None, 'printAdUrl': None, 'suffixShop': None, 'parent': None, 'logoUrl': None, 'phoneNumber': None, 'id': 42, 'serial': None, 'printAdText': None, 'email': None, 'name': None}, 'soldAllCount': 8, 'waimaiChannel': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'rank': None, 'cateId': 0, 'description': '啊啊啊啊啊', 'soldCount': 0, 'status': 1, 'useTime': None, 'standardLowPrice': 1.0, 'isSku': 0, 'meituanSyncStatus': None, 'price': 0, 'id': 26836, 'standard': 2, 'preRemind': None, 'cateName': None, 'istop': 0, 'name': '多规格冗余测试'}], 'pageInfo': {'currentPage': 1, 'pageSize': 10, 'params': None, 'pagination': True, 'hasPreviousPage': False, 'totalPages': 1, 'pageStartRow': 0, 'pageEndRow': 5, 'totalRows': 5, 'hasNextPage': False}}
2016-07-19 18:12:59,647 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:12:59,662 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:12:59,662 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 48, in test_plist_default    self.assertEqual(response[pageInfo][pageStartRow], self.expected_result[pageStartRow], msg=pageStartRow不等于0)AssertionError: 0 != 0 : pageStartRow不等于0", protocol_method="post", runtime="2016-07-19 18:12:59" WHERE executed_history_id = 20160719181258 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:12:59,664 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:12:59,664 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:12:59" WHERE executed_history_id = 20160719181258 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:12:59,780 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:12:59,924 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:12:59,925 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:12:59,925 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:12:59,926 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719181258',)
2016-07-19 18:12:59,927 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:12:59,927 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719181258')
2016-07-19 18:12:59,928 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:12:59,928 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719181258')
2016-07-19 18:12:59,929 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:12:59,929 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719181258')
2016-07-19 18:12:59,930 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:12:59,930 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719181258')
2016-07-19 18:12:59,931 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:12:59,931 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181258',)
2016-07-19 18:12:59,932 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:12:59,932 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181258')
2016-07-19 18:12:59,933 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:12:59,934 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:12:59,934 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181258',)
2016-07-19 18:12:59,935 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:12:59,935 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181258')
2016-07-19 18:12:59,936 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:12:59,937 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719181258')
2016-07-19 18:12:59,938 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:12:59,938 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719181258.html
2016-07-19 18:12:59,938 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:12:59,939 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:13:00,158 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719181258.html
2016-07-19 18:13:00,158 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:13:00,158 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:17:32,914 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:17:32,927 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:17:32,933 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:17:32,984 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:17:32,984 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:17:32,985 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:17:32,985 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:17:32,988 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:17:32,990 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:17:32,990 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:17:33,118 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:17:33,118 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:17:33,119 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:17:33,119 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:17:33,271 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:17:33,412 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:17:33,412 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:17:33,538 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:17:33,794 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:17:33,794 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181732', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:17:33,795 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:17:33,796 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:17:33,796 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181732', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:17:33,797 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:17:33,797 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:17:33,798 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:17:33,798 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:17:33,891 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'hasNextPage': False, 'pageStartRow': 0, 'totalPages': 1, 'hasPreviousPage': False, 'pagination': True, 'pageEndRow': 5, 'params': None, 'pageSize': 10, 'currentPage': 1, 'totalRows': 5}, 'dataList': [{'hasActivity': 0, 'goodsCopyId': None, 'cateId': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'branch': None, 'shopId': None, 'mallGoodsStandards': None, 'standardTopPrice': 0.0, 'delFlag': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'price': 1000, 'soldCount': 179, 'useTime': None, 'transientPrice': 0.0, 'meituanSyncStatus': None, 'mallGoodsCatagoryId': None, 'standard': 1, 'detail': None, 'createTime': None, 'status': 1, 'servicePhone': None, 'standardAllSku': None, 'business': None, 'istop': 0, 'relType': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'preRemind': None, 'dishCount': None, 'name': '插线板更名后', 'skuQuantity': 89, 'id': 26189, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'fullName': None, 'suffixShop': None, 'name': None, 'printAdText': None, 'createTime': None, 'thirdAppId': None, 'logoUrl': None, 'serial': None, 'id': 42, 'email': None, 'parent': None}, 'mallGoodsCate': {'id': 260, 'orderNum': None, 'delFlag': None, 'oldName': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'goodsAmount': 0, 'shop': None}, 'description': '100', 'lunchBoxCount': None, 'soldAllCount': 185, 'syncStatus': 0, 'waimaiChannel': None, 'baiduSyncStatus': None, 'rank': None, 'expirTime': None, 'outerId': None, 'rules': None, 'isSku': 0, 'cwId': None, 'cateName': None, 'relBranchList': None}, {'hasActivity': 0, 'goodsCopyId': None, 'cateId': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'branch': None, 'shopId': None, 'mallGoodsStandards': None, 'standardTopPrice': 0.0, 'delFlag': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'price': 100000000, 'soldCount': 72, 'useTime': None, 'transientPrice': 0.0, 'meituanSyncStatus': None, 'mallGoodsCatagoryId': None, 'standard': 1, 'detail': None, 'createTime': None, 'status': 1, 'servicePhone': None, 'standardAllSku': None, 'business': None, 'istop': 0, 'relType': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'preRemind': None, 'dishCount': None, 'name': '水淀粉', 'skuQuantity': 9265759, 'id': 26188, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'fullName': None, 'suffixShop': None, 'name': None, 'printAdText': None, 'createTime': None, 'thirdAppId': None, 'logoUrl': None, 'serial': None, 'id': 42, 'email': None, 'parent': None}, 'mallGoodsCate': {'id': 260, 'orderNum': None, 'delFlag': None, 'oldName': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'goodsAmount': 0, 'shop': None}, 'description': '阿斯达', 'lunchBoxCount': None, 'soldAllCount': 72, 'syncStatus': 0, 'waimaiChannel': None, 'baiduSyncStatus': None, 'rank': None, 'expirTime': None, 'outerId': None, 'rules': None, 'isSku': 0, 'cwId': None, 'cateName': None, 'relBranchList': None}, {'hasActivity': 0, 'goodsCopyId': None, 'cateId': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'branch': None, 'shopId': None, 'mallGoodsStandards': None, 'standardTopPrice': 0.0, 'delFlag': None, 'standardLowPrice': 0.01, 'transientOriPrice': 0.0, 'oriPrice': 0, 'price': 0, 'soldCount': 0, 'useTime': None, 'transientPrice': 0.0, 'meituanSyncStatus': None, 'mallGoodsCatagoryId': None, 'standard': 2, 'detail': None, 'createTime': None, 'status': 1, 'servicePhone': None, 'standardAllSku': None, 'business': None, 'istop': 0, 'relType': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'preRemind': None, 'dishCount': None, 'name': '接口-测试商品2', 'skuQuantity': None, 'id': 26839, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'fullName': None, 'suffixShop': None, 'name': None, 'printAdText': None, 'createTime': None, 'thirdAppId': None, 'logoUrl': None, 'serial': None, 'id': 42, 'email': None, 'parent': None}, 'mallGoodsCate': {'id': 268, 'orderNum': None, 'delFlag': None, 'oldName': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'goodsAmount': 0, 'shop': None}, 'description': '接口测试专用，勿动', 'lunchBoxCount': None, 'soldAllCount': 0, 'syncStatus': 0, 'waimaiChannel': None, 'baiduSyncStatus': None, 'rank': None, 'expirTime': None, 'outerId': None, 'rules': None, 'isSku': 0, 'cwId': None, 'cateName': None, 'relBranchList': None}, {'hasActivity': 0, 'goodsCopyId': None, 'cateId': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'branch': None, 'shopId': None, 'mallGoodsStandards': None, 'standardTopPrice': 0.0, 'delFlag': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'price': 1, 'soldCount': 0, 'useTime': None, 'transientPrice': 0.0, 'meituanSyncStatus': None, 'mallGoodsCatagoryId': None, 'standard': 1, 'detail': None, 'createTime': None, 'status': 1, 'servicePhone': None, 'standardAllSku': None, 'business': None, 'istop': 0, 'relType': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'preRemind': None, 'dishCount': None, 'name': '接口-测试商品1', 'skuQuantity': 1000000, 'id': 26838, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'fullName': None, 'suffixShop': None, 'name': None, 'printAdText': None, 'createTime': None, 'thirdAppId': None, 'logoUrl': None, 'serial': None, 'id': 42, 'email': None, 'parent': None}, 'mallGoodsCate': {'id': 268, 'orderNum': None, 'delFlag': None, 'oldName': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'goodsAmount': 0, 'shop': None}, 'description': '接口测试专用，烦请勿删，勿操作', 'lunchBoxCount': None, 'soldAllCount': 0, 'syncStatus': 0, 'waimaiChannel': None, 'baiduSyncStatus': None, 'rank': None, 'expirTime': None, 'outerId': None, 'rules': None, 'isSku': 0, 'cwId': None, 'cateName': None, 'relBranchList': None}, {'hasActivity': 0, 'goodsCopyId': None, 'cateId': 0, 'cannotUseTime': None, 'elemeSyncStatus': None, 'branch': None, 'shopId': None, 'mallGoodsStandards': None, 'standardTopPrice': 0.0, 'delFlag': None, 'standardLowPrice': 1.0, 'transientOriPrice': 0.0, 'oriPrice': 0, 'price': 0, 'soldCount': 0, 'useTime': None, 'transientPrice': 0.0, 'meituanSyncStatus': None, 'mallGoodsCatagoryId': None, 'standard': 2, 'detail': None, 'createTime': None, 'status': 1, 'servicePhone': None, 'standardAllSku': None, 'business': None, 'istop': 0, 'relType': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'preRemind': None, 'dishCount': None, 'name': '多规格冗余测试', 'skuQuantity': None, 'id': 26836, 'shop': {'phoneNumber': None, 'printAdUrl': None, 'fullName': None, 'suffixShop': None, 'name': None, 'printAdText': None, 'createTime': None, 'thirdAppId': None, 'logoUrl': None, 'serial': None, 'id': 42, 'email': None, 'parent': None}, 'mallGoodsCate': {'id': 259, 'orderNum': None, 'delFlag': None, 'oldName': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'goodsAmount': 0, 'shop': None}, 'description': '啊啊啊啊啊', 'lunchBoxCount': None, 'soldAllCount': 8, 'syncStatus': 0, 'waimaiChannel': None, 'baiduSyncStatus': None, 'rank': None, 'expirTime': None, 'outerId': None, 'rules': None, 'isSku': 0, 'cwId': None, 'cateName': None, 'relBranchList': None}]}
2016-07-19 18:17:33,897 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:17:33,915 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:17:33,915 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 49, in test_plist_default    self.assertEqual(response[pageInfo][pagination], self.expected_result[pagination], msg=pagination不为true)AssertionError: True != True : pagination不为true", protocol_method="post", runtime="2016-07-19 18:17:33" WHERE executed_history_id = 20160719181732 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:17:33,920 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:17:33,920 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:17:33" WHERE executed_history_id = 20160719181732 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:17:34,081 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:17:34,231 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:17:34,231 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:17:34,232 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:17:34,232 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719181732',)
2016-07-19 18:17:34,234 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:17:34,234 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719181732')
2016-07-19 18:17:34,236 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:17:34,236 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719181732')
2016-07-19 18:17:34,237 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:17:34,237 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719181732')
2016-07-19 18:17:34,239 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:17:34,239 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719181732')
2016-07-19 18:17:34,240 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:17:34,240 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181732',)
2016-07-19 18:17:34,242 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:17:34,242 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181732')
2016-07-19 18:17:34,244 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:17:34,245 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:17:34,245 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181732',)
2016-07-19 18:17:34,246 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:17:34,247 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181732')
2016-07-19 18:17:34,248 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:17:34,249 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719181732')
2016-07-19 18:17:34,251 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:17:34,251 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719181732.html
2016-07-19 18:17:34,251 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:17:34,258 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:17:34,476 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719181732.html
2016-07-19 18:17:34,476 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:17:34,477 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:18:06,921 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:18:06,932 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:18:06,937 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:18:06,987 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:18:06,987 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:18:06,988 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:18:06,988 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:18:06,989 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:18:06,991 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:18:06,991 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:18:07,122 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:18:07,122 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:18:07,123 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:18:07,123 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:18:07,253 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:18:07,403 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:18:07,404 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:18:07,544 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:18:07,840 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:18:07,841 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181806', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:18:07,842 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:18:07,842 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:18:07,842 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719181806', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":True,"totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:18:07,843 testcase.py[line: 57] ERROR: 步骤[1]信息填写错误: No JSON object could be decoded,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:18:07,844 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:18:07,844 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-19 18:18:07" WHERE executed_history_id = 20160719181806 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:18:07,990 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:18:08,112 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:18:08,113 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:18:08,113 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:18:08,114 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719181806',)
2016-07-19 18:18:08,116 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:18:08,116 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719181806')
2016-07-19 18:18:08,118 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:18:08,118 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719181806')
2016-07-19 18:18:08,120 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:18:08,121 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719181806')
2016-07-19 18:18:08,122 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:18:08,122 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719181806')
2016-07-19 18:18:08,124 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:18:08,125 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181806',)
2016-07-19 18:18:08,127 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:18:08,127 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181806')
2016-07-19 18:18:08,129 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:18:08,129 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:18:08,129 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719181806',)
2016-07-19 18:18:08,131 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:18:08,132 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719181806')
2016-07-19 18:18:08,133 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:18:08,134 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719181806')
2016-07-19 18:18:08,135 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:18:08,135 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719181806.html
2016-07-19 18:18:08,135 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:18:08,136 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:18:14,433 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719181806.html
2016-07-19 18:18:14,433 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:18:14,433 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:20:52,232 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:20:52,242 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:20:52,248 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:20:52,292 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:20:52,292 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:20:52,293 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:20:52,293 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:20:52,294 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:20:52,296 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:20:52,296 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:20:52,416 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:20:52,416 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:20:52,417 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:20:52,417 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:20:52,535 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:20:52,662 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:20:52,663 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:20:52,785 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:20:53,135 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:20:53,135 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719182052', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:20:53,137 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:20:53,138 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:20:53,138 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719182052', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:20:53,140 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:20:53,140 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:20:53,140 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:20:53,140 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:20:53,211 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'params': None, 'pageStartRow': 0, 'totalRows': 5, 'hasNextPage': False, 'pageEndRow': 5, 'pagination': True, 'currentPage': 1, 'pageSize': 10, 'hasPreviousPage': False, 'totalPages': 1}, 'dataList': [{'mallGoodsCatagoryId': None, 'cateId': 0, 'shopId': None, 'cwId': None, 'cateName': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'useTime': None, 'cannotUseTime': None, 'skuQuantity': 89, 'istop': 0, 'relType': None, 'elemeSyncStatus': None, 'relBranchList': None, 'hasActivity': 0, 'detail': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'createTime': None, 'shop': {'parent': None, 'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'id': 42, 'email': None, 'createTime': None, 'suffixShop': None, 'fullName': None, 'name': None}, 'isSku': 0, 'rules': None, 'oriPrice': 0, 'business': None, 'description': '100', 'expirTime': None, 'baiduSyncStatus': None, 'dishCount': None, 'soldCount': 179, 'lunchBoxCount': None, 'rank': None, 'servicePhone': None, 'soldAllCount': 185, 'meituanSyncStatus': None, 'price': 1000, 'transientPrice': 0.0, 'syncStatus': 0, 'status': 1, 'transientOriPrice': 0.0, 'outerId': None, 'waimaiChannel': None, 'mallGoodsCate': {'goodsAmount': 0, 'branchId': None, 'orderNum': None, 'delFlag': None, 'name': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'id': 260}, 'standard': 1, 'delFlag': None, 'mallGoodsStandards': None, 'id': 26189, 'branch': None, 'standardAllSku': None, 'name': '插线板更名后', 'preRemind': None}, {'mallGoodsCatagoryId': None, 'cateId': 0, 'shopId': None, 'cwId': None, 'cateName': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'useTime': None, 'cannotUseTime': None, 'skuQuantity': 9265759, 'istop': 0, 'relType': None, 'elemeSyncStatus': None, 'relBranchList': None, 'hasActivity': 0, 'detail': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'createTime': None, 'shop': {'parent': None, 'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'id': 42, 'email': None, 'createTime': None, 'suffixShop': None, 'fullName': None, 'name': None}, 'isSku': 0, 'rules': None, 'oriPrice': 0, 'business': None, 'description': '阿斯达', 'expirTime': None, 'baiduSyncStatus': None, 'dishCount': None, 'soldCount': 72, 'lunchBoxCount': None, 'rank': None, 'servicePhone': None, 'soldAllCount': 72, 'meituanSyncStatus': None, 'price': 100000000, 'transientPrice': 0.0, 'syncStatus': 0, 'status': 1, 'transientOriPrice': 0.0, 'outerId': None, 'waimaiChannel': None, 'mallGoodsCate': {'goodsAmount': 0, 'branchId': None, 'orderNum': None, 'delFlag': None, 'name': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'id': 260}, 'standard': 1, 'delFlag': None, 'mallGoodsStandards': None, 'id': 26188, 'branch': None, 'standardAllSku': None, 'name': '水淀粉', 'preRemind': None}, {'mallGoodsCatagoryId': None, 'cateId': 0, 'shopId': None, 'cwId': None, 'cateName': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'useTime': None, 'cannotUseTime': None, 'skuQuantity': None, 'istop': 0, 'relType': None, 'elemeSyncStatus': None, 'relBranchList': None, 'hasActivity': 0, 'detail': None, 'goodsCopyId': None, 'standardLowPrice': 0.01, 'createTime': None, 'shop': {'parent': None, 'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'id': 42, 'email': None, 'createTime': None, 'suffixShop': None, 'fullName': None, 'name': None}, 'isSku': 0, 'rules': None, 'oriPrice': 0, 'business': None, 'description': '接口测试专用，勿动', 'expirTime': None, 'baiduSyncStatus': None, 'dishCount': None, 'soldCount': 0, 'lunchBoxCount': None, 'rank': None, 'servicePhone': None, 'soldAllCount': 0, 'meituanSyncStatus': None, 'price': 0, 'transientPrice': 0.0, 'syncStatus': 0, 'status': 1, 'transientOriPrice': 0.0, 'outerId': None, 'waimaiChannel': None, 'mallGoodsCate': {'goodsAmount': 0, 'branchId': None, 'orderNum': None, 'delFlag': None, 'name': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'id': 268}, 'standard': 2, 'delFlag': None, 'mallGoodsStandards': None, 'id': 26839, 'branch': None, 'standardAllSku': None, 'name': '接口-测试商品2', 'preRemind': None}, {'mallGoodsCatagoryId': None, 'cateId': 0, 'shopId': None, 'cwId': None, 'cateName': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'useTime': None, 'cannotUseTime': None, 'skuQuantity': 1000000, 'istop': 0, 'relType': None, 'elemeSyncStatus': None, 'relBranchList': None, 'hasActivity': 0, 'detail': None, 'goodsCopyId': None, 'standardLowPrice': 0.0, 'createTime': None, 'shop': {'parent': None, 'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'id': 42, 'email': None, 'createTime': None, 'suffixShop': None, 'fullName': None, 'name': None}, 'isSku': 0, 'rules': None, 'oriPrice': 0, 'business': None, 'description': '接口测试专用，烦请勿删，勿操作', 'expirTime': None, 'baiduSyncStatus': None, 'dishCount': None, 'soldCount': 0, 'lunchBoxCount': None, 'rank': None, 'servicePhone': None, 'soldAllCount': 0, 'meituanSyncStatus': None, 'price': 1, 'transientPrice': 0.0, 'syncStatus': 0, 'status': 1, 'transientOriPrice': 0.0, 'outerId': None, 'waimaiChannel': None, 'mallGoodsCate': {'goodsAmount': 0, 'branchId': None, 'orderNum': None, 'delFlag': None, 'name': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'id': 268}, 'standard': 1, 'delFlag': None, 'mallGoodsStandards': None, 'id': 26838, 'branch': None, 'standardAllSku': None, 'name': '接口-测试商品1', 'preRemind': None}, {'mallGoodsCatagoryId': None, 'cateId': 0, 'shopId': None, 'cwId': None, 'cateName': None, 'standardTopPrice': 0.0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'useTime': None, 'cannotUseTime': None, 'skuQuantity': None, 'istop': 0, 'relType': None, 'elemeSyncStatus': None, 'relBranchList': None, 'hasActivity': 0, 'detail': None, 'goodsCopyId': None, 'standardLowPrice': 1.0, 'createTime': None, 'shop': {'parent': None, 'thirdAppId': None, 'logoUrl': None, 'phoneNumber': None, 'serial': None, 'printAdText': None, 'printAdUrl': None, 'id': 42, 'email': None, 'createTime': None, 'suffixShop': None, 'fullName': None, 'name': None}, 'isSku': 0, 'rules': None, 'oriPrice': 0, 'business': None, 'description': '啊啊啊啊啊', 'expirTime': None, 'baiduSyncStatus': None, 'dishCount': None, 'soldCount': 0, 'lunchBoxCount': None, 'rank': None, 'servicePhone': None, 'soldAllCount': 8, 'meituanSyncStatus': None, 'price': 0, 'transientPrice': 0.0, 'syncStatus': 0, 'status': 1, 'transientOriPrice': 0.0, 'outerId': None, 'waimaiChannel': None, 'mallGoodsCate': {'goodsAmount': 0, 'branchId': None, 'orderNum': None, 'delFlag': None, 'name': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'id': 259}, 'standard': 2, 'delFlag': None, 'mallGoodsStandards': None, 'id': 26836, 'branch': None, 'standardAllSku': None, 'name': '多规格冗余测试', 'preRemind': None}]}
2016-07-19 18:20:53,216 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:20:53,230 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:20:53,230 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 50, in test_plist_default    self.assertEqual(response[pageInfo][totalPages], totalPages, msg=totalPages错误)AssertionError: 1 != 0 : totalPages错误", protocol_method="post", runtime="2016-07-19 18:20:53" WHERE executed_history_id = 20160719182052 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:20:53,232 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:20:53,232 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:20:53" WHERE executed_history_id = 20160719182052 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:20:53,374 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:20:53,523 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:20:53,523 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:20:53,524 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:20:53,524 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719182052',)
2016-07-19 18:20:53,525 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:20:53,525 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719182052')
2016-07-19 18:20:53,526 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:20:53,526 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719182052')
2016-07-19 18:20:53,527 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:20:53,527 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719182052')
2016-07-19 18:20:53,528 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:20:53,528 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719182052')
2016-07-19 18:20:53,529 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:20:53,529 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719182052',)
2016-07-19 18:20:53,531 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:20:53,531 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719182052')
2016-07-19 18:20:53,532 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:20:53,532 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:20:53,532 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719182052',)
2016-07-19 18:20:53,533 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:20:53,533 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719182052')
2016-07-19 18:20:53,534 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:20:53,534 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719182052')
2016-07-19 18:20:53,536 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:20:53,536 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719182052.html
2016-07-19 18:20:53,536 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:20:53,537 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:20:57,968 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719182052.html
2016-07-19 18:20:57,968 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:20:57,969 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:25:36,469 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:25:36,479 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:25:36,484 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:25:36,530 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:25:36,530 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:25:36,532 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:25:36,532 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:25:36,533 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:25:36,535 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:25:36,535 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:25:36,663 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:25:36,663 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:25:36,664 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:25:36,664 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:25:36,791 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:25:36,923 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:25:36,924 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:25:37,069 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:25:37,313 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:25:37,313 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719182536', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:25:37,316 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:25:37,316 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:25:37,317 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719182536', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:25:37,318 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:25:37,319 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:25:37,319 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:25:37,319 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:25:37,379 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'cateName': None, 'name': '插线板更名后', 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'status': 1, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'transientOriPrice': 0.0, 'lunchBoxCount': None, 'rules': None, 'relType': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'standard': 1, 'soldAllCount': 185, 'hasActivity': 0, 'goodsCopyId': None, 'shopId': None, 'business': None, 'baiduSyncStatus': None, 'istop': 0, 'preRemind': None, 'syncStatus': 0, 'delFlag': None, 'id': 26189, 'rank': None, 'useTime': None, 'cateId': 0, 'outerId': None, 'detail': None, 'cannotUseTime': None, 'mallGoodsCatagoryId': None, 'description': '100', 'elemeSyncStatus': None, 'soldCount': 179, 'relBranchList': None, 'expirTime': None, 'standardTopPrice': 0.0, 'price': 1000, 'waimaiChannel': None, 'shop': {'name': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'thirdAppId': None, 'printAdText': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'serial': None, 'suffixShop': None, 'fullName': None, 'email': None}, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'shop': None, 'name': None, 'goodsAmount': 0, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'orderNum': None, 'oldName': None}, 'meituanSyncStatus': None, 'isSku': 0, 'skuQuantity': 89, 'branch': None, 'transientPrice': 0.0}, {'cateName': None, 'name': '水淀粉', 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'status': 1, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'transientOriPrice': 0.0, 'lunchBoxCount': None, 'rules': None, 'relType': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'standard': 1, 'soldAllCount': 72, 'hasActivity': 0, 'goodsCopyId': None, 'shopId': None, 'business': None, 'baiduSyncStatus': None, 'istop': 0, 'preRemind': None, 'syncStatus': 0, 'delFlag': None, 'id': 26188, 'rank': None, 'useTime': None, 'cateId': 0, 'outerId': None, 'detail': None, 'cannotUseTime': None, 'mallGoodsCatagoryId': None, 'description': '阿斯达', 'elemeSyncStatus': None, 'soldCount': 72, 'relBranchList': None, 'expirTime': None, 'standardTopPrice': 0.0, 'price': 100000000, 'waimaiChannel': None, 'shop': {'name': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'thirdAppId': None, 'printAdText': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'serial': None, 'suffixShop': None, 'fullName': None, 'email': None}, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'shop': None, 'name': None, 'goodsAmount': 0, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'orderNum': None, 'oldName': None}, 'meituanSyncStatus': None, 'isSku': 0, 'skuQuantity': 9265759, 'branch': None, 'transientPrice': 0.0}, {'cateName': None, 'name': '接口-测试商品2', 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'status': 1, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'transientOriPrice': 0.0, 'lunchBoxCount': None, 'rules': None, 'relType': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'standard': 2, 'soldAllCount': 2, 'hasActivity': 0, 'goodsCopyId': None, 'shopId': None, 'business': None, 'baiduSyncStatus': None, 'istop': 0, 'preRemind': None, 'syncStatus': 0, 'delFlag': None, 'id': 26839, 'rank': None, 'useTime': None, 'cateId': 0, 'outerId': None, 'detail': None, 'cannotUseTime': None, 'mallGoodsCatagoryId': None, 'description': '接口测试专用，勿动', 'elemeSyncStatus': None, 'soldCount': 0, 'relBranchList': None, 'expirTime': None, 'standardTopPrice': 0.0, 'price': 0, 'waimaiChannel': None, 'shop': {'name': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'thirdAppId': None, 'printAdText': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'serial': None, 'suffixShop': None, 'fullName': None, 'email': None}, 'standardLowPrice': 0.01, 'createTime': None, 'mallGoodsCate': {'shop': None, 'name': None, 'goodsAmount': 0, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'orderNum': None, 'oldName': None}, 'meituanSyncStatus': None, 'isSku': 0, 'skuQuantity': None, 'branch': None, 'transientPrice': 0.0}, {'cateName': None, 'name': '接口-测试商品1', 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'status': 1, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'transientOriPrice': 0.0, 'lunchBoxCount': None, 'rules': None, 'relType': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'standard': 1, 'soldAllCount': 0, 'hasActivity': 0, 'goodsCopyId': None, 'shopId': None, 'business': None, 'baiduSyncStatus': None, 'istop': 0, 'preRemind': None, 'syncStatus': 0, 'delFlag': None, 'id': 26838, 'rank': None, 'useTime': None, 'cateId': 0, 'outerId': None, 'detail': None, 'cannotUseTime': None, 'mallGoodsCatagoryId': None, 'description': '接口测试专用，烦请勿删，勿操作', 'elemeSyncStatus': None, 'soldCount': 0, 'relBranchList': None, 'expirTime': None, 'standardTopPrice': 0.0, 'price': 1, 'waimaiChannel': None, 'shop': {'name': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'thirdAppId': None, 'printAdText': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'serial': None, 'suffixShop': None, 'fullName': None, 'email': None}, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'shop': None, 'name': None, 'goodsAmount': 0, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'orderNum': None, 'oldName': None}, 'meituanSyncStatus': None, 'isSku': 0, 'skuQuantity': 1000000, 'branch': None, 'transientPrice': 0.0}, {'cateName': None, 'name': '多规格冗余测试', 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'status': 1, 'standardAllSku': None, 'servicePhone': None, 'cwId': None, 'transientOriPrice': 0.0, 'lunchBoxCount': None, 'rules': None, 'relType': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'standard': 2, 'soldAllCount': 8, 'hasActivity': 0, 'goodsCopyId': None, 'shopId': None, 'business': None, 'baiduSyncStatus': None, 'istop': 0, 'preRemind': None, 'syncStatus': 0, 'delFlag': None, 'id': 26836, 'rank': None, 'useTime': None, 'cateId': 0, 'outerId': None, 'detail': None, 'cannotUseTime': None, 'mallGoodsCatagoryId': None, 'description': '啊啊啊啊啊', 'elemeSyncStatus': None, 'soldCount': 0, 'relBranchList': None, 'expirTime': None, 'standardTopPrice': 0.0, 'price': 0, 'waimaiChannel': None, 'shop': {'name': None, 'id': 42, 'logoUrl': None, 'createTime': None, 'thirdAppId': None, 'printAdText': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'serial': None, 'suffixShop': None, 'fullName': None, 'email': None}, 'standardLowPrice': 1.0, 'createTime': None, 'mallGoodsCate': {'shop': None, 'name': None, 'goodsAmount': 0, 'delFlag': None, 'id': 259, 'goodsSoldOutAmount': 0, 'branchId': None, 'orderNum': None, 'oldName': None}, 'meituanSyncStatus': None, 'isSku': 0, 'skuQuantity': None, 'branch': None, 'transientPrice': 0.0}], 'pageInfo': {'totalPages': 1, 'params': None, 'hasPreviousPage': False, 'pageStartRow': 0, 'currentPage': 1, 'pageSize': 10, 'hasNextPage': False, 'pagination': True, 'totalRows': 5, 'pageEndRow': 5}}
2016-07-19 18:25:37,385 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:25:37,401 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:25:37,405 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:25:37,411 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:25:37,411 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 65, in test_plist_default    self.assertEqual(item[name], self.expected_result[goodsinfo][0][name], msg=商品名称读取错误)AssertionError: 接口-测试商品2 != 接口-测试商品1- 接口-测试商品2?        ^+ 接口-测试商品1?        ^ : 商品名称读取错误", protocol_method="post", runtime="2016-07-19 18:25:37" WHERE executed_history_id = 20160719182536 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:25:37,415 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:25:37,415 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:25:37" WHERE executed_history_id = 20160719182536 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:25:37,554 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:25:37,691 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:25:37,692 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:25:37,692 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:25:37,693 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719182536',)
2016-07-19 18:25:37,693 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:25:37,694 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719182536')
2016-07-19 18:25:37,694 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:25:37,694 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719182536')
2016-07-19 18:25:37,696 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:25:37,696 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719182536')
2016-07-19 18:25:37,699 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:25:37,699 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719182536')
2016-07-19 18:25:37,700 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:25:37,700 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719182536',)
2016-07-19 18:25:37,701 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:25:37,701 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719182536')
2016-07-19 18:25:37,702 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:25:37,702 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:25:37,703 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719182536',)
2016-07-19 18:25:37,703 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:25:37,703 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719182536')
2016-07-19 18:25:37,705 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:25:37,705 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719182536')
2016-07-19 18:25:37,707 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:25:37,707 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719182536.html
2016-07-19 18:25:37,707 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:25:37,708 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:25:44,414 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719182536.html
2016-07-19 18:25:44,415 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:25:44,416 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:31:12,798 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:31:12,808 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:31:12,813 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:31:12,858 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:31:12,858 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:31:12,859 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:31:12,859 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:31:12,860 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:31:12,862 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:31:12,862 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:31:12,987 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:31:12,988 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:31:12,988 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:31:12,989 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:31:13,190 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:31:13,310 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:31:13,311 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:31:13,440 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:31:13,737 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:31:13,737 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183112', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:31:13,739 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:31:13,740 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:31:13,740 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183112', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:31:13,741 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:31:13,742 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:31:13,742 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:31:13,742 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:31:13,824 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'hasPreviousPage': False, 'hasNextPage': False, 'pageStartRow': 0, 'totalPages': 1, 'pagination': True, 'currentPage': 1, 'totalRows': 5, 'pageSize': 10, 'params': None, 'pageEndRow': 5}, 'dataList': [{'cateId': 0, 'waimaiChannel': None, 'name': '插线板更名后', 'hasActivity': 0, 'delFlag': None, 'id': 26189, 'shop': {'suffixShop': None, 'printAdUrl': None, 'fullName': None, 'phoneNumber': None, 'thirdAppId': None, 'name': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'serial': None, 'createTime': None, 'parent': None, 'email': None}, 'oriPrice': 0, 'preRemind': None, 'price': 1000, 'syncStatus': 0, 'standard': 1, 'standardAllSku': None, 'meituanSyncStatus': None, 'outerId': None, 'status': 1, 'expirTime': None, 'detail': None, 'rules': None, 'business': None, 'cwId': None, 'cateName': None, 'standardLowPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'relType': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'shop': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None, 'orderNum': None}, 'skuQuantity': 89, 'elemeSyncStatus': None, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'relBranchList': None, 'transientOriPrice': 0.0, 'istop': 0, 'useTime': None, 'soldCount': 179, 'lunchBoxCount': None, 'soldAllCount': 185, 'rank': None, 'branch': None, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'createTime': None, 'shopId': None, 'description': '100', 'servicePhone': None}, {'cateId': 0, 'waimaiChannel': None, 'name': '水淀粉', 'hasActivity': 0, 'delFlag': None, 'id': 26188, 'shop': {'suffixShop': None, 'printAdUrl': None, 'fullName': None, 'phoneNumber': None, 'thirdAppId': None, 'name': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'serial': None, 'createTime': None, 'parent': None, 'email': None}, 'oriPrice': 0, 'preRemind': None, 'price': 100000000, 'syncStatus': 0, 'standard': 1, 'standardAllSku': None, 'meituanSyncStatus': None, 'outerId': None, 'status': 1, 'expirTime': None, 'detail': None, 'rules': None, 'business': None, 'cwId': None, 'cateName': None, 'standardLowPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'relType': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'shop': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None, 'orderNum': None}, 'skuQuantity': 9265759, 'elemeSyncStatus': None, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'relBranchList': None, 'transientOriPrice': 0.0, 'istop': 0, 'useTime': None, 'soldCount': 72, 'lunchBoxCount': None, 'soldAllCount': 72, 'rank': None, 'branch': None, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'createTime': None, 'shopId': None, 'description': '阿斯达', 'servicePhone': None}, {'cateId': 0, 'waimaiChannel': None, 'name': '接口-测试商品2', 'hasActivity': 0, 'delFlag': None, 'id': 26839, 'shop': {'suffixShop': None, 'printAdUrl': None, 'fullName': None, 'phoneNumber': None, 'thirdAppId': None, 'name': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'serial': None, 'createTime': None, 'parent': None, 'email': None}, 'oriPrice': 0, 'preRemind': None, 'price': 0, 'syncStatus': 0, 'standard': 2, 'standardAllSku': None, 'meituanSyncStatus': None, 'outerId': None, 'status': 1, 'expirTime': None, 'detail': None, 'rules': None, 'business': None, 'cwId': None, 'cateName': None, 'standardLowPrice': 0.01, 'isSku': 0, 'goodsCopyId': None, 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'relType': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'shop': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None, 'orderNum': None}, 'skuQuantity': None, 'elemeSyncStatus': None, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'relBranchList': None, 'transientOriPrice': 0.0, 'istop': 0, 'useTime': None, 'soldCount': 0, 'lunchBoxCount': None, 'soldAllCount': 2, 'rank': None, 'branch': None, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'createTime': None, 'shopId': None, 'description': '接口测试专用，勿动', 'servicePhone': None}, {'cateId': 0, 'waimaiChannel': None, 'name': '接口-测试商品1', 'hasActivity': 0, 'delFlag': None, 'id': 26838, 'shop': {'suffixShop': None, 'printAdUrl': None, 'fullName': None, 'phoneNumber': None, 'thirdAppId': None, 'name': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'serial': None, 'createTime': None, 'parent': None, 'email': None}, 'oriPrice': 0, 'preRemind': None, 'price': 1, 'syncStatus': 0, 'standard': 1, 'standardAllSku': None, 'meituanSyncStatus': None, 'outerId': None, 'status': 1, 'expirTime': None, 'detail': None, 'rules': None, 'business': None, 'cwId': None, 'cateName': None, 'standardLowPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'relType': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'shop': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None, 'orderNum': None}, 'skuQuantity': 1000000, 'elemeSyncStatus': None, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'relBranchList': None, 'transientOriPrice': 0.0, 'istop': 0, 'useTime': None, 'soldCount': 0, 'lunchBoxCount': None, 'soldAllCount': 0, 'rank': None, 'branch': None, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'createTime': None, 'shopId': None, 'description': '接口测试专用，烦请勿删，勿操作', 'servicePhone': None}, {'cateId': 0, 'waimaiChannel': None, 'name': '多规格冗余测试', 'hasActivity': 0, 'delFlag': None, 'id': 26836, 'shop': {'suffixShop': None, 'printAdUrl': None, 'fullName': None, 'phoneNumber': None, 'thirdAppId': None, 'name': None, 'printAdText': None, 'id': 42, 'logoUrl': None, 'serial': None, 'createTime': None, 'parent': None, 'email': None}, 'oriPrice': 0, 'preRemind': None, 'price': 0, 'syncStatus': 0, 'standard': 2, 'standardAllSku': None, 'meituanSyncStatus': None, 'outerId': None, 'status': 1, 'expirTime': None, 'detail': None, 'rules': None, 'business': None, 'cwId': None, 'cateName': None, 'standardLowPrice': 1.0, 'isSku': 0, 'goodsCopyId': None, 'dishCount': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'relType': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 259, 'shop': None, 'goodsAmount': 0, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None, 'orderNum': None}, 'skuQuantity': None, 'elemeSyncStatus': None, 'cannotUseTime': None, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'mallGoodsStandards': None, 'relBranchList': None, 'transientOriPrice': 0.0, 'istop': 0, 'useTime': None, 'soldCount': 0, 'lunchBoxCount': None, 'soldAllCount': 8, 'rank': None, 'branch': None, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'createTime': None, 'shopId': None, 'description': '啊啊啊啊啊', 'servicePhone': None}]}
2016-07-19 18:31:13,826 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:31:13,840 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:31:13,844 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:31:13,849 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:31:13,849 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 74, in test_plist_default    self.assertEqual(item[description], self.expected_result[goodsinfo][1][description], msg=商品描述读取错误)AssertionError: 接口测试专用，勿动 != 接口测试专用,勿动- 接口测试专用，勿动?       ^+ 接口测试专用,勿动?       ^ : 商品描述读取错误", protocol_method="post", runtime="2016-07-19 18:31:13" WHERE executed_history_id = 20160719183112 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:31:13,854 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:31:13,854 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:31:13" WHERE executed_history_id = 20160719183112 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:31:14,004 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:31:14,135 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:31:14,135 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:31:14,136 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:31:14,136 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183112',)
2016-07-19 18:31:14,136 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:31:14,137 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183112')
2016-07-19 18:31:14,137 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:31:14,137 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183112')
2016-07-19 18:31:14,138 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:31:14,138 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183112')
2016-07-19 18:31:14,139 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:31:14,140 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183112')
2016-07-19 18:31:14,140 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:31:14,140 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183112',)
2016-07-19 18:31:14,141 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:31:14,142 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183112')
2016-07-19 18:31:14,142 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:31:14,143 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:31:14,143 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183112',)
2016-07-19 18:31:14,144 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:31:14,144 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183112')
2016-07-19 18:31:14,145 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:31:14,145 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183112')
2016-07-19 18:31:14,148 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:31:14,148 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183112.html
2016-07-19 18:31:14,148 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:31:14,149 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:31:16,299 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183112.html
2016-07-19 18:31:16,300 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:31:16,301 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:31:58,377 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:31:58,386 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:31:58,391 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:31:58,429 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:31:58,430 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:31:58,431 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:31:58,431 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:31:58,432 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:31:58,433 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:31:58,433 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:31:58,547 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:31:58,547 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:31:58,548 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:31:58,548 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:31:58,666 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:31:58,786 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:31:58,787 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:31:58,912 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:31:59,186 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:31:59,187 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183158', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:31:59,189 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:31:59,189 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:31:59,189 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183158', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:31:59,191 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:31:59,191 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:31:59,191 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:31:59,192 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:31:59,264 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pagination': True, 'params': None, 'hasNextPage': False, 'totalRows': 5, 'hasPreviousPage': False, 'pageSize': 10, 'totalPages': 1, 'currentPage': 1, 'pageStartRow': 0, 'pageEndRow': 5}, 'dataList': [{'createTime': None, 'lunchBoxCount': None, 'rank': None, 'soldCount': 179, 'mallGoodsCatagoryId': None, 'rules': None, 'outerId': None, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'delFlag': None, 'goodsAmount': 0, 'name': None, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260}, 'soldAllCount': 185, 'standard': 1, 'standardLowPrice': 0.0, 'servicePhone': None, 'cateName': None, 'transientOriPrice': 0.0, 'useTime': None, 'id': 26189, 'relType': None, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'transientPrice': 0.0, 'skuQuantity': 89, 'price': 1000, 'name': '插线板更名后', 'shop': {'createTime': None, 'thirdAppId': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'phoneNumber': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'name': None, 'printAdText': None}, 'business': None, 'goodsCopyId': None, 'detail': None, 'delFlag': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'relBranchList': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'expirTime': None, 'preRemind': None, 'syncStatus': 0, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'mallGoodsStandards': None, 'description': '100', 'cwId': None}, {'createTime': None, 'lunchBoxCount': None, 'rank': None, 'soldCount': 72, 'mallGoodsCatagoryId': None, 'rules': None, 'outerId': None, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'delFlag': None, 'goodsAmount': 0, 'name': None, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260}, 'soldAllCount': 72, 'standard': 1, 'standardLowPrice': 0.0, 'servicePhone': None, 'cateName': None, 'transientOriPrice': 0.0, 'useTime': None, 'id': 26188, 'relType': None, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'transientPrice': 0.0, 'skuQuantity': 9265759, 'price': 100000000, 'name': '水淀粉', 'shop': {'createTime': None, 'thirdAppId': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'phoneNumber': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'name': None, 'printAdText': None}, 'business': None, 'goodsCopyId': None, 'detail': None, 'delFlag': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'relBranchList': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'expirTime': None, 'preRemind': None, 'syncStatus': 0, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'mallGoodsStandards': None, 'description': '阿斯达', 'cwId': None}, {'createTime': None, 'lunchBoxCount': None, 'rank': None, 'soldCount': 0, 'mallGoodsCatagoryId': None, 'rules': None, 'outerId': None, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'delFlag': None, 'goodsAmount': 0, 'name': None, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268}, 'soldAllCount': 2, 'standard': 2, 'standardLowPrice': 0.01, 'servicePhone': None, 'cateName': None, 'transientOriPrice': 0.0, 'useTime': None, 'id': 26839, 'relType': None, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'transientPrice': 0.0, 'skuQuantity': None, 'price': 0, 'name': '接口-测试商品2', 'shop': {'createTime': None, 'thirdAppId': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'phoneNumber': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'name': None, 'printAdText': None}, 'business': None, 'goodsCopyId': None, 'detail': None, 'delFlag': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'relBranchList': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'expirTime': None, 'preRemind': None, 'syncStatus': 0, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'mallGoodsStandards': None, 'description': '接口测试专用，勿动', 'cwId': None}, {'createTime': None, 'lunchBoxCount': None, 'rank': None, 'soldCount': 0, 'mallGoodsCatagoryId': None, 'rules': None, 'outerId': None, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'delFlag': None, 'goodsAmount': 0, 'name': None, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268}, 'soldAllCount': 0, 'standard': 1, 'standardLowPrice': 0.0, 'servicePhone': None, 'cateName': None, 'transientOriPrice': 0.0, 'useTime': None, 'id': 26838, 'relType': None, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'transientPrice': 0.0, 'skuQuantity': 1000000, 'price': 1, 'name': '接口-测试商品1', 'shop': {'createTime': None, 'thirdAppId': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'phoneNumber': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'name': None, 'printAdText': None}, 'business': None, 'goodsCopyId': None, 'detail': None, 'delFlag': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'relBranchList': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'expirTime': None, 'preRemind': None, 'syncStatus': 0, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'mallGoodsStandards': None, 'description': '接口测试专用，烦请勿删，勿操作', 'cwId': None}, {'createTime': None, 'lunchBoxCount': None, 'rank': None, 'soldCount': 0, 'mallGoodsCatagoryId': None, 'rules': None, 'outerId': None, 'mallGoodsCate': {'orderNum': None, 'branchId': None, 'delFlag': None, 'goodsAmount': 0, 'name': None, 'shop': None, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 259}, 'soldAllCount': 8, 'standard': 2, 'standardLowPrice': 1.0, 'servicePhone': None, 'cateName': None, 'transientOriPrice': 0.0, 'useTime': None, 'id': 26836, 'relType': None, 'baiduSyncStatus': None, 'dishCount': None, 'cateId': 0, 'transientPrice': 0.0, 'skuQuantity': None, 'price': 0, 'name': '多规格冗余测试', 'shop': {'createTime': None, 'thirdAppId': None, 'parent': None, 'suffixShop': None, 'fullName': None, 'id': 42, 'phoneNumber': None, 'printAdUrl': None, 'serial': None, 'email': None, 'logoUrl': None, 'name': None, 'printAdText': None}, 'business': None, 'goodsCopyId': None, 'detail': None, 'delFlag': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'isSku': 0, 'branch': None, 'relBranchList': None, 'meituanSyncStatus': None, 'oriPrice': 0, 'waimaiChannel': None, 'standardTopPrice': 0.0, 'expirTime': None, 'preRemind': None, 'syncStatus': 0, 'standardAllSku': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'cannotUseTime': None, 'istop': 0, 'shopId': None, 'status': 1, 'mallGoodsStandards': None, 'description': '啊啊啊啊啊', 'cwId': None}]}
2016-07-19 18:31:59,269 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:31:59,284 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:31:59,288 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:31:59,292 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:31:59,292 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 74, in test_plist_default    self.assertEqual(item[description], self.expected_result[goodsinfo][1][description], msg=商品描述读取错误)AssertionError: 接口测试专用，勿动 != 接口测试专用,勿动- 接口测试专用，勿动?       ^+ 接口测试专用,勿动?       ^ : 商品描述读取错误", protocol_method="post", runtime="2016-07-19 18:31:59" WHERE executed_history_id = 20160719183158 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:31:59,295 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:31:59,295 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:31:59" WHERE executed_history_id = 20160719183158 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:31:59,412 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:31:59,540 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:31:59,541 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:31:59,541 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:31:59,541 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183158',)
2016-07-19 18:31:59,543 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:31:59,543 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183158')
2016-07-19 18:31:59,544 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:31:59,545 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183158')
2016-07-19 18:31:59,545 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:31:59,545 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183158')
2016-07-19 18:31:59,546 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:31:59,546 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183158')
2016-07-19 18:31:59,547 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:31:59,547 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183158',)
2016-07-19 18:31:59,548 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:31:59,548 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183158')
2016-07-19 18:31:59,549 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:31:59,549 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:31:59,549 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183158',)
2016-07-19 18:31:59,550 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:31:59,551 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183158')
2016-07-19 18:31:59,552 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:31:59,552 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183158')
2016-07-19 18:31:59,553 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:31:59,553 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183158.html
2016-07-19 18:31:59,553 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:31:59,554 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:32:01,023 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183158.html
2016-07-19 18:32:01,024 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:32:01,025 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:33:21,864 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:33:21,874 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:33:21,879 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:33:21,922 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:33:21,922 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:33:21,923 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:33:21,923 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:33:21,924 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:33:21,926 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:33:21,926 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:33:22,071 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:33:22,071 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:33:22,072 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:33:22,072 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:33:22,195 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:33:22,320 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:33:22,320 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:33:22,466 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:33:22,717 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:33:22,717 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183321', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:33:22,719 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:33:22,719 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:33:22,719 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183321', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:33:22,720 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:33:22,721 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:33:22,721 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:33:22,721 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:33:22,786 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pageSize': 10, 'currentPage': 1, 'totalRows': 5, 'hasPreviousPage': False, 'pageStartRow': 0, 'params': None, 'pagination': True, 'pageEndRow': 5, 'hasNextPage': False, 'totalPages': 1}, 'dataList': [{'preRemind': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'istop': 0, 'oriPrice': 0, 'waimaiChannel': None, 'description': '100', 'mallGoodsCatagoryId': None, 'useTime': None, 'transientPrice': 0.0, 'relType': None, 'cwId': None, 'elemeSyncStatus': None, 'relBranchList': None, 'name': '插线板更名后', 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'cateName': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'name': None, 'printAdUrl': None, 'logoUrl': None, 'thirdAppId': None, 'createTime': None, 'printAdText': None, 'suffixShop': None, 'serial': None, 'id': 42, 'parent': None, 'fullName': None, 'phoneNumber': None, 'email': None}, 'dishCount': None, 'id': 26189, 'standardAllSku': None, 'delFlag': None, 'rank': None, 'outerId': None, 'createTime': None, 'soldAllCount': 185, 'business': None, 'status': 1, 'standardLowPrice': 0.0, 'standard': 1, 'branch': None, 'price': 1000, 'soldCount': 179, 'syncStatus': 0, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'branchId': None, 'id': 260, 'name': None, 'goodsSoldOutAmount': 0, 'shop': None, 'oldName': None, 'orderNum': None}, 'lunchBoxCount': None, 'servicePhone': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'skuQuantity': 89, 'rules': None, 'cateId': 0, 'shopId': None, 'hasActivity': 0, 'expirTime': None, 'goodsCopyId': None, 'isSku': 0, 'cannotUseTime': None}, {'preRemind': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'istop': 0, 'oriPrice': 0, 'waimaiChannel': None, 'description': '阿斯达', 'mallGoodsCatagoryId': None, 'useTime': None, 'transientPrice': 0.0, 'relType': None, 'cwId': None, 'elemeSyncStatus': None, 'relBranchList': None, 'name': '水淀粉', 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'cateName': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'name': None, 'printAdUrl': None, 'logoUrl': None, 'thirdAppId': None, 'createTime': None, 'printAdText': None, 'suffixShop': None, 'serial': None, 'id': 42, 'parent': None, 'fullName': None, 'phoneNumber': None, 'email': None}, 'dishCount': None, 'id': 26188, 'standardAllSku': None, 'delFlag': None, 'rank': None, 'outerId': None, 'createTime': None, 'soldAllCount': 72, 'business': None, 'status': 1, 'standardLowPrice': 0.0, 'standard': 1, 'branch': None, 'price': 100000000, 'soldCount': 72, 'syncStatus': 0, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'branchId': None, 'id': 260, 'name': None, 'goodsSoldOutAmount': 0, 'shop': None, 'oldName': None, 'orderNum': None}, 'lunchBoxCount': None, 'servicePhone': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'skuQuantity': 9265759, 'rules': None, 'cateId': 0, 'shopId': None, 'hasActivity': 0, 'expirTime': None, 'goodsCopyId': None, 'isSku': 0, 'cannotUseTime': None}, {'preRemind': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'istop': 0, 'oriPrice': 0, 'waimaiChannel': None, 'description': '接口测试专用，勿动', 'mallGoodsCatagoryId': None, 'useTime': None, 'transientPrice': 0.0, 'relType': None, 'cwId': None, 'elemeSyncStatus': None, 'relBranchList': None, 'name': '接口-测试商品2', 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'cateName': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'name': None, 'printAdUrl': None, 'logoUrl': None, 'thirdAppId': None, 'createTime': None, 'printAdText': None, 'suffixShop': None, 'serial': None, 'id': 42, 'parent': None, 'fullName': None, 'phoneNumber': None, 'email': None}, 'dishCount': None, 'id': 26839, 'standardAllSku': None, 'delFlag': None, 'rank': None, 'outerId': None, 'createTime': None, 'soldAllCount': 2, 'business': None, 'status': 1, 'standardLowPrice': 0.01, 'standard': 2, 'branch': None, 'price': 0, 'soldCount': 0, 'syncStatus': 0, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'branchId': None, 'id': 268, 'name': None, 'goodsSoldOutAmount': 0, 'shop': None, 'oldName': None, 'orderNum': None}, 'lunchBoxCount': None, 'servicePhone': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'skuQuantity': None, 'rules': None, 'cateId': 0, 'shopId': None, 'hasActivity': 0, 'expirTime': None, 'goodsCopyId': None, 'isSku': 0, 'cannotUseTime': None}, {'preRemind': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'istop': 0, 'oriPrice': 0, 'waimaiChannel': None, 'description': '接口测试专用，烦请勿删，勿操作', 'mallGoodsCatagoryId': None, 'useTime': None, 'transientPrice': 0.0, 'relType': None, 'cwId': None, 'elemeSyncStatus': None, 'relBranchList': None, 'name': '接口-测试商品1', 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'cateName': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'name': None, 'printAdUrl': None, 'logoUrl': None, 'thirdAppId': None, 'createTime': None, 'printAdText': None, 'suffixShop': None, 'serial': None, 'id': 42, 'parent': None, 'fullName': None, 'phoneNumber': None, 'email': None}, 'dishCount': None, 'id': 26838, 'standardAllSku': None, 'delFlag': None, 'rank': None, 'outerId': None, 'createTime': None, 'soldAllCount': 0, 'business': None, 'status': 1, 'standardLowPrice': 0.0, 'standard': 1, 'branch': None, 'price': 1, 'soldCount': 0, 'syncStatus': 0, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'branchId': None, 'id': 268, 'name': None, 'goodsSoldOutAmount': 0, 'shop': None, 'oldName': None, 'orderNum': None}, 'lunchBoxCount': None, 'servicePhone': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'skuQuantity': 1000000, 'rules': None, 'cateId': 0, 'shopId': None, 'hasActivity': 0, 'expirTime': None, 'goodsCopyId': None, 'isSku': 0, 'cannotUseTime': None}, {'preRemind': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0, 'istop': 0, 'oriPrice': 0, 'waimaiChannel': None, 'description': '啊啊啊啊啊', 'mallGoodsCatagoryId': None, 'useTime': None, 'transientPrice': 0.0, 'relType': None, 'cwId': None, 'elemeSyncStatus': None, 'relBranchList': None, 'name': '多规格冗余测试', 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'cateName': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'name': None, 'printAdUrl': None, 'logoUrl': None, 'thirdAppId': None, 'createTime': None, 'printAdText': None, 'suffixShop': None, 'serial': None, 'id': 42, 'parent': None, 'fullName': None, 'phoneNumber': None, 'email': None}, 'dishCount': None, 'id': 26836, 'standardAllSku': None, 'delFlag': None, 'rank': None, 'outerId': None, 'createTime': None, 'soldAllCount': 8, 'business': None, 'status': 1, 'standardLowPrice': 1.0, 'standard': 2, 'branch': None, 'price': 0, 'soldCount': 0, 'syncStatus': 0, 'mallGoodsCate': {'delFlag': None, 'goodsAmount': 0, 'branchId': None, 'id': 259, 'name': None, 'goodsSoldOutAmount': 0, 'shop': None, 'oldName': None, 'orderNum': None}, 'lunchBoxCount': None, 'servicePhone': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'skuQuantity': None, 'rules': None, 'cateId': 0, 'shopId': None, 'hasActivity': 0, 'expirTime': None, 'goodsCopyId': None, 'isSku': 0, 'cannotUseTime': None}]}
2016-07-19 18:33:22,790 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:33:22,807 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:33:22,811 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:33:22,816 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:33:22,816 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 74, in test_plist_default    self.assertEqual(item[description], self.expected_result[goodsinfo][1][description], msg=商品描述读取错误)AssertionError: 接口测试专用，勿动 != 接口测试专用,勿动- 接口测试专用，勿动?       ^+ 接口测试专用,勿动?       ^ : 商品描述读取错误", protocol_method="post", runtime="2016-07-19 18:33:22" WHERE executed_history_id = 20160719183321 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:33:22,818 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:33:22,818 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:33:22" WHERE executed_history_id = 20160719183321 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:33:22,952 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:33:23,092 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:33:23,093 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:33:23,094 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:33:23,094 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183321',)
2016-07-19 18:33:23,095 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:33:23,095 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183321')
2016-07-19 18:33:23,096 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:33:23,096 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183321')
2016-07-19 18:33:23,097 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:33:23,097 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183321')
2016-07-19 18:33:23,098 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:33:23,098 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183321')
2016-07-19 18:33:23,100 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:33:23,100 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183321',)
2016-07-19 18:33:23,102 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:33:23,102 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183321')
2016-07-19 18:33:23,103 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:33:23,103 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:33:23,103 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183321',)
2016-07-19 18:33:23,104 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:33:23,104 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183321')
2016-07-19 18:33:23,106 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:33:23,106 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183321')
2016-07-19 18:33:23,107 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:33:23,108 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183321.html
2016-07-19 18:33:23,108 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:33:23,109 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:33:26,553 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183321.html
2016-07-19 18:33:26,553 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:33:26,553 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:34:01,147 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:34:01,160 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:34:01,166 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:34:01,215 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:34:01,215 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:34:01,216 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:34:01,216 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:34:01,217 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:34:01,219 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:34:01,220 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:34:01,374 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:34:01,374 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:34:01,376 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:34:01,376 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:34:01,523 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:34:01,661 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:34:01,661 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:34:01,784 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:34:02,064 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:34:02,065 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183401', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:34:02,066 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:34:02,066 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:34:02,066 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183401', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:34:02,068 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:34:02,068 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:34:02,068 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:34:02,068 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:34:02,136 wechatno.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'dishCount': None, 'business': None, 'standard': 1, 'id': 26189, 'price': 1000, 'soldAllCount': 185, 'shop': {'suffixShop': None, 'id': 42, 'email': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'servicePhone': None, 'delFlag': None, 'hasActivity': 0, 'description': '100', 'standardLowPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'waimaiChannel': None, 'soldCount': 179, 'shopId': None, 'outerId': None, 'expirTime': None, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'name': '插线板更名后', 'cateName': None, 'oriPrice': 0, 'istop': 0, 'status': 1, 'syncStatus': 0, 'lunchBoxCount': None, 'standardAllSku': None, 'useTime': None, 'transientPrice': 0.0, 'rules': None, 'standardTopPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'name': None}, 'baiduSyncStatus': None, 'transientOriPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'rank': None, 'skuQuantity': 89, 'branch': None, 'relType': None, 'meituanSyncStatus': None}, {'dishCount': None, 'business': None, 'standard': 1, 'id': 26188, 'price': 100000000, 'soldAllCount': 72, 'shop': {'suffixShop': None, 'id': 42, 'email': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'servicePhone': None, 'delFlag': None, 'hasActivity': 0, 'description': '阿斯达', 'standardLowPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'waimaiChannel': None, 'soldCount': 72, 'shopId': None, 'outerId': None, 'expirTime': None, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'name': '水淀粉', 'cateName': None, 'oriPrice': 0, 'istop': 0, 'status': 1, 'syncStatus': 0, 'lunchBoxCount': None, 'standardAllSku': None, 'useTime': None, 'transientPrice': 0.0, 'rules': None, 'standardTopPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'name': None}, 'baiduSyncStatus': None, 'transientOriPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'rank': None, 'skuQuantity': 9265759, 'branch': None, 'relType': None, 'meituanSyncStatus': None}, {'dishCount': None, 'business': None, 'standard': 2, 'id': 26839, 'price': 0, 'soldAllCount': 2, 'shop': {'suffixShop': None, 'id': 42, 'email': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'servicePhone': None, 'delFlag': None, 'hasActivity': 0, 'description': '接口测试专用,勿动', 'standardLowPrice': 0.01, 'cannotUseTime': None, 'cwId': None, 'waimaiChannel': None, 'soldCount': 0, 'shopId': None, 'outerId': None, 'expirTime': None, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'name': '接口-测试商品2', 'cateName': None, 'oriPrice': 0, 'istop': 0, 'status': 1, 'syncStatus': 0, 'lunchBoxCount': None, 'standardAllSku': None, 'useTime': None, 'transientPrice': 0.0, 'rules': None, 'standardTopPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'name': None}, 'baiduSyncStatus': None, 'transientOriPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'rank': None, 'skuQuantity': None, 'branch': None, 'relType': None, 'meituanSyncStatus': None}, {'dishCount': None, 'business': None, 'standard': 1, 'id': 26838, 'price': 1, 'soldAllCount': 0, 'shop': {'suffixShop': None, 'id': 42, 'email': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'servicePhone': None, 'delFlag': None, 'hasActivity': 0, 'description': '接口测试专用，烦请勿删，勿操作', 'standardLowPrice': 0.0, 'cannotUseTime': None, 'cwId': None, 'waimaiChannel': None, 'soldCount': 0, 'shopId': None, 'outerId': None, 'expirTime': None, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'name': '接口-测试商品1', 'cateName': None, 'oriPrice': 0, 'istop': 0, 'status': 1, 'syncStatus': 0, 'lunchBoxCount': None, 'standardAllSku': None, 'useTime': None, 'transientPrice': 0.0, 'rules': None, 'standardTopPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'name': None}, 'baiduSyncStatus': None, 'transientOriPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'rank': None, 'skuQuantity': 1000000, 'branch': None, 'relType': None, 'meituanSyncStatus': None}, {'dishCount': None, 'business': None, 'standard': 2, 'id': 26836, 'price': 0, 'soldAllCount': 8, 'shop': {'suffixShop': None, 'id': 42, 'email': None, 'printAdText': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'fullName': None, 'printAdUrl': None, 'phoneNumber': None, 'parent': None, 'name': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'servicePhone': None, 'delFlag': None, 'hasActivity': 0, 'description': '啊啊啊啊啊', 'standardLowPrice': 1.0, 'cannotUseTime': None, 'cwId': None, 'waimaiChannel': None, 'soldCount': 0, 'shopId': None, 'outerId': None, 'expirTime': None, 'relBranchList': None, 'cateId': 0, 'preRemind': None, 'mallGoodsStandards': None, 'detail': None, 'elemeSyncStatus': None, 'mallGoodsCatagoryId': None, 'name': '多规格冗余测试', 'cateName': None, 'oriPrice': 0, 'istop': 0, 'status': 1, 'syncStatus': 0, 'lunchBoxCount': None, 'standardAllSku': None, 'useTime': None, 'transientPrice': 0.0, 'rules': None, 'standardTopPrice': 0.0, 'createTime': None, 'mallGoodsCate': {'oldName': None, 'delFlag': None, 'id': 259, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'orderNum': None, 'goodsAmount': 0, 'name': None}, 'baiduSyncStatus': None, 'transientOriPrice': 0.0, 'isSku': 0, 'goodsCopyId': None, 'rank': None, 'skuQuantity': None, 'branch': None, 'relType': None, 'meituanSyncStatus': None}], 'pageInfo': {'totalRows': 5, 'currentPage': 1, 'pageSize': 10, 'params': None, 'pageStartRow': 0, 'hasPreviousPage': False, 'pagination': True, 'totalPages': 1, 'hasNextPage': False, 'pageEndRow': 5}}
2016-07-19 18:34:02,140 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:34:02,156 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:34:02,162 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:34:02,170 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:34:02,171 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 67, in test_plist_default    self.assertEqual(item[description], self.expected_result[goodsinfo][0][description], msg=商品描述读取错误)AssertionError: 接口测试专用，烦请勿删，勿操作 != 接口测试专用,烦请勿删,勿操作- 接口测试专用，烦请勿删，勿操作?       ^    ^+ 接口测试专用,烦请勿删,勿操作?       ^    ^ : 商品描述读取错误", protocol_method="post", runtime="2016-07-19 18:34:02" WHERE executed_history_id = 20160719183401 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:34:02,176 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:34:02,177 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:34:02" WHERE executed_history_id = 20160719183401 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:34:02,320 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:34:02,447 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:34:02,447 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:34:02,448 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:34:02,448 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183401',)
2016-07-19 18:34:02,449 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:34:02,449 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183401')
2016-07-19 18:34:02,450 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:34:02,450 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183401')
2016-07-19 18:34:02,451 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:34:02,451 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183401')
2016-07-19 18:34:02,452 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:34:02,452 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183401')
2016-07-19 18:34:02,453 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:34:02,453 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183401',)
2016-07-19 18:34:02,455 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:34:02,455 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183401')
2016-07-19 18:34:02,456 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:34:02,457 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:34:02,457 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183401',)
2016-07-19 18:34:02,458 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:34:02,458 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183401')
2016-07-19 18:34:02,459 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:34:02,460 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183401')
2016-07-19 18:34:02,461 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:34:02,461 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183401.html
2016-07-19 18:34:02,461 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:34:02,462 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:34:03,262 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183401.html
2016-07-19 18:34:03,262 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:34:03,263 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:34:34,304 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:34:34,317 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:34:34,323 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:34:34,376 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:34:34,377 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:34:34,379 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:34:34,379 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:34:34,380 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:34:34,382 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:34:34,382 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:34:34,511 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:34:34,512 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:34:34,512 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:34:34,513 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:34:34,636 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:34:34,757 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:34:34,758 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:34:34,889 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:34:35,148 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:34:35,149 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183434', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:34:35,150 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:34:35,150 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:34:35,151 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183434', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:34:35,152 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:34:35,152 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:34:35,152 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:34:35,152 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-19 18:34:35,212 wechatno.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'params': None, 'pageSize': 10, 'currentPage': 1, 'hasPreviousPage': False, 'totalRows': 5, 'hasNextPage': False, 'pageEndRow': 5, 'totalPages': 1, 'pageStartRow': 0, 'pagination': True}, 'dataList': [{'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsAmount': 0, 'name': None, 'id': 260, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'delFlag': None}, 'business': None, 'servicePhone': None, 'expirTime': None, 'transientPrice': 0.0, 'cateId': 0, 'shop': {'createTime': None, 'id': 42, 'serial': None, 'fullName': None, 'suffixShop': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'email': None, 'phoneNumber': None, 'name': None, 'parent': None, 'logoUrl': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'id': 26189, 'name': '插线板更名后', 'isSku': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'cateName': None, 'relType': None, 'status': 1, 'meituanSyncStatus': None, 'soldAllCount': 185, 'goodsCopyId': None, 'baiduSyncStatus': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'description': '100', 'rank': None, 'standard': 1, 'cannotUseTime': None, 'useTime': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'shopId': None, 'branch': None, 'preRemind': None, 'rules': None, 'syncStatus': 0, 'relBranchList': None, 'oriPrice': 0, 'hasActivity': 0, 'skuQuantity': 89, 'istop': 0, 'detail': None, 'mallGoodsStandards': None, 'outerId': None, 'price': 1000, 'waimaiChannel': None, 'lunchBoxCount': None, 'delFlag': None, 'soldCount': 179}, {'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsAmount': 0, 'name': None, 'id': 260, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'delFlag': None}, 'business': None, 'servicePhone': None, 'expirTime': None, 'transientPrice': 0.0, 'cateId': 0, 'shop': {'createTime': None, 'id': 42, 'serial': None, 'fullName': None, 'suffixShop': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'email': None, 'phoneNumber': None, 'name': None, 'parent': None, 'logoUrl': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'id': 26188, 'name': '水淀粉', 'isSku': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'cateName': None, 'relType': None, 'status': 1, 'meituanSyncStatus': None, 'soldAllCount': 72, 'goodsCopyId': None, 'baiduSyncStatus': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'description': '阿斯达', 'rank': None, 'standard': 1, 'cannotUseTime': None, 'useTime': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'shopId': None, 'branch': None, 'preRemind': None, 'rules': None, 'syncStatus': 0, 'relBranchList': None, 'oriPrice': 0, 'hasActivity': 0, 'skuQuantity': 9265759, 'istop': 0, 'detail': None, 'mallGoodsStandards': None, 'outerId': None, 'price': 100000000, 'waimaiChannel': None, 'lunchBoxCount': None, 'delFlag': None, 'soldCount': 72}, {'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsAmount': 0, 'name': None, 'id': 268, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'delFlag': None}, 'business': None, 'servicePhone': None, 'expirTime': None, 'transientPrice': 0.0, 'cateId': 0, 'shop': {'createTime': None, 'id': 42, 'serial': None, 'fullName': None, 'suffixShop': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'email': None, 'phoneNumber': None, 'name': None, 'parent': None, 'logoUrl': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'id': 26839, 'name': '接口-测试商品2', 'isSku': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'cateName': None, 'relType': None, 'status': 1, 'meituanSyncStatus': None, 'soldAllCount': 2, 'goodsCopyId': None, 'baiduSyncStatus': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'description': '接口测试专用,勿动', 'rank': None, 'standard': 2, 'cannotUseTime': None, 'useTime': None, 'standardLowPrice': 0.01, 'transientOriPrice': 0.0, 'shopId': None, 'branch': None, 'preRemind': None, 'rules': None, 'syncStatus': 0, 'relBranchList': None, 'oriPrice': 0, 'hasActivity': 0, 'skuQuantity': None, 'istop': 0, 'detail': None, 'mallGoodsStandards': None, 'outerId': None, 'price': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'delFlag': None, 'soldCount': 0}, {'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsAmount': 0, 'name': None, 'id': 268, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'delFlag': None}, 'business': None, 'servicePhone': None, 'expirTime': None, 'transientPrice': 0.0, 'cateId': 0, 'shop': {'createTime': None, 'id': 42, 'serial': None, 'fullName': None, 'suffixShop': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'email': None, 'phoneNumber': None, 'name': None, 'parent': None, 'logoUrl': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'id': 26838, 'name': '接口-测试商品1', 'isSku': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'cateName': None, 'relType': None, 'status': 1, 'meituanSyncStatus': None, 'soldAllCount': 0, 'goodsCopyId': None, 'baiduSyncStatus': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'description': '接口测试专用，烦请勿删，勿操作', 'rank': None, 'standard': 1, 'cannotUseTime': None, 'useTime': None, 'standardLowPrice': 0.0, 'transientOriPrice': 0.0, 'shopId': None, 'branch': None, 'preRemind': None, 'rules': None, 'syncStatus': 0, 'relBranchList': None, 'oriPrice': 0, 'hasActivity': 0, 'skuQuantity': 1000000, 'istop': 0, 'detail': None, 'mallGoodsStandards': None, 'outerId': None, 'price': 1, 'waimaiChannel': None, 'lunchBoxCount': None, 'delFlag': None, 'soldCount': 0}, {'mallGoodsCate': {'oldName': None, 'orderNum': None, 'goodsAmount': 0, 'name': None, 'id': 259, 'shop': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'delFlag': None}, 'business': None, 'servicePhone': None, 'expirTime': None, 'transientPrice': 0.0, 'cateId': 0, 'shop': {'createTime': None, 'id': 42, 'serial': None, 'fullName': None, 'suffixShop': None, 'thirdAppId': None, 'printAdUrl': None, 'printAdText': None, 'email': None, 'phoneNumber': None, 'name': None, 'parent': None, 'logoUrl': None}, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'id': 26836, 'name': '多规格冗余测试', 'isSku': 0, 'mallGoodsCatagoryId': None, 'cwId': None, 'createTime': None, 'dishCount': None, 'standardAllSku': None, 'cateName': None, 'relType': None, 'status': 1, 'meituanSyncStatus': None, 'soldAllCount': 8, 'goodsCopyId': None, 'baiduSyncStatus': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'description': '啊啊啊啊啊', 'rank': None, 'standard': 2, 'cannotUseTime': None, 'useTime': None, 'standardLowPrice': 1.0, 'transientOriPrice': 0.0, 'shopId': None, 'branch': None, 'preRemind': None, 'rules': None, 'syncStatus': 0, 'relBranchList': None, 'oriPrice': 0, 'hasActivity': 0, 'skuQuantity': None, 'istop': 0, 'detail': None, 'mallGoodsStandards': None, 'outerId': None, 'price': 0, 'waimaiChannel': None, 'lunchBoxCount': None, 'delFlag': None, 'soldCount': 0}]}
2016-07-19 18:34:35,214 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-19 18:34:35,230 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-19 18:34:35,235 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-19 18:34:35,240 testcase.py[line: 83] INFO: 步骤[1]执行失败,停止执行用例[id=76, name=test-n-显示默认页面]
2016-07-19 18:34:35,241 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Fail",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno.py, line 67, in test_plist_default    self.assertEqual(item[description], self.expected_result[goodsinfo][0][description], msg=商品描述读取错误)AssertionError: 接口测试专用，烦请勿删，勿操作 != 接口测试专用,烦请勿删,勿操作- 接口测试专用，烦请勿删，勿操作?       ^    ^+ 接口测试专用,烦请勿删,勿操作?       ^    ^ : 商品描述读取错误", protocol_method="post", runtime="2016-07-19 18:34:35" WHERE executed_history_id = 20160719183434 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:34:35,245 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-19 18:34:35,245 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Fail", runtime="2016-07-19 18:34:35" WHERE executed_history_id = 20160719183434 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-19 18:34:35,453 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-19 18:34:35,636 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-19 18:34:35,636 main.py[line: 228] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-19 18:34:35,637 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-19 18:34:35,638 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160719183434',)
2016-07-19 18:34:35,639 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-19 18:34:35,639 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160719183434')
2016-07-19 18:34:35,640 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-19 18:34:35,640 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160719183434')
2016-07-19 18:34:35,641 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-19 18:34:35,642 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160719183434')
2016-07-19 18:34:35,643 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-19 18:34:35,643 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160719183434')
2016-07-19 18:34:35,644 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-19 18:34:35,644 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183434',)
2016-07-19 18:34:35,645 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-19 18:34:35,646 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183434')
2016-07-19 18:34:35,647 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-19 18:34:35,647 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-19 18:34:35,647 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160719183434',)
2016-07-19 18:34:35,648 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-19 18:34:35,648 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160719183434')
2016-07-19 18:34:35,650 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-19 18:34:35,650 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160719183434')
2016-07-19 18:34:35,652 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-19 18:34:35,652 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160719183434.html
2016-07-19 18:34:35,652 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-19 18:34:35,667 main.py[line: 250] INFO: 生成测试报告成功
2016-07-19 18:34:36,328 main.py[line: 257] INFO: E:\\Projects\\report\\test_report20160719183434.html
2016-07-19 18:34:36,328 main.py[line: 260] INFO: 正在发送测试报告邮件...
2016-07-19 18:34:36,328 main.py[line: 264] INFO: 发送邮件成功
2016-07-19 18:35:17,506 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-19 18:35:17,517 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-19 18:35:17,522 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-19 18:35:17,568 main.py[line: 59] INFO: 正在创建测试用例报告报表
2016-07-19 18:35:17,569 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-19 18:35:17,570 main.py[line: 62] INFO: 正在创建测试步骤报告报表
2016-07-19 18:35:17,570 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-19 18:35:17,571 main.py[line: 65] INFO: 正在读取运行模式配置
2016-07-19 18:35:17,573 main.py[line: 70] INFO: 按项目运行测试
2016-07-19 18:35:17,573 main.py[line: 106] INFO: 运行指定项目
2016-07-19 18:35:17,706 main.py[line: 122] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-19 18:35:17,707 main.py[line: 125] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-19 18:35:17,708 main.py[line: 141] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-19 18:35:17,709 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-19 18:35:17,825 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-19 18:35:17,972 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-19 18:35:17,973 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-19 18:35:18,115 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76'])
2016-07-19 18:35:18,390 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-19 18:35:18,390 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183517', 76, 'test-n-显示默认页面', '显示微商城商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-19 18:35:18,392 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-19 18:35:18,392 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-19 18:35:18,393 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160719183517', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-19 18:35:18,394 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-19 18:35:18,394 casestep.py[line: 59] INFO: 调用的方法为：PList.test_plist_default
2016-07-19 18:35:18,394 wechatno.py[line: 26] INFO: 正在发起POST请求...
2016-07-19 18:35:18,394 httpprotocol.py[line: 64] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
