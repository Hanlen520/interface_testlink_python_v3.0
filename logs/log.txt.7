2016-07-20 15:47:02,399 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:02,401 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:02,403 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:47:02,404 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:02,404 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:47:02,406 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:02,406 casestep.py[line: 62] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:47:02,407 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:47:02,407 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 15:47:02,558 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:47:02,558 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:02,559 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:47:02" WHERE executed_history_id = 20160720154700 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:02,561 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:47:02,561 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:02,561 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:02" WHERE executed_history_id = 20160720154700 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:02,693 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:47:03,111 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:03,112 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:03,114 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:47:03,114 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:03,114 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:47:03,115 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:03,115 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:47:03,115 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:03,121 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:47:03,126 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:03,129 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:47:03,130 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:47:03,325 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'success': True, 'attach': None}
2016-07-20 15:47:03,326 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:47:03,331 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:03,331 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:03" WHERE executed_history_id = 20160720154700 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:03,333 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 15:47:03,334 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:03,334 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:03" WHERE executed_history_id = 20160720154700 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:03,471 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:47:03,820 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:03,820 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:03,821 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:47:03,821 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:03,821 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:47:03,822 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:03,823 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:47:03,823 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:03,826 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:47:03,981 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:03,986 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:47:03,987 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:47:04,143 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'success': True, 'attach': None}
2016-07-20 15:47:04,144 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:47:04,147 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:04,147 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:03" WHERE executed_history_id = 20160720154700 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:04,152 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:04,152 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154700', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:47:04,153 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 15:47:04,154 casestep.py[line: 62] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 15:47:04,154 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 15:47:04,154 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 15:47:04,367 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'message': None, 'success': True, 'attach': None}
2016-07-20 15:47:04,367 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15763,)
2016-07-20 15:47:04,373 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=93, name=test-n-把商品移出购物车]
2016-07-20 15:47:04,373 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 15:47:04,373 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 163, in test_del_from_cart    self.assertEqual(len(result), None, msg =实际未删除购物车记录)TypeError: object of type NoneType has no len()", protocol_method="get", runtime="2016-07-20 15:47:04" WHERE executed_history_id = 20160720154700 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:04,375 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:04,375 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 15:47:03" WHERE executed_history_id = 20160720154700 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:04,498 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:47:04,618 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:47:04,618 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:47:04,619 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:47:04,619 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720154700',)
2016-07-20 15:47:04,622 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:47:04,622 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720154700')
2016-07-20 15:47:04,623 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:47:04,623 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720154700')
2016-07-20 15:47:04,624 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:47:04,624 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720154700')
2016-07-20 15:47:04,625 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:47:04,625 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720154700')
2016-07-20 15:47:04,626 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:47:04,626 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154700',)
2016-07-20 15:47:04,628 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:47:04,628 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154700')
2016-07-20 15:47:04,630 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:47:04,631 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:47:04,631 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154700',)
2016-07-20 15:47:04,633 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:47:04,634 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154700')
2016-07-20 15:47:04,636 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:47:04,636 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720154700')
2016-07-20 15:47:04,638 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:47:04,638 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720154700')
2016-07-20 15:47:04,639 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:47:04,640 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720154700')
2016-07-20 15:47:04,641 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:47:04,641 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720154700')
2016-07-20 15:47:04,643 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:47:04,643 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720154700.html
2016-07-20 15:47:04,643 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:47:04,645 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:47:04,854 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720154700.html
2016-07-20 15:47:04,855 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:47:04,856 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 15:47:13,743 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 15:47:13,753 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 15:47:13,759 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 15:47:13,802 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 15:47:13,802 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 15:47:13,803 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 15:47:13,803 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 15:47:13,804 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 15:47:13,806 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 15:47:13,806 main.py[line: 107] INFO: 运行指定项目
2016-07-20 15:47:13,969 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 15:47:13,970 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 15:47:13,971 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 15:47:13,971 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 15:47:14,100 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 15:47:14,219 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 15:47:14,219 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 15:47:14,340 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76', '93', '88'])
2016-07-20 15:47:14,662 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:14,662 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:14,663 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 15:47:14,664 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:14,664 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 15:47:14,665 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:14,665 casestep.py[line: 62] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 15:47:14,665 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 15:47:14,666 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 15:47:14,856 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 15:47:14,857 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:14,858 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:47:14" WHERE executed_history_id = 20160720154713 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:14,868 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 15:47:14,868 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:14,869 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:14" WHERE executed_history_id = 20160720154713 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:15,015 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 15:47:15,391 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:15,391 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:15,393 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 15:47:15,393 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:15,393 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 15:47:15,395 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:15,395 casestep.py[line: 62] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 15:47:15,395 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 15:47:15,395 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 15:47:15,447 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'pageInfo': {'pageStartRow': 0, 'hasPreviousPage': False, 'params': None, 'pagination': True, 'currentPage': 1, 'totalRows': 5, 'pageSize': 10, 'hasNextPage': False, 'totalPages': 1, 'pageEndRow': 5}, 'dataList': [{'id': 26189, 'shopId': None, 'rules': None, 'hasActivity': 0, 'cannotUseTime': None, 'soldCount': 268, 'goodsCopyId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'mallGoodsCate': {'id': 260, 'name': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'orderNum': None, 'shop': None, 'delFlag': None, 'goodsAmount': 0}, 'cateName': None, 'skuQuantity': 0, 'meituanSyncStatus': None, 'name': '插线板更名后', 'description': '100', 'oriPrice': 0, 'transientOriPrice': 0.0, 'dishCount': None, 'createTime': None, 'istop': 0, 'elemeSyncStatus': None, 'outerId': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'id': 42, 'serial': None, 'suffixShop': None, 'phoneNumber': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'createTime': None, 'printAdText': None, 'logoUrl': None, 'parent': None, 'printAdUrl': None}, 'isSku': 0, 'expirTime': None, 'price': 1000, 'syncStatus': 0, 'relBranchList': None, 'delFlag': None, 'baiduSyncStatus': None, 'servicePhone': None, 'cateId': 0, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'cwId': None, 'transientPrice': 0.0, 'relType': None, 'useTime': None, 'standard': 1, 'branch': None, 'standardAllSku': None, 'preRemind': None, 'lunchBoxCount': None, 'soldAllCount': 274, 'rank': None}, {'id': 26188, 'shopId': None, 'rules': None, 'hasActivity': 0, 'cannotUseTime': None, 'soldCount': 72, 'goodsCopyId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'mallGoodsCate': {'id': 260, 'name': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'orderNum': None, 'shop': None, 'delFlag': None, 'goodsAmount': 0}, 'cateName': None, 'skuQuantity': 9265759, 'meituanSyncStatus': None, 'name': '水淀粉', 'description': '阿斯达', 'oriPrice': 0, 'transientOriPrice': 0.0, 'dishCount': None, 'createTime': None, 'istop': 0, 'elemeSyncStatus': None, 'outerId': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'id': 42, 'serial': None, 'suffixShop': None, 'phoneNumber': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'createTime': None, 'printAdText': None, 'logoUrl': None, 'parent': None, 'printAdUrl': None}, 'isSku': 0, 'expirTime': None, 'price': 100000000, 'syncStatus': 0, 'relBranchList': None, 'delFlag': None, 'baiduSyncStatus': None, 'servicePhone': None, 'cateId': 0, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'cwId': None, 'transientPrice': 0.0, 'relType': None, 'useTime': None, 'standard': 1, 'branch': None, 'standardAllSku': None, 'preRemind': None, 'lunchBoxCount': None, 'soldAllCount': 72, 'rank': None}, {'id': 26839, 'shopId': None, 'rules': None, 'hasActivity': 0, 'cannotUseTime': None, 'soldCount': 0, 'goodsCopyId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'mallGoodsCate': {'id': 268, 'name': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'orderNum': None, 'shop': None, 'delFlag': None, 'goodsAmount': 0}, 'cateName': None, 'skuQuantity': None, 'meituanSyncStatus': None, 'name': '接口-测试商品2', 'description': '接口测试专用,勿动', 'oriPrice': 0, 'transientOriPrice': 0.0, 'dishCount': None, 'createTime': None, 'istop': 0, 'elemeSyncStatus': None, 'outerId': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'id': 42, 'serial': None, 'suffixShop': None, 'phoneNumber': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'createTime': None, 'printAdText': None, 'logoUrl': None, 'parent': None, 'printAdUrl': None}, 'isSku': 0, 'expirTime': None, 'price': 0, 'syncStatus': 0, 'relBranchList': None, 'delFlag': None, 'baiduSyncStatus': None, 'servicePhone': None, 'cateId': 0, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'standardLowPrice': 0.01, 'status': 1, 'business': None, 'cwId': None, 'transientPrice': 0.0, 'relType': None, 'useTime': None, 'standard': 2, 'branch': None, 'standardAllSku': None, 'preRemind': None, 'lunchBoxCount': None, 'soldAllCount': 31, 'rank': None}, {'id': 26838, 'shopId': None, 'rules': None, 'hasActivity': 0, 'cannotUseTime': None, 'soldCount': 5, 'goodsCopyId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'mallGoodsCate': {'id': 268, 'name': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'orderNum': None, 'shop': None, 'delFlag': None, 'goodsAmount': 0}, 'cateName': None, 'skuQuantity': 999995, 'meituanSyncStatus': None, 'name': '接口-测试商品1', 'description': '接口测试专用,烦请勿删,勿操作', 'oriPrice': 0, 'transientOriPrice': 0.0, 'dishCount': None, 'createTime': None, 'istop': 0, 'elemeSyncStatus': None, 'outerId': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'id': 42, 'serial': None, 'suffixShop': None, 'phoneNumber': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'createTime': None, 'printAdText': None, 'logoUrl': None, 'parent': None, 'printAdUrl': None}, 'isSku': 0, 'expirTime': None, 'price': 1, 'syncStatus': 0, 'relBranchList': None, 'delFlag': None, 'baiduSyncStatus': None, 'servicePhone': None, 'cateId': 0, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'standardLowPrice': 0.0, 'status': 1, 'business': None, 'cwId': None, 'transientPrice': 0.0, 'relType': None, 'useTime': None, 'standard': 1, 'branch': None, 'standardAllSku': None, 'preRemind': None, 'lunchBoxCount': None, 'soldAllCount': 5, 'rank': None}, {'id': 26836, 'shopId': None, 'rules': None, 'hasActivity': 0, 'cannotUseTime': None, 'soldCount': 0, 'goodsCopyId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'mallGoodsCate': {'id': 259, 'name': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'oldName': None, 'orderNum': None, 'shop': None, 'delFlag': None, 'goodsAmount': 0}, 'cateName': None, 'skuQuantity': None, 'meituanSyncStatus': None, 'name': '多规格冗余测试', 'description': '啊啊啊啊啊', 'oriPrice': 0, 'transientOriPrice': 0.0, 'dishCount': None, 'createTime': None, 'istop': 0, 'elemeSyncStatus': None, 'outerId': None, 'detail': None, 'mallGoodsStandards': None, 'shop': {'id': 42, 'serial': None, 'suffixShop': None, 'phoneNumber': None, 'thirdAppId': None, 'fullName': None, 'name': None, 'email': None, 'createTime': None, 'printAdText': None, 'logoUrl': None, 'parent': None, 'printAdUrl': None}, 'isSku': 0, 'expirTime': None, 'price': 0, 'syncStatus': 0, 'relBranchList': None, 'delFlag': None, 'baiduSyncStatus': None, 'servicePhone': None, 'cateId': 0, 'standardTopPrice': 0.0, 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'standardLowPrice': 1.0, 'status': 1, 'business': None, 'cwId': None, 'transientPrice': 0.0, 'relType': None, 'useTime': None, 'standard': 2, 'branch': None, 'standardAllSku': None, 'preRemind': None, 'lunchBoxCount': None, 'soldAllCount': 9, 'rank': None}]}
2016-07-20 15:47:15,447 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 15:47:15,462 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 15:47:15,465 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 15:47:15,468 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:15,468 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:15" WHERE executed_history_id = 20160720154713 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:15,470 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 15:47:15,471 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:15,471 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:15" WHERE executed_history_id = 20160720154713 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:15,610 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 15:47:15,964 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:15,965 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:15,966 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 15:47:15,967 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:15,967 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:47:15,968 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:15,968 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:47:15,968 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:15,972 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:47:15,975 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:15,978 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:47:15,978 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:47:16,078 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 15:47:16,079 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:47:16,099 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:16,099 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:15" WHERE executed_history_id = 20160720154713 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:16,102 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:16,102 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 15:47:16,104 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 15:47:16,104 casestep.py[line: 62] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 15:47:16,104 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 15:47:16,104 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 15:47:16,186 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 15:47:16,186 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15764,)
2016-07-20 15:47:16,190 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:16,190 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 15:47:16" WHERE executed_history_id = 20160720154713 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:16,192 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 15:47:16,193 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:16,193 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:15" WHERE executed_history_id = 20160720154713 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:16,345 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 15:47:16,783 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 15:47:16,783 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 15:47:16,784 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 15:47:16,784 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 15:47:16,784 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720154713', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 15:47:16,785 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 15:47:16,785 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 15:47:16,785 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:16,790 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 15:47:16,794 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 15:47:16,797 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 15:47:16,798 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 15:47:16,961 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 15:47:16,962 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 15:47:16,967 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 15:47:16,968 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 15:47:16" WHERE executed_history_id = 20160720154713 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:16,972 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 15:47:16,972 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 15:47:16,972 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 15:47:16" WHERE executed_history_id = 20160720154713 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 15:47:17,107 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 15:47:17,219 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 15:47:17,220 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 15:47:17,220 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 15:47:17,220 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720154713',)
2016-07-20 15:47:17,222 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 15:47:17,222 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720154713')
2016-07-20 15:47:17,223 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 15:47:17,223 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720154713')
2016-07-20 15:47:17,224 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 15:47:17,224 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720154713')
2016-07-20 15:47:17,225 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 15:47:17,226 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720154713')
2016-07-20 15:47:17,227 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 15:47:17,227 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154713',)
2016-07-20 15:47:17,228 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 15:47:17,229 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154713')
2016-07-20 15:47:17,230 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 15:47:17,231 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 15:47:17,231 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720154713',)
2016-07-20 15:47:17,232 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 15:47:17,232 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720154713')
2016-07-20 15:47:17,234 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 15:47:17,234 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720154713')
2016-07-20 15:47:17,236 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 15:47:17,236 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720154713')
2016-07-20 15:47:17,239 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 15:47:17,239 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720154713')
2016-07-20 15:47:17,241 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 15:47:17,241 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720154713')
2016-07-20 15:47:17,243 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 15:47:17,243 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720154713.html
2016-07-20 15:47:17,243 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 15:47:17,245 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 15:47:17,449 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720154713.html
2016-07-20 15:47:17,449 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 15:47:17,450 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:09:46,902 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:09:46,912 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:09:46,920 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:09:46,965 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:09:46,965 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:09:46,966 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:09:46,966 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:09:46,968 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:09:46,969 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 16:09:46,969 main.py[line: 107] INFO: 运行指定项目
2016-07-20 16:09:47,119 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 16:09:47,119 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 16:09:47,120 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 16:09:47,121 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 16:09:47,258 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 16:09:47,373 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 16:09:47,373 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 16:09:47,492 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['98', '93', '80', '76', '88'])
2016-07-20 16:09:47,741 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:09:47,741 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720160946', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:09:47,743 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:09:47,744 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:09:47,744 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720160946', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:09:47,745 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:09:47,745 casestep.py[line: 62] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:09:47,745 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:09:47,749 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:09:47,841 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:09:47,846 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:09:47,847 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:09:48,034 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 16:09:48,035 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:09:48,039 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:09:48,039 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:09:47" WHERE executed_history_id = 20160720160946 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:09:48,043 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:09:48,043 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720160946', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":"2","goodsID":26838}', 'Block', '', '')
2016-07-20 16:09:48,046 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:09:48,046 casestep.py[line: 62] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:10:10,835 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:10:10,844 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:10:10,849 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:10:10,888 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:10:10,888 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:10:10,889 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:10:10,890 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:10:10,890 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:10:10,892 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 16:10:10,892 main.py[line: 107] INFO: 运行指定项目
2016-07-20 16:10:11,011 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 16:10:11,012 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 16:10:11,012 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 16:10:11,013 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 16:10:11,136 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 16:10:11,244 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 16:10:11,244 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 16:10:11,362 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '93', '88', '80', '98'])
2016-07-20 16:10:11,623 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:11,623 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:11,624 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 16:10:11,625 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:11,625 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 16:10:11,626 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:11,626 casestep.py[line: 63] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 16:10:11,626 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 16:10:11,626 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 16:10:11,682 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'mallGoodsCate': {'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'delFlag': None, 'oldName': None, 'orderNum': None, 'id': 260, 'goodsAmount': 0}, 'cannotUseTime': None, 'soldCount': 268, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'id': 26189, 'waimaiChannel': None, 'skuQuantity': 0, 'transientOriPrice': 0.0, 'expirTime': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'parent': None, 'name': None, 'suffixShop': None, 'fullName': None, 'phoneNumber': None, 'serial': None}, 'rank': None, 'oriPrice': 0, 'standardLowPrice': 0.0, 'transientPrice': 0.0, 'dishCount': None, 'mallGoodsStandards': None, 'shopId': None, 'lunchBoxCount': None, 'rules': None, 'standardAllSku': None, 'isSku': 0, 'status': 1, 'useTime': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'description': '100', 'servicePhone': None, 'createTime': None, 'price': 1000, 'relBranchList': None, 'branch': None, 'hasActivity': 0, 'name': '插线板更名后', 'syncStatus': 0, 'cateId': 0, 'istop': 0, 'detail': None, 'relType': None, 'outerId': None, 'soldAllCount': 274, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'preRemind': None, 'goodsCopyId': None, 'elemeSyncStatus': None, 'cwId': None}, {'mallGoodsCate': {'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'delFlag': None, 'oldName': None, 'orderNum': None, 'id': 260, 'goodsAmount': 0}, 'cannotUseTime': None, 'soldCount': 72, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'id': 26188, 'waimaiChannel': None, 'skuQuantity': 9265759, 'transientOriPrice': 0.0, 'expirTime': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'parent': None, 'name': None, 'suffixShop': None, 'fullName': None, 'phoneNumber': None, 'serial': None}, 'rank': None, 'oriPrice': 0, 'standardLowPrice': 0.0, 'transientPrice': 0.0, 'dishCount': None, 'mallGoodsStandards': None, 'shopId': None, 'lunchBoxCount': None, 'rules': None, 'standardAllSku': None, 'isSku': 0, 'status': 1, 'useTime': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'description': '阿斯达', 'servicePhone': None, 'createTime': None, 'price': 100000000, 'relBranchList': None, 'branch': None, 'hasActivity': 0, 'name': '水淀粉', 'syncStatus': 0, 'cateId': 0, 'istop': 0, 'detail': None, 'relType': None, 'outerId': None, 'soldAllCount': 72, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'preRemind': None, 'goodsCopyId': None, 'elemeSyncStatus': None, 'cwId': None}, {'mallGoodsCate': {'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'delFlag': None, 'oldName': None, 'orderNum': None, 'id': 268, 'goodsAmount': 0}, 'cannotUseTime': None, 'soldCount': 0, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'id': 26839, 'waimaiChannel': None, 'skuQuantity': None, 'transientOriPrice': 0.0, 'expirTime': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'parent': None, 'name': None, 'suffixShop': None, 'fullName': None, 'phoneNumber': None, 'serial': None}, 'rank': None, 'oriPrice': 0, 'standardLowPrice': 0.01, 'transientPrice': 0.0, 'dishCount': None, 'mallGoodsStandards': None, 'shopId': None, 'lunchBoxCount': None, 'rules': None, 'standardAllSku': None, 'isSku': 0, 'status': 1, 'useTime': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'description': '接口测试专用,勿动', 'servicePhone': None, 'createTime': None, 'price': 0, 'relBranchList': None, 'branch': None, 'hasActivity': 0, 'name': '接口-测试商品2', 'syncStatus': 0, 'cateId': 0, 'istop': 0, 'detail': None, 'relType': None, 'outerId': None, 'soldAllCount': 31, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'standard': 2, 'cateName': None, 'meituanSyncStatus': None, 'preRemind': None, 'goodsCopyId': None, 'elemeSyncStatus': None, 'cwId': None}, {'mallGoodsCate': {'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'delFlag': None, 'oldName': None, 'orderNum': None, 'id': 268, 'goodsAmount': 0}, 'cannotUseTime': None, 'soldCount': 5, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'id': 26838, 'waimaiChannel': None, 'skuQuantity': 999995, 'transientOriPrice': 0.0, 'expirTime': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'parent': None, 'name': None, 'suffixShop': None, 'fullName': None, 'phoneNumber': None, 'serial': None}, 'rank': None, 'oriPrice': 0, 'standardLowPrice': 0.0, 'transientPrice': 0.0, 'dishCount': None, 'mallGoodsStandards': None, 'shopId': None, 'lunchBoxCount': None, 'rules': None, 'standardAllSku': None, 'isSku': 0, 'status': 1, 'useTime': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'description': '接口测试专用,烦请勿删,勿操作', 'servicePhone': None, 'createTime': None, 'price': 1, 'relBranchList': None, 'branch': None, 'hasActivity': 0, 'name': '接口-测试商品1', 'syncStatus': 0, 'cateId': 0, 'istop': 0, 'detail': None, 'relType': None, 'outerId': None, 'soldAllCount': 5, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'standard': 1, 'cateName': None, 'meituanSyncStatus': None, 'preRemind': None, 'goodsCopyId': None, 'elemeSyncStatus': None, 'cwId': None}, {'mallGoodsCate': {'name': None, 'goodsSoldOutAmount': 0, 'branchId': None, 'shop': None, 'delFlag': None, 'oldName': None, 'orderNum': None, 'id': 259, 'goodsAmount': 0}, 'cannotUseTime': None, 'soldCount': 0, 'standardTopPrice': 0.0, 'baiduSyncStatus': None, 'id': 26836, 'waimaiChannel': None, 'skuQuantity': None, 'transientOriPrice': 0.0, 'expirTime': None, 'shop': {'printAdText': None, 'email': None, 'id': 42, 'printAdUrl': None, 'createTime': None, 'logoUrl': None, 'thirdAppId': None, 'parent': None, 'name': None, 'suffixShop': None, 'fullName': None, 'phoneNumber': None, 'serial': None}, 'rank': None, 'oriPrice': 0, 'standardLowPrice': 1.0, 'transientPrice': 0.0, 'dishCount': None, 'mallGoodsStandards': None, 'shopId': None, 'lunchBoxCount': None, 'rules': None, 'standardAllSku': None, 'isSku': 0, 'status': 1, 'useTime': None, 'delFlag': None, 'mallGoodsCatagoryId': None, 'description': '啊啊啊啊啊', 'servicePhone': None, 'createTime': None, 'price': 0, 'relBranchList': None, 'branch': None, 'hasActivity': 0, 'name': '多规格冗余测试', 'syncStatus': 0, 'cateId': 0, 'istop': 0, 'detail': None, 'relType': None, 'outerId': None, 'soldAllCount': 9, 'business': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'standard': 2, 'cateName': None, 'meituanSyncStatus': None, 'preRemind': None, 'goodsCopyId': None, 'elemeSyncStatus': None, 'cwId': None}], 'pageInfo': {'totalRows': 5, 'currentPage': 1, 'pageSize': 10, 'params': None, 'pagination': True, 'pageEndRow': 5, 'hasPreviousPage': False, 'totalPages': 1, 'pageStartRow': 0, 'hasNextPage': False}}
2016-07-20 16:10:11,683 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 16:10:11,697 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 16:10:11,700 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 16:10:11,704 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:11,705 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:11" WHERE executed_history_id = 20160720161010 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:11,706 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 16:10:11,707 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:11,707 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:11" WHERE executed_history_id = 20160720161010 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:11,822 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 16:10:12,215 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:12,215 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:12,217 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 16:10:12,217 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:12,217 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:12,218 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:12,218 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:12,218 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:12,220 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:12,371 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:12,376 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:12,377 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:12,539 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 16:10:12,539 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:12,543 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:12,543 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:12" WHERE executed_history_id = 20160720161010 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:12,545 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:12,545 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 16:10:12,547 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:10:12,547 casestep.py[line: 63] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 16:10:12,547 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 16:10:12,547 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 16:10:12,816 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 16:10:12,816 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15765,)
2016-07-20 16:10:12,821 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:12,822 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:10:12" WHERE executed_history_id = 20160720161010 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:12,830 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 16:10:12,831 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:12,831 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:12" WHERE executed_history_id = 20160720161010 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:12,996 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 16:10:13,393 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:13,393 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:13,395 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 16:10:13,395 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:13,395 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:13,397 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:13,397 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:13,397 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:13,402 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:13,407 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:13,411 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:13,411 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:13,691 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 16:10:13,691 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:13,696 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:13,696 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:13" WHERE executed_history_id = 20160720161010 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:13,698 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 16:10:13,699 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:13,699 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:13" WHERE executed_history_id = 20160720161010 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:13,819 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 16:10:14,175 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:14,175 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:14,176 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 16:10:14,177 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:14,177 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 16:10:14,178 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:14,178 casestep.py[line: 63] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 16:10:14,178 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 16:10:14,178 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 16:10:14,340 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 16:10:14,341 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:14,342 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:10:14" WHERE executed_history_id = 20160720161010 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:14,351 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 16:10:14,352 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:14,352 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:14" WHERE executed_history_id = 20160720161010 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:14,544 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 16:10:14,887 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:14,887 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:14,888 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:10:14,888 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:14,889 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:14,890 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:14,890 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:14,890 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:14,892 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:15,068 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:15,072 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:15,072 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:15,220 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 16:10:15,221 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:15,259 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:15,259 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:14" WHERE executed_history_id = 20160720161010 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:15,267 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:15,268 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161010', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":"2","goodsID":26838}', 'Block', '', '')
2016-07-20 16:10:15,272 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:10:15,272 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:10:15,273 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:10:15,274 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:10:15,291 wechatno_wemall.py[line: 176] INFO: 正在解析返回结果:b'[{"id":15766,"customer":null,"mallGoods":{"id":26838,"name":"\xe6\x8e\xa5\xe5\x8f\xa3-\xe6\xb5\x8b\xe8\xaf\x95\xe5\x95\x86\xe5\x93\x811","price":1,"oriPrice":0,"description":"\xe6\x8e\xa5\xe5\x8f\xa3\xe6\xb5\x8b\xe8\xaf\x95\xe4\xb8\x93\xe7\x94\xa8,\xe7\x83\xa6\xe8\xaf\xb7\xe5\x8b\xbf\xe5\x88\xa0,\xe5\x8b\xbf\xe6\x93\x8d\xe4\xbd\x9c","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,","shop":null,"shopId":null,"mallGoodsCate":null,"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},"mallGoodsStandard":null,"amount":2,"shop":null,"shopBranchId":null,"closed":null,"cateringType":null}]'
2016-07-20 16:10:15,292 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:10:15,292 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:10:15,293 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 179, in test_view_cart_list    self.assertEqual(response[amount], self.expected_result[amount], msg=购物车中商品总数错误)TypeError: byte indices must be integers, not str", protocol_method="get", runtime="2016-07-20 16:10:15" WHERE executed_history_id = 20160720161010 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:15,296 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:15,297 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:10:14" WHERE executed_history_id = 20160720161010 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:15,427 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 16:10:15,595 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 16:10:15,595 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:10:15,596 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:10:15,596 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161010',)
2016-07-20 16:10:15,597 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:10:15,597 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161010')
2016-07-20 16:10:15,598 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:10:15,598 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161010')
2016-07-20 16:10:15,599 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:10:15,599 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161010')
2016-07-20 16:10:15,600 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:10:15,600 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161010')
2016-07-20 16:10:15,601 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:10:15,601 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161010',)
2016-07-20 16:10:15,602 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 16:10:15,603 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720161010')
2016-07-20 16:10:15,604 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 16:10:15,604 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:10:15,604 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161010',)
2016-07-20 16:10:15,606 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 16:10:15,606 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720161010')
2016-07-20 16:10:15,607 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 16:10:15,607 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720161010')
2016-07-20 16:10:15,609 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 16:10:15,609 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720161010')
2016-07-20 16:10:15,610 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 16:10:15,611 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720161010')
2016-07-20 16:10:15,612 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 16:10:15,612 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720161010')
2016-07-20 16:10:15,613 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:10:15,614 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720161010')
2016-07-20 16:10:15,615 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:10:15,615 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161010.html
2016-07-20 16:10:15,615 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:10:15,617 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:10:16,847 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161010.html
2016-07-20 16:10:16,848 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:10:16,848 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:10:53,945 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:10:53,954 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:10:53,960 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:10:54,013 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:10:54,013 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:10:54,015 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:10:54,015 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:10:54,016 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:10:54,018 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 16:10:54,018 main.py[line: 107] INFO: 运行指定项目
2016-07-20 16:10:54,154 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 16:10:54,155 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 16:10:54,156 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 16:10:54,156 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 16:10:54,272 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 16:10:54,383 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 16:10:54,384 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 16:10:54,512 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '93', '88', '80', '98'])
2016-07-20 16:10:54,780 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:54,780 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:54,781 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 16:10:54,782 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:54,782 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":[{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"10549840601068216320","name":""}]}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 16:10:54,783 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:54,783 casestep.py[line: 63] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 16:10:54,783 wechatno_wemall.py[line: 25] INFO: 正在发起POST请求...
2016-07-20 16:10:54,783 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 16:10:54,840 wechatno_wemall.py[line: 34] INFO: 正在解析返回结果:{'dataList': [{'soldCount': 268, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCatagoryId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'rank': None, 'waimaiChannel': None, 'useTime': None, 'soldAllCount': 274, 'rules': None, 'outerId': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'standard': 1, 'cateName': None, 'detail': None, 'relType': None, 'id': 26189, 'price': 1000, 'skuQuantity': 0, 'transientPrice': 0.0, 'cateId': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'shop': {'suffixShop': None, 'parent': None, 'createTime': None, 'thirdAppId': None, 'email': None, 'id': 42, 'printAdText': None, 'fullName': None, 'logoUrl': None, 'printAdUrl': None, 'serial': None, 'phoneNumber': None, 'name': None}, 'relBranchList': None, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'description': '100', 'meituanSyncStatus': None, 'standardAllSku': None, 'preRemind': None, 'expirTime': None, 'standardTopPrice': 0.0, 'syncStatus': 0, 'cannotUseTime': None, 'status': 1, 'shopId': None, 'istop': 0, 'isSku': 0, 'name': '插线板更名后', 'elemeSyncStatus': None, 'lunchBoxCount': None, 'oriPrice': 0, 'cwId': None}, {'soldCount': 72, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCatagoryId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'rank': None, 'waimaiChannel': None, 'useTime': None, 'soldAllCount': 72, 'rules': None, 'outerId': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'standard': 1, 'cateName': None, 'detail': None, 'relType': None, 'id': 26188, 'price': 100000000, 'skuQuantity': 9265759, 'transientPrice': 0.0, 'cateId': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'shop': {'suffixShop': None, 'parent': None, 'createTime': None, 'thirdAppId': None, 'email': None, 'id': 42, 'printAdText': None, 'fullName': None, 'logoUrl': None, 'printAdUrl': None, 'serial': None, 'phoneNumber': None, 'name': None}, 'relBranchList': None, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'description': '阿斯达', 'meituanSyncStatus': None, 'standardAllSku': None, 'preRemind': None, 'expirTime': None, 'standardTopPrice': 0.0, 'syncStatus': 0, 'cannotUseTime': None, 'status': 1, 'shopId': None, 'istop': 0, 'isSku': 0, 'name': '水淀粉', 'elemeSyncStatus': None, 'lunchBoxCount': None, 'oriPrice': 0, 'cwId': None}, {'soldCount': 0, 'standardLowPrice': 0.01, 'createTime': None, 'mallGoodsCatagoryId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'rank': None, 'waimaiChannel': None, 'useTime': None, 'soldAllCount': 31, 'rules': None, 'outerId': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'standard': 2, 'cateName': None, 'detail': None, 'relType': None, 'id': 26839, 'price': 0, 'skuQuantity': None, 'transientPrice': 0.0, 'cateId': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'shop': {'suffixShop': None, 'parent': None, 'createTime': None, 'thirdAppId': None, 'email': None, 'id': 42, 'printAdText': None, 'fullName': None, 'logoUrl': None, 'printAdUrl': None, 'serial': None, 'phoneNumber': None, 'name': None}, 'relBranchList': None, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'description': '接口测试专用,勿动', 'meituanSyncStatus': None, 'standardAllSku': None, 'preRemind': None, 'expirTime': None, 'standardTopPrice': 0.0, 'syncStatus': 0, 'cannotUseTime': None, 'status': 1, 'shopId': None, 'istop': 0, 'isSku': 0, 'name': '接口-测试商品2', 'elemeSyncStatus': None, 'lunchBoxCount': None, 'oriPrice': 0, 'cwId': None}, {'soldCount': 5, 'standardLowPrice': 0.0, 'createTime': None, 'mallGoodsCatagoryId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'rank': None, 'waimaiChannel': None, 'useTime': None, 'soldAllCount': 5, 'rules': None, 'outerId': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'standard': 1, 'cateName': None, 'detail': None, 'relType': None, 'id': 26838, 'price': 1, 'skuQuantity': 999995, 'transientPrice': 0.0, 'cateId': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'shop': {'suffixShop': None, 'parent': None, 'createTime': None, 'thirdAppId': None, 'email': None, 'id': 42, 'printAdText': None, 'fullName': None, 'logoUrl': None, 'printAdUrl': None, 'serial': None, 'phoneNumber': None, 'name': None}, 'relBranchList': None, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'description': '接口测试专用,烦请勿删,勿操作', 'meituanSyncStatus': None, 'standardAllSku': None, 'preRemind': None, 'expirTime': None, 'standardTopPrice': 0.0, 'syncStatus': 0, 'cannotUseTime': None, 'status': 1, 'shopId': None, 'istop': 0, 'isSku': 0, 'name': '接口-测试商品1', 'elemeSyncStatus': None, 'lunchBoxCount': None, 'oriPrice': 0, 'cwId': None}, {'soldCount': 0, 'standardLowPrice': 1.0, 'createTime': None, 'mallGoodsCatagoryId': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'rank': None, 'waimaiChannel': None, 'useTime': None, 'soldAllCount': 9, 'rules': None, 'outerId': None, 'mallGoodsStandards': None, 'transientOriPrice': 0.0, 'standard': 2, 'cateName': None, 'detail': None, 'relType': None, 'id': 26836, 'price': 0, 'skuQuantity': None, 'transientPrice': 0.0, 'cateId': 0, 'mallGoodsCate': {'delFlag': None, 'branchId': None, 'orderNum': None, 'id': 259, 'goodsSoldOutAmount': 0, 'oldName': None, 'shop': None, 'name': None, 'goodsAmount': 0}, 'dishCount': None, 'baiduSyncStatus': None, 'business': None, 'shop': {'suffixShop': None, 'parent': None, 'createTime': None, 'thirdAppId': None, 'email': None, 'id': 42, 'printAdText': None, 'fullName': None, 'logoUrl': None, 'printAdUrl': None, 'serial': None, 'phoneNumber': None, 'name': None}, 'relBranchList': None, 'delFlag': None, 'goodsCopyId': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'description': '啊啊啊啊啊', 'meituanSyncStatus': None, 'standardAllSku': None, 'preRemind': None, 'expirTime': None, 'standardTopPrice': 0.0, 'syncStatus': 0, 'cannotUseTime': None, 'status': 1, 'shopId': None, 'istop': 0, 'isSku': 0, 'name': '多规格冗余测试', 'elemeSyncStatus': None, 'lunchBoxCount': None, 'oriPrice': 0, 'cwId': None}], 'pageInfo': {'pagination': True, 'totalRows': 5, 'hasNextPage': False, 'params': None, 'hasPreviousPage': False, 'pageStartRow': 0, 'currentPage': 1, 'totalPages': 1, 'pageEndRow': 5, 'pageSize': 10}}
2016-07-20 16:10:54,846 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 16:10:54,861 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 16:10:54,865 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 16:10:54,870 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:54,870 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:54" WHERE executed_history_id = 20160720161053 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:54,877 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 16:10:54,878 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:54,878 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:54" WHERE executed_history_id = 20160720161053 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:55,064 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 16:10:55,444 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:55,444 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:55,445 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 16:10:55,445 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:55,446 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:55,447 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:55,447 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:55,447 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:55,451 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:55,523 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:55,529 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:55,529 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:55,626 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:10:55,627 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:55,633 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:55,633 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:55" WHERE executed_history_id = 20160720161053 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:55,641 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:55,641 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"10549840601068216320"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 16:10:55,657 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:10:55,665 casestep.py[line: 63] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 16:10:55,666 wechatno_wemall.py[line: 150] INFO: 正在发起POST请求...
2016-07-20 16:10:55,666 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 16:10:55,742 wechatno_wemall.py[line: 157] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:10:55,742 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15766,)
2016-07-20 16:10:55,747 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:55,748 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:10:55" WHERE executed_history_id = 20160720161053 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:55,750 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 16:10:55,751 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:55,751 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:55" WHERE executed_history_id = 20160720161053 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:55,872 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 16:10:56,271 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:56,271 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:56,272 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 16:10:56,272 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:56,272 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:56,273 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:56,273 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:56,274 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:56,277 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:56,282 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:56,286 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:56,286 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:56,451 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:10:56,451 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:56,455 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:56,456 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:56" WHERE executed_history_id = 20160720161053 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:56,459 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 16:10:56,460 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:56,460 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:56" WHERE executed_history_id = 20160720161053 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:56,614 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 16:10:57,082 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:57,083 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:57,084 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 16:10:57,084 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:57,085 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"10549840601068216320"}}', '{"status":200}', 'Block', '', '')
2016-07-20 16:10:57,086 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:57,086 casestep.py[line: 63] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 16:10:57,086 wechatno_wemall.py[line: 85] INFO: 正在发起GET请求...
2016-07-20 16:10:57,087 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 16:10:57,227 wechatno_wemall.py[line: 90] INFO: 正在解析返回结果:200
2016-07-20 16:10:57,228 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:57,229 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:10:57" WHERE executed_history_id = 20160720161053 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:57,239 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 16:10:57,239 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:57,240 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:10:57" WHERE executed_history_id = 20160720161053 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:57,377 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 16:10:57,722 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:10:57,722 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:10:57,723 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:10:57,723 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:57,723 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:10:57,724 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:10:57,724 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:10:57,724 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:57,728 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:10:57,825 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:10:57,830 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:10:57,831 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:10:57,995 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:10:57,995 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:10:58,001 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:10:58,001 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:10:57" WHERE executed_history_id = 20160720161053 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:58,009 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:10:58,009 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161053', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":"2","goodsID":26838}', 'Block', '', '')
2016-07-20 16:10:58,011 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:10:58,011 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:10:58,011 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:10:58,011 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:10:58,038 wechatno_wemall.py[line: 176] INFO: 正在解析返回结果:[{"id":15767,"customer":null,"mallGoods":{"id":26838,"name":"接口-测试商品1","price":1,"oriPrice":0,"description":"接口测试专用,烦请勿删,勿操作","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,","shop":null,"shopId":null,"mallGoodsCate":null,"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},"mallGoodsStandard":null,"amount":2,"shop":null,"shopBranchId":null,"closed":null,"cateringType":null}]
2016-07-20 16:10:58,039 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:10:58,039 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:10:58,039 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 179, in test_view_cart_list    self.assertEqual(response[amount], self.expected_result[amount], msg=购物车中商品总数错误)TypeError: string indices must be integers", protocol_method="get", runtime="2016-07-20 16:10:58" WHERE executed_history_id = 20160720161053 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:58,043 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:10:58,043 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:10:57" WHERE executed_history_id = 20160720161053 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:10:58,193 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 16:10:58,336 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 16:10:58,336 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:10:58,337 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:10:58,337 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161053',)
2016-07-20 16:10:58,338 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:10:58,339 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161053')
2016-07-20 16:10:58,340 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:10:58,340 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161053')
2016-07-20 16:10:58,341 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:10:58,341 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161053')
2016-07-20 16:10:58,342 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:10:58,342 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161053')
2016-07-20 16:10:58,343 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:10:58,343 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161053',)
2016-07-20 16:10:58,344 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 16:10:58,345 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720161053')
2016-07-20 16:10:58,346 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 16:10:58,347 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:10:58,347 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161053',)
2016-07-20 16:10:58,348 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 16:10:58,349 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720161053')
2016-07-20 16:10:58,350 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 16:10:58,350 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720161053')
2016-07-20 16:10:58,352 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 16:10:58,352 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720161053')
2016-07-20 16:10:58,354 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 16:10:58,354 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720161053')
2016-07-20 16:10:58,356 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 16:10:58,356 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720161053')
2016-07-20 16:10:58,358 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:10:58,358 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720161053')
2016-07-20 16:10:58,360 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:10:58,360 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161053.html
2016-07-20 16:10:58,360 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:10:58,361 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:10:58,575 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161053.html
2016-07-20 16:10:58,575 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:10:58,576 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:11:53,945 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:11:53,955 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:11:53,962 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:11:54,003 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:11:54,003 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:11:54,004 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:11:54,004 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:11:54,005 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:11:54,007 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:11:54,007 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:11:54,268 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:11:54,268 main.py[line: 208] ERROR: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]未配置协议，host，端口信息，暂时无法执行
2016-07-20 16:11:54,268 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:11:54,268 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:11:54,269 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161153',)
2016-07-20 16:11:54,270 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:11:54,270 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161153')
2016-07-20 16:11:54,270 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:11:54,271 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161153')
2016-07-20 16:11:54,271 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:11:54,271 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161153')
2016-07-20 16:11:54,272 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:11:54,272 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161153')
2016-07-20 16:11:54,273 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:11:54,273 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161153',)
2016-07-20 16:11:54,274 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:11:54,274 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161153',)
2016-07-20 16:11:54,275 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:11:54,275 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161153.html
2016-07-20 16:11:54,275 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:11:54,276 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:11:54,490 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161153.html
2016-07-20 16:11:54,490 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:11:54,492 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:12:18,754 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:12:18,766 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:12:18,772 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:12:18,813 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:12:18,813 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:12:18,814 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:12:18,814 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:12:18,815 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:12:18,816 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:12:18,816 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:12:19,058 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:12:19,059 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:12:19,060 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:12:19,366 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:12:19,366 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161218', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:12:19,367 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:12:19,367 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:12:19,367 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161218', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:12:19,369 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:12:19,369 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:12:19,369 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:12:19,373 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:12:19,496 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:12:19,501 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:12:19,501 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:12:19,699 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:12:19,700 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:12:19,705 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:12:19,706 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:12:19" WHERE executed_history_id = 20160720161218 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:12:19,713 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:12:19,713 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161218', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":"2","goodsID":26838}', 'Block', '', '')
2016-07-20 16:12:19,716 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:12:19,716 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:12:19,717 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:12:19,717 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:12:19,734 wechatno_wemall.py[line: 177] INFO: 正在解析返回结果:[{'mallGoods': {'mallGoodsCatagoryId': None, 'mallGoodsStandards': None, 'meituanSyncStatus': None, 'lunchBoxCount': None, 'servicePhone': None, 'goodsCopyId': None, 'detail': None, 'standardAllSku': None, 'description': '接口测试专用,烦请勿删,勿操作', 'id': 26838, 'skuQuantity': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'isSku': 0, 'oriPrice': 0, 'soldAllCount': 0, 'name': '接口-测试商品1', 'istop': 0, 'standard': 1, 'mallGoodsCate': None, 'delFlag': None, 'syncStatus': 0, 'hasActivity': 0, 'cannotUseTime': None, 'shopId': None, 'rules': None, 'cateId': 0, 'createTime': None, 'business': None, 'cwId': None, 'status': 1, 'baiduSyncStatus': None, 'standardLowPrice': 0.0, 'shop': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'branch': None, 'elemeSyncStatus': None, 'outerId': None, 'transientOriPrice': 0.0, 'rank': None, 'soldCount': 0, 'price': 1, 'preRemind': None, 'relType': None, 'dishCount': None, 'expirTime': None, 'relBranchList': None, 'useTime': None, 'waimaiChannel': None, 'cateName': None}, 'customer': None, 'mallGoodsStandard': None, 'shopBranchId': None, 'closed': None, 'cateringType': None, 'id': 15767, 'amount': 2, 'shop': None}]
2016-07-20 16:12:19,735 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:12:19,735 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:12:19,735 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 180, in test_view_cart_list    self.assertEqual(response[amount], self.expected_result[amount], msg=购物车中商品总数错误)TypeError: list indices must be integers, not str", protocol_method="get", runtime="2016-07-20 16:12:19" WHERE executed_history_id = 20160720161218 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:12:19,739 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:12:19,739 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:12:19" WHERE executed_history_id = 20160720161218 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:12:19,742 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:12:19,742 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:12:19,743 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:12:19,743 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161218',)
2016-07-20 16:12:19,745 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:12:19,745 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161218')
2016-07-20 16:12:19,747 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:12:19,747 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161218')
2016-07-20 16:12:19,748 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:12:19,749 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161218')
2016-07-20 16:12:19,750 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:12:19,750 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161218')
2016-07-20 16:12:19,752 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:12:19,752 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161218',)
2016-07-20 16:12:19,754 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:12:19,754 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161218')
2016-07-20 16:12:19,756 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:12:19,756 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:12:19,756 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161218',)
2016-07-20 16:12:19,758 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:12:19,759 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161218')
2016-07-20 16:12:19,761 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:12:19,761 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720161218')
2016-07-20 16:12:19,764 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:12:19,764 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161218.html
2016-07-20 16:12:19,764 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:12:19,765 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:12:19,982 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161218.html
2016-07-20 16:12:19,982 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:12:19,982 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:13:06,038 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:13:06,047 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:13:06,052 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:13:06,089 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:13:06,089 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:13:06,091 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:13:06,091 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:13:06,093 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:13:06,094 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:13:06,094 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:13:06,314 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:13:06,315 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:13:06,315 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:13:06,547 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:13:06,547 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161306', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:13:06,549 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:13:06,549 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:13:06,549 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161306', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:13:06,551 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:13:06,551 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:13:06,551 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:13:06,555 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:13:06,673 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:13:06,678 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:13:06,678 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:13:06,855 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:13:06,855 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:13:06,860 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:13:06,861 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:13:06" WHERE executed_history_id = 20160720161306 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:06,863 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:13:06,863 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161306', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:13:06,864 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:13:06,865 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:13:06,865 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:13:06,865 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?serial=10549840601068216320&openId=ous64uFCCLMyXYDJ-MkNilyCI5CY
2016-07-20 16:13:06,880 wechatno_wemall.py[line: 177] INFO: 正在解析返回结果:[{'amount': 2, 'mallGoods': {'status': 1, 'goodsCopyId': None, 'soldAllCount': 0, 'standardAllSku': None, 'dishCount': None, 'name': '接口-测试商品1', 'createTime': None, 'relType': None, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'shop': None, 'price': 1, 'standardTopPrice': 0.0, 'mallGoodsCatagoryId': None, 'shopId': None, 'cwId': None, 'id': 26838, 'soldCount': 0, 'transientPrice': 0.0, 'expirTime': None, 'servicePhone': None, 'business': None, 'mallGoodsCate': None, 'mallGoodsStandards': None, 'hasActivity': 0, 'delFlag': None, 'waimaiChannel': None, 'skuQuantity': None, 'syncStatus': 0, 'outerId': None, 'detail': None, 'istop': 0, 'useTime': None, 'rules': None, 'preRemind': None, 'oriPrice': 0, 'cateId': 0, 'relBranchList': None, 'lunchBoxCount': None, 'branch': None, 'standardLowPrice': 0.0, 'baiduSyncStatus': None, 'cannotUseTime': None, 'standard': 1, 'rank': None, 'isSku': 0, 'description': '接口测试专用,烦请勿删,勿操作', 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'transientOriPrice': 0.0}, 'shop': None, 'shopBranchId': None, 'mallGoodsStandard': None, 'cateringType': None, 'customer': None, 'id': 15767, 'closed': None}]
2016-07-20 16:13:06,881 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:13:06,881 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:13:06,881 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 180, in test_view_cart_list    self.assertEqual(response[amount], self.expected_result[amount], msg=购物车中商品总数错误)TypeError: list indices must be integers, not str", protocol_method="get", runtime="2016-07-20 16:13:06" WHERE executed_history_id = 20160720161306 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:06,883 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:13:06,884 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:13:06" WHERE executed_history_id = 20160720161306 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:06,886 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:13:06,886 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:13:06,886 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:13:06,887 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161306',)
2016-07-20 16:13:06,888 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:13:06,888 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161306')
2016-07-20 16:13:06,890 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:13:06,890 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161306')
2016-07-20 16:13:06,891 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:13:06,891 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161306')
2016-07-20 16:13:06,892 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:13:06,893 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161306')
2016-07-20 16:13:06,894 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:13:06,894 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161306',)
2016-07-20 16:13:06,895 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:13:06,895 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161306')
2016-07-20 16:13:06,897 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:13:06,897 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:13:06,897 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161306',)
2016-07-20 16:13:06,898 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:13:06,899 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161306')
2016-07-20 16:13:06,900 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:13:06,900 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720161306')
2016-07-20 16:13:06,902 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:13:06,902 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161306.html
2016-07-20 16:13:06,902 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:13:06,903 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:13:07,314 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161306.html
2016-07-20 16:13:07,315 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:13:07,315 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:13:45,809 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:13:45,820 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:13:45,825 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:13:45,867 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:13:45,868 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:13:45,869 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:13:45,869 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:13:45,869 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:13:45,871 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:13:45,871 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:13:46,106 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:13:46,107 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:13:46,107 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:13:46,339 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:13:46,339 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161345', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:13:46,341 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:13:46,341 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:13:46,341 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161345', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:13:46,343 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:13:46,343 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:13:46,343 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:13:46,347 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:13:46,479 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:13:46,483 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:13:46,483 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:13:46,664 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:13:46,665 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:13:46,670 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:13:46,670 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:13:46" WHERE executed_history_id = 20160720161345 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:46,674 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:13:46,674 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161345', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:13:46,677 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:13:46,677 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:13:46,677 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:13:46,678 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?serial=10549840601068216320&openId=ous64uFCCLMyXYDJ-MkNilyCI5CY
2016-07-20 16:13:46,694 wechatno_wemall.py[line: 177] INFO: 正在解析返回结果:[{"id":15767,"customer":null,"mallGoods":{"id":26838,"name":"接口-测试商品1","price":1,"oriPrice":0,"description":"接口测试专用,烦请勿删,勿操作","iconUrl":"http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,","shop":null,"shopId":null,"mallGoodsCate":null,"servicePhone":null,"createTime":null,"expirTime":null,"cannotUseTime":null,"useTime":null,"preRemind":null,"rules":null,"detail":null,"status":1,"branch":null,"transientPrice":0.0,"transientOriPrice":0.0,"cateId":0,"cwId":null,"skuQuantity":null,"istop":0,"soldCount":0,"delFlag":null,"standard":1,"relType":null,"relBranchList":null,"mallGoodsStandards":null,"soldAllCount":0,"standardLowPrice":0.0,"standardTopPrice":0.0,"standardAllSku":null,"outerId":null,"rank":null,"mallGoodsCatagoryId":null,"business":null,"baiduSyncStatus":null,"meituanSyncStatus":null,"elemeSyncStatus":null,"dishCount":null,"lunchBoxCount":null,"isSku":0,"cateName":null,"waimaiChannel":null,"goodsCopyId":null,"syncStatus":0,"hasActivity":0},"mallGoodsStandard":null,"amount":2,"shop":null,"shopBranchId":null,"closed":null,"cateringType":null}]
2016-07-20 16:13:46,695 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:13:46,696 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:13:46,696 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 180, in test_view_cart_list    self.assertEqual(response[amount], self.expected_result[amount], msg=购物车中商品总数错误)TypeError: string indices must be integers", protocol_method="get", runtime="2016-07-20 16:13:46" WHERE executed_history_id = 20160720161345 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:46,700 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:13:46,701 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:13:46" WHERE executed_history_id = 20160720161345 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:13:46,704 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:13:46,705 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:13:46,706 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:13:46,706 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161345',)
2016-07-20 16:13:46,709 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:13:46,709 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161345')
2016-07-20 16:13:46,711 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:13:46,712 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161345')
2016-07-20 16:13:46,713 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:13:46,714 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161345')
2016-07-20 16:13:46,716 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:13:46,716 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161345')
2016-07-20 16:13:46,719 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:13:46,719 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161345',)
2016-07-20 16:13:46,722 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:13:46,722 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161345')
2016-07-20 16:13:46,724 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:13:46,724 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:13:46,725 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161345',)
2016-07-20 16:13:46,726 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:13:46,727 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161345')
2016-07-20 16:13:46,728 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:13:46,728 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720161345')
2016-07-20 16:13:46,730 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:13:46,731 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161345.html
2016-07-20 16:13:46,731 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:13:46,732 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:13:46,952 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161345.html
2016-07-20 16:13:46,952 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:13:46,952 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:14:21,488 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:14:21,497 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:14:21,503 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:14:21,543 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:14:21,544 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:14:21,545 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:14:21,545 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:14:21,546 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:14:21,547 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:14:21,547 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:14:21,800 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:14:21,800 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:14:21,801 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:14:22,072 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:14:22,072 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161421', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:14:22,073 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:14:22,073 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:14:22,073 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161421', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:14:22,074 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:14:22,074 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:14:22,074 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:14:22,078 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:14:22,194 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:14:22,199 wechatno_wemall.py[line: 118] INFO: 正在发起POST请求...
2016-07-20 16:14:22,200 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:14:22,346 wechatno_wemall.py[line: 125] INFO: 正在解析返回结果:{'message': None, 'success': True, 'attach': None}
2016-07-20 16:14:22,346 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:14:22,352 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:14:22,352 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:14:22" WHERE executed_history_id = 20160720161421 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:14:22,355 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:14:22,356 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720161421', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"10549840601068216320","openId":"ous64uFCCLMyXYDJ-MkNilyCI5CY"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:14:22,358 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:14:22,358 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:14:22,358 wechatno_wemall.py[line: 171] INFO: 正在发起GET请求...
2016-07-20 16:14:22,359 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:14:22,375 wechatno_wemall.py[line: 177] INFO: 正在解析返回结果:[{'mallGoodsStandard': None, 'id': 15767, 'amount': 2, 'shopBranchId': None, 'mallGoods': {'rules': None, 'baiduSyncStatus': None, 'createTime': None, 'mallGoodsStandards': None, 'mallGoodsCatagoryId': None, 'business': None, 'standardTopPrice': 0.0, 'elemeSyncStatus': None, 'id': 26838, 'cannotUseTime': None, 'branch': None, 'servicePhone': None, 'hasActivity': 0, 'preRemind': None, 'relBranchList': None, 'status': 1, 'outerId': None, 'skuQuantity': None, 'soldCount': 0, 'transientOriPrice': 0.0, 'description': '接口测试专用,烦请勿删,勿操作', 'cateId': 0, 'price': 1, 'lunchBoxCount': None, 'standardLowPrice': 0.0, 'useTime': None, 'relType': None, 'meituanSyncStatus': None, 'name': '接口-测试商品1', 'mallGoodsCate': None, 'shopId': None, 'shop': None, 'syncStatus': 0, 'isSku': 0, 'standardAllSku': None, 'rank': None, 'cateName': None, 'expirTime': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'soldAllCount': 0, 'cwId': None, 'waimaiChannel': None, 'transientPrice': 0.0, 'oriPrice': 0, 'delFlag': None, 'standard': 1, 'detail': None, 'dishCount': None, 'goodsCopyId': None, 'istop': 0}, 'shop': None, 'cateringType': None, 'customer': None, 'closed': None}]
2016-07-20 16:14:22,376 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:14:22,376 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:14:22,376 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 181, in test_view_cart_list    self.assertEqual(response[0][mallGoods][id], self.expected_result[goodsId], msg=购物车商品缺失)KeyError: goodsId", protocol_method="get", runtime="2016-07-20 16:14:22" WHERE executed_history_id = 20160720161421 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:14:22,380 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:14:22,380 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:14:22" WHERE executed_history_id = 20160720161421 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:14:22,383 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:14:22,383 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:14:22,384 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:14:22,384 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720161421',)
2016-07-20 16:14:22,386 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:14:22,386 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720161421')
2016-07-20 16:14:22,387 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:14:22,387 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720161421')
2016-07-20 16:14:22,388 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:14:22,389 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720161421')
2016-07-20 16:14:22,390 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:14:22,390 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720161421')
2016-07-20 16:14:22,392 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:14:22,392 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161421',)
2016-07-20 16:14:22,394 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:14:22,394 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161421')
2016-07-20 16:14:22,396 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:14:22,397 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:14:22,398 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720161421',)
2016-07-20 16:14:22,400 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:14:22,400 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720161421')
2016-07-20 16:14:22,401 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:14:22,402 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720161421')
2016-07-20 16:14:22,404 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:14:22,404 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720161421.html
2016-07-20 16:14:22,404 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:14:22,406 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:14:22,633 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720161421.html
2016-07-20 16:14:22,634 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:14:22,634 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:37:06,173 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:37:06,183 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:37:06,188 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:37:06,230 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:37:06,230 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:37:06,232 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:37:06,232 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:37:06,233 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:37:06,235 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:37:06,235 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:37:06,476 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:37:06,477 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:37:06,477 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:37:06,724 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:37:06,725 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163706', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:37:06,726 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:37:06,727 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:37:06,727 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163706', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:37:06,729 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:37:06,729 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:37:06,729 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('var',)
2016-07-20 16:37:06,733 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:37:06,734 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:37:06,734 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 105, in setUp    customer_id = customer_id[0]TypeError: NoneType object is not subscriptable", protocol_method="post", runtime="2016-07-20 16:37:06" WHERE executed_history_id = 20160720163706 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:37:06,737 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:37:06,737 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:37:06" WHERE executed_history_id = 20160720163706 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:37:06,739 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:37:06,739 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:37:06,740 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:37:06,740 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720163706',)
2016-07-20 16:37:06,741 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:37:06,741 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720163706')
2016-07-20 16:37:06,742 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:37:06,742 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720163706')
2016-07-20 16:37:06,744 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:37:06,744 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720163706')
2016-07-20 16:37:06,745 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:37:06,745 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720163706')
2016-07-20 16:37:06,746 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:37:06,747 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163706',)
2016-07-20 16:37:06,748 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:37:06,748 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163706')
2016-07-20 16:37:06,750 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:37:06,750 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:37:06,750 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163706',)
2016-07-20 16:37:06,752 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:37:06,752 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163706')
2016-07-20 16:37:06,754 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:37:06,754 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720163706')
2016-07-20 16:37:06,756 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:37:06,756 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720163706.html
2016-07-20 16:37:06,756 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:37:06,757 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:37:07,987 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720163706.html
2016-07-20 16:37:07,987 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:37:07,988 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:38:00,747 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:38:00,760 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:38:00,766 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:38:00,812 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:38:00,812 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:38:00,813 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:38:00,813 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:38:00,814 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:38:00,815 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:38:00,815 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:38:01,123 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:38:01,124 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:38:01,124 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:38:01,386 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:38:01,386 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163800', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:38:01,389 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:38:01,389 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:38:01,389 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163800', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:38:01,391 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:38:01,391 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:38:01,391 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:38:01,395 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:38:01,580 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:38:01,585 wechatno_wemall.py[line: 124] INFO: 正在发起POST请求...
2016-07-20 16:38:01,585 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:38:01,715 wechatno_wemall.py[line: 131] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:38:01,716 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:38:01,720 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:38:01,721 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:38:01" WHERE executed_history_id = 20160720163800 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:01,726 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:38:01,727 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163800', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:38:01,729 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:38:01,729 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:38:01,730 wechatno_wemall.py[line: 181] INFO: 正在发起GET请求...
2016-07-20 16:38:01,730 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?serial=10549840601068216320&openId=ous64uFCCLMyXYDJ-MkNilyCI5CY
2016-07-20 16:38:01,746 wechatno_wemall.py[line: 187] INFO: 正在解析返回结果:[{'id': 15767, 'shop': None, 'shopBranchId': None, 'mallGoodsStandard': None, 'amount': 2, 'customer': None, 'closed': None, 'mallGoods': {'createTime': None, 'isSku': 0, 'status': 1, 'shop': None, 'description': '接口测试专用,烦请勿删,勿操作', 'cateName': None, 'relBranchList': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'cateId': 0, 'soldCount': 0, 'mallGoodsCatagoryId': None, 'transientPrice': 0.0, 'baiduSyncStatus': None, 'waimaiChannel': None, 'delFlag': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'expirTime': None, 'lunchBoxCount': None, 'cwId': None, 'hasActivity': 0, 'price': 1, 'syncStatus': 0, 'dishCount': None, 'meituanSyncStatus': None, 'outerId': None, 'rules': None, 'skuQuantity': None, 'id': 26838, 'mallGoodsStandards': None, 'detail': None, 'standardTopPrice': 0.0, 'standardAllSku': None, 'rank': None, 'istop': 0, 'relType': None, 'shopId': None, 'cannotUseTime': None, 'name': '接口-测试商品1', 'mallGoodsCate': None, 'preRemind': None, 'standardLowPrice': 0.0, 'oriPrice': 0, 'business': None, 'soldAllCount': 0, 'goodsCopyId': None, 'useTime': None, 'branch': None, 'standard': 1, 'elemeSyncStatus': None}, 'cateringType': None}]
2016-07-20 16:38:01,747 testcase.py[line: 69] ERROR: 步骤[2]执行出错,停止执行用例[id=98, name=test-n-查看购物车商品列表]
2016-07-20 16:38:01,747 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 16:38:01,747 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 191, in test_view_cart_list    self.assertEqual(response[0][mallGoods][id], self.expected_result[goodsId], msg=购物车商品缺失)KeyError: goodsId", protocol_method="get", runtime="2016-07-20 16:38:01" WHERE executed_history_id = 20160720163800 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:01,751 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:38:01,752 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 16:38:01" WHERE executed_history_id = 20160720163800 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:01,754 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:38:01,755 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:38:01,756 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:38:01,756 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720163800',)
2016-07-20 16:38:01,760 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:38:01,760 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720163800')
2016-07-20 16:38:01,762 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:38:01,762 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720163800')
2016-07-20 16:38:01,764 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:38:01,764 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720163800')
2016-07-20 16:38:01,766 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:38:01,766 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720163800')
2016-07-20 16:38:01,768 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:38:01,769 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163800',)
2016-07-20 16:38:01,771 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:38:01,771 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163800')
2016-07-20 16:38:01,774 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:38:01,774 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:38:01,774 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163800',)
2016-07-20 16:38:01,776 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:38:01,777 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163800')
2016-07-20 16:38:01,779 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:38:01,779 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720163800')
2016-07-20 16:38:01,782 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:38:01,783 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720163800.html
2016-07-20 16:38:01,783 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:38:01,785 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:38:01,985 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720163800.html
2016-07-20 16:38:01,985 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:38:01,985 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:38:19,766 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:38:19,775 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:38:19,784 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:38:19,830 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:38:19,831 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:38:19,831 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:38:19,832 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:38:19,832 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:38:19,834 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 16:38:19,834 main.py[line: 189] INFO: 已获取配置的套件id列表：[97]
2016-07-20 16:38:20,058 main.py[line: 205] INFO: 正在读取套件[id=97，name=微商城-查看购物车商品列表接口]的协议，host，端口配置...
2016-07-20 16:38:20,059 main.py[line: 223] INFO: 正在执行测试套件[id=97 ,name=微商城-查看购物车商品列表接口]
2016-07-20 16:38:20,059 testsuite.py[line: 42] INFO: 正在获取套件[id=97，name=微商城-查看购物车商品列表接口]的测试用例...
2016-07-20 16:38:20,329 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 16:38:20,330 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163819', '98', 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 16:38:20,331 testsuite.py[line: 63] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:38:20,331 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:38:20,331 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163819', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:38:20,332 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:38:20,333 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:38:20,333 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:38:20,337 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:38:20,491 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:38:20,497 wechatno_wemall.py[line: 124] INFO: 正在发起POST请求...
2016-07-20 16:38:20,498 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:38:20,702 wechatno_wemall.py[line: 131] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 16:38:20,703 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:38:20,709 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:38:20,710 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:38:20" WHERE executed_history_id = 20160720163819 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:20,718 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:38:20,719 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720163819', '98', 'test-n-查看购物车商品列表', '无计划', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', '80', '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:38:20,722 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:38:20,723 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:38:20,723 wechatno_wemall.py[line: 181] INFO: 正在发起GET请求...
2016-07-20 16:38:20,723 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?serial=10549840601068216320&openId=ous64uFCCLMyXYDJ-MkNilyCI5CY
2016-07-20 16:38:20,759 wechatno_wemall.py[line: 187] INFO: 正在解析返回结果:[{'amount': 2, 'id': 15767, 'cateringType': None, 'closed': None, 'mallGoodsStandard': None, 'shopBranchId': None, 'customer': None, 'shop': None, 'mallGoods': {'hasActivity': 0, 'detail': None, 'mallGoodsCate': None, 'transientPrice': 0.0, 'useTime': None, 'price': 1, 'soldCount': 0, 'createTime': None, 'description': '接口测试专用,烦请勿删,勿操作', 'oriPrice': 0, 'outerId': None, 'meituanSyncStatus': None, 'delFlag': None, 'cateId': 0, 'cannotUseTime': None, 'cwId': None, 'goodsCopyId': None, 'mallGoodsCatagoryId': None, 'id': 26838, 'elemeSyncStatus': None, 'dishCount': None, 'soldAllCount': 0, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'rules': None, 'relType': None, 'rank': None, 'shopId': None, 'waimaiChannel': None, 'cateName': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'standardTopPrice': 0.0, 'standardLowPrice': 0.0, 'mallGoodsStandards': None, 'standardAllSku': None, 'relBranchList': None, 'status': 1, 'preRemind': None, 'isSku': 0, 'branch': None, 'syncStatus': 0, 'skuQuantity': None, 'name': '接口-测试商品1', 'business': None, 'shop': None, 'servicePhone': None, 'istop': 0, 'baiduSyncStatus': None, 'expirTime': None, 'standard': 1}}]
2016-07-20 16:38:20,760 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:38:20,760 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:38:20" WHERE executed_history_id = 20160720163819 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:20,762 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 16:38:20,762 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 16:38:20,763 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:38:20" WHERE executed_history_id = 20160720163819 and testcase_id = 98 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 16:38:20,765 testsuite.py[line: 74] INFO: 测试套件[id=97 ,name=微商城-查看购物车商品列表接口]已执行完
2016-07-20 16:38:20,765 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:38:20,765 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:38:20,766 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720163819',)
2016-07-20 16:38:20,767 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:38:20,767 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720163819')
2016-07-20 16:38:20,768 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:38:20,768 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720163819')
2016-07-20 16:38:20,769 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:38:20,769 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720163819')
2016-07-20 16:38:20,770 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:38:20,770 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720163819')
2016-07-20 16:38:20,772 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:38:20,772 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163819',)
2016-07-20 16:38:20,773 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 16:38:20,773 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163819')
2016-07-20 16:38:20,775 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 16:38:20,775 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:38:20,775 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720163819',)
2016-07-20 16:38:20,777 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 16:38:20,777 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720163819')
2016-07-20 16:38:20,779 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:38:20,779 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 98, '20160720163819')
2016-07-20 16:38:20,781 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:38:20,781 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720163819.html
2016-07-20 16:38:20,782 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:38:20,783 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:38:21,014 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720163819.html
2016-07-20 16:38:21,014 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:38:21,014 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:40:34,865 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:40:34,875 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:40:34,883 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:40:34,924 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:40:34,924 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:40:34,925 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:40:34,925 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:40:34,926 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:40:34,928 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 16:40:34,928 main.py[line: 107] INFO: 运行指定项目
2016-07-20 16:40:35,050 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 16:40:35,051 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 16:40:35,051 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 16:40:35,051 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 16:40:35,177 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 16:40:35,291 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 16:40:35,291 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 16:40:35,420 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '93', '88', '98', '80'])
2016-07-20 16:40:35,674 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:40:35,675 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:40:35,677 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 16:40:35,677 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:35,677 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"var","name":""}}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 16:40:35,679 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:40:35,679 casestep.py[line: 63] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 16:40:35,679 wechatno_wemall.py[line: 27] INFO: 正在发起POST请求...
2016-07-20 16:40:35,679 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 16:40:35,742 wechatno_wemall.py[line: 36] INFO: 正在解析返回结果:{'pageInfo': {'hasNextPage': False, 'totalRows': 5, 'params': None, 'hasPreviousPage': False, 'pageSize': 10, 'pageStartRow': 0, 'currentPage': 1, 'pagination': True, 'totalPages': 1, 'pageEndRow': 5}, 'dataList': [{'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'shop': {'email': None, 'parent': None, 'serial': None, 'suffixShop': None, 'logoUrl': None, 'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'id': 42, 'name': None}, 'price': 1000, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 268, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '100', 'detail': None, 'skuQuantity': 0, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26189, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 274, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 1, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'dishCount': None, 'name': '插线板更名后', 'cateName': None}, {'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 260, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'shop': {'email': None, 'parent': None, 'serial': None, 'suffixShop': None, 'logoUrl': None, 'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'id': 42, 'name': None}, 'price': 100000000, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 72, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '阿斯达', 'detail': None, 'skuQuantity': 9265759, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26188, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 72, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 1, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'dishCount': None, 'name': '水淀粉', 'cateName': None}, {'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.01, 'shop': {'email': None, 'parent': None, 'serial': None, 'suffixShop': None, 'logoUrl': None, 'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'id': 42, 'name': None}, 'price': 0, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '接口测试专用,勿动', 'detail': None, 'skuQuantity': None, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26839, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 35, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 2, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'dishCount': None, 'name': '接口-测试商品2', 'cateName': None}, {'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 268, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 0.0, 'shop': {'email': None, 'parent': None, 'serial': None, 'suffixShop': None, 'logoUrl': None, 'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'id': 42, 'name': None}, 'price': 1, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 5, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '接口测试专用,烦请勿删,勿操作', 'detail': None, 'skuQuantity': 999995, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26838, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 5, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 1, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'dishCount': None, 'name': '接口-测试商品1', 'cateName': None}, {'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': {'oldName': None, 'orderNum': None, 'id': 259, 'delFlag': None, 'branchId': None, 'goodsSoldOutAmount': 0, 'name': None, 'shop': None, 'goodsAmount': 0}, 'standardLowPrice': 1.0, 'shop': {'email': None, 'parent': None, 'serial': None, 'suffixShop': None, 'logoUrl': None, 'fullName': None, 'thirdAppId': None, 'printAdUrl': None, 'phoneNumber': None, 'createTime': None, 'printAdText': None, 'id': 42, 'name': None}, 'price': 0, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '啊啊啊啊啊', 'detail': None, 'skuQuantity': None, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26836, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 9, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 2, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'dishCount': None, 'name': '多规格冗余测试', 'cateName': None}]}
2016-07-20 16:40:35,746 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 16:40:35,761 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 16:40:35,766 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 16:40:35,769 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:35,770 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:40:35" WHERE executed_history_id = 20160720164034 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:35,774 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 16:40:35,774 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:40:35,774 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:40:35" WHERE executed_history_id = 20160720164034 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:35,912 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 16:40:36,287 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:40:36,287 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:40:36,290 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 16:40:36,290 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:36,290 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:40:36,291 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:40:36,291 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:40:36,291 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:36,295 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:40:36,385 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:36,394 wechatno_wemall.py[line: 124] INFO: 正在发起POST请求...
2016-07-20 16:40:36,394 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:40:36,487 wechatno_wemall.py[line: 131] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:40:36,488 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:40:36,499 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:36,499 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:40:36" WHERE executed_history_id = 20160720164034 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:36,513 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:36,513 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"var"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 16:40:36,519 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:40:36,519 casestep.py[line: 63] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 16:40:36,520 wechatno_wemall.py[line: 157] INFO: 正在发起POST请求...
2016-07-20 16:40:36,521 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 16:40:36,610 wechatno_wemall.py[line: 164] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:40:36,610 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15767,)
2016-07-20 16:40:36,618 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:36,618 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:40:36" WHERE executed_history_id = 20160720164034 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:36,621 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 16:40:36,621 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:40:36,621 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:40:36" WHERE executed_history_id = 20160720164034 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:36,759 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 16:40:37,114 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:40:37,114 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:40:37,116 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 16:40:37,117 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:37,117 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:40:37,118 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:40:37,118 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:40:37,118 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:37,125 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:40:37,138 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:37,146 wechatno_wemall.py[line: 124] INFO: 正在发起POST请求...
2016-07-20 16:40:37,146 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:40:37,282 wechatno_wemall.py[line: 131] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:40:37,283 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:40:37,292 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:37,292 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:40:37" WHERE executed_history_id = 20160720164034 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:37,299 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 16:40:37,300 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:40:37,300 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:40:37" WHERE executed_history_id = 20160720164034 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:37,438 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 16:40:37,859 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:40:37,859 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:40:37,860 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:40:37,861 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:37,861 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:40:37,862 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:40:37,862 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:40:37,862 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:37,866 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:40:38,006 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:40:38,011 wechatno_wemall.py[line: 124] INFO: 正在发起POST请求...
2016-07-20 16:40:38,012 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:40:38,133 wechatno_wemall.py[line: 131] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:40:38,133 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:40:38,137 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:38,137 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:40:37" WHERE executed_history_id = 20160720164034 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:38,140 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:38,140 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:40:38,141 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:40:38,141 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:40:38,141 wechatno_wemall.py[line: 181] INFO: 正在发起GET请求...
2016-07-20 16:40:38,142 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:40:38,156 wechatno_wemall.py[line: 187] INFO: 正在解析返回结果:[{'customer': None, 'mallGoods': {'isSku': 0, 'transientPrice': 0.0, 'branch': None, 'meituanSyncStatus': None, 'mallGoodsCate': None, 'standardLowPrice': 0.0, 'shop': None, 'price': 1, 'waimaiChannel': None, 'expirTime': None, 'standardTopPrice': 0.0, 'soldCount': 0, 'relBranchList': None, 'elemeSyncStatus': None, 'description': '接口测试专用,烦请勿删,勿操作', 'detail': None, 'skuQuantity': None, 'cannotUseTime': None, 'cateId': 0, 'outerId': None, 'id': 26838, 'delFlag': None, 'useTime': None, 'rank': None, 'syncStatus': 0, 'preRemind': None, 'istop': 0, 'baiduSyncStatus': None, 'relType': None, 'shopId': None, 'business': None, 'soldAllCount': 0, 'goodsCopyId': None, 'hasActivity': 0, 'mallGoodsCatagoryId': None, 'standard': 1, 'createTime': None, 'oriPrice': 0, 'mallGoodsStandards': None, 'rules': None, 'cwId': None, 'lunchBoxCount': None, 'transientOriPrice': 0.0, 'servicePhone': None, 'standardAllSku': None, 'status': 1, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'dishCount': None, 'name': '接口-测试商品1', 'cateName': None}, 'closed': None, 'mallGoodsStandard': None, 'id': 15768, 'cateringType': None, 'shopBranchId': None, 'shop': None, 'amount': 2}]
2016-07-20 16:40:38,156 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:38,157 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:40:38" WHERE executed_history_id = 20160720164034 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:38,160 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 16:40:38,160 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:40:38,160 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:40:37" WHERE executed_history_id = 20160720164034 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:38,274 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 16:40:38,663 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:40:38,663 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:40:38,665 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 16:40:38,666 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:40:38,666 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164034', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 16:40:38,668 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:40:38,669 casestep.py[line: 63] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 16:40:38,669 wechatno_wemall.py[line: 87] INFO: 正在发起GET请求...
2016-07-20 16:40:38,669 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 16:40:38,849 wechatno_wemall.py[line: 93] INFO: 正在解析返回结果:200
2016-07-20 16:40:38,851 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:40:38,851 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:40:38" WHERE executed_history_id = 20160720164034 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:38,859 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 16:40:38,860 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:40:38,860 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:40:38" WHERE executed_history_id = 20160720164034 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:40:38,996 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 16:40:39,128 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 16:40:39,128 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:40:39,129 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:40:39,129 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720164034',)
2016-07-20 16:40:39,130 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:40:39,130 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720164034')
2016-07-20 16:40:39,131 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:40:39,131 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720164034')
2016-07-20 16:40:39,132 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:40:39,133 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720164034')
2016-07-20 16:40:39,133 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:40:39,134 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720164034')
2016-07-20 16:40:39,134 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:40:39,135 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720164034',)
2016-07-20 16:40:39,136 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 16:40:39,136 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720164034')
2016-07-20 16:40:39,137 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 16:40:39,138 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:40:39,138 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720164034',)
2016-07-20 16:40:39,139 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 16:40:39,139 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720164034')
2016-07-20 16:40:39,141 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 16:40:39,141 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720164034')
2016-07-20 16:40:39,142 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 16:40:39,142 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720164034')
2016-07-20 16:40:39,144 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 16:40:39,144 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720164034')
2016-07-20 16:40:39,146 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:40:39,146 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720164034')
2016-07-20 16:40:39,148 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 16:40:39,148 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720164034')
2016-07-20 16:40:39,150 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:40:39,150 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720164034.html
2016-07-20 16:40:39,150 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:40:39,151 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:40:39,363 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720164034.html
2016-07-20 16:40:39,364 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:40:39,364 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 16:44:49,847 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 16:44:49,857 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 16:44:49,862 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 16:44:49,905 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 16:44:49,905 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 16:44:49,906 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 16:44:49,906 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 16:44:49,907 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 16:44:49,909 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 16:44:49,909 main.py[line: 107] INFO: 运行指定项目
2016-07-20 16:44:50,032 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 16:44:50,032 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 16:44:50,033 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 16:44:50,033 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 16:44:50,181 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 16:44:50,314 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 16:44:50,314 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 16:44:50,445 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['76', '98', '80', '88', '93'])
2016-07-20 16:44:50,691 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:44:50,691 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:44:50,692 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 16:44:50,692 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:50,693 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"var","name":""}}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 16:44:50,694 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:44:50,694 casestep.py[line: 63] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 16:44:50,694 wechatno_wemall.py[line: 27] INFO: 正在发起POST请求...
2016-07-20 16:44:50,694 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 16:44:50,760 wechatno_wemall.py[line: 36] INFO: 正在解析返回结果:{'dataList': [{'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 1000, 'id': 26189, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 268, 'name': '插线板更名后', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 0.0, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'oldName': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None}, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 274, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 1, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': {'suffixShop': None, 'printAdText': None, 'serial': None, 'email': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'fullName': None, 'createTime': None, 'id': 42, 'printAdUrl': None, 'parent': None}, 'description': '100', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': 0, 'relBranchList': None, 'createTime': None}, {'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 100000000, 'id': 26188, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 72, 'name': '水淀粉', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 0.0, 'mallGoodsCate': {'delFlag': None, 'id': 260, 'oldName': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None}, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 72, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 1, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': {'suffixShop': None, 'printAdText': None, 'serial': None, 'email': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'fullName': None, 'createTime': None, 'id': 42, 'printAdUrl': None, 'parent': None}, 'description': '阿斯达', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': 9265759, 'relBranchList': None, 'createTime': None}, {'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 0, 'id': 26839, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 0, 'name': '接口-测试商品2', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 0.01, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'oldName': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None}, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 35, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 2, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': {'suffixShop': None, 'printAdText': None, 'serial': None, 'email': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'fullName': None, 'createTime': None, 'id': 42, 'printAdUrl': None, 'parent': None}, 'description': '接口测试专用,勿动', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': None, 'relBranchList': None, 'createTime': None}, {'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 1, 'id': 26838, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 5, 'name': '接口-测试商品1', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 0.0, 'mallGoodsCate': {'delFlag': None, 'id': 268, 'oldName': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None}, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 5, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 1, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': {'suffixShop': None, 'printAdText': None, 'serial': None, 'email': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'fullName': None, 'createTime': None, 'id': 42, 'printAdUrl': None, 'parent': None}, 'description': '接口测试专用,烦请勿删,勿操作', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': 999995, 'relBranchList': None, 'createTime': None}, {'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 0, 'id': 26836, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 0, 'name': '多规格冗余测试', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 1.0, 'mallGoodsCate': {'delFlag': None, 'id': 259, 'oldName': None, 'shop': None, 'goodsAmount': 0, 'orderNum': None, 'goodsSoldOutAmount': 0, 'name': None, 'branchId': None}, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 9, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 2, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': {'suffixShop': None, 'printAdText': None, 'serial': None, 'email': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'fullName': None, 'createTime': None, 'id': 42, 'printAdUrl': None, 'parent': None}, 'description': '啊啊啊啊啊', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': None, 'relBranchList': None, 'createTime': None}], 'pageInfo': {'currentPage': 1, 'totalPages': 1, 'totalRows': 5, 'pageEndRow': 5, 'pageStartRow': 0, 'hasPreviousPage': False, 'pagination': True, 'hasNextPage': False, 'params': None, 'pageSize': 10}}
2016-07-20 16:44:50,761 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 16:44:50,776 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 16:44:50,780 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 16:44:50,784 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:50,784 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:44:50" WHERE executed_history_id = 20160720164449 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:50,789 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 16:44:50,790 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:44:50,790 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:44:50" WHERE executed_history_id = 20160720164449 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:50,964 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 16:44:51,375 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:44:51,375 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:44:51,376 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 16:44:51,376 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:51,376 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 16:44:51,377 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:44:51,377 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:44:51,378 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:51,381 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:44:51,456 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:51,461 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 16:44:51,466 wechatno_wemall.py[line: 130] INFO: 正在发起POST请求...
2016-07-20 16:44:51,467 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:44:51,568 wechatno_wemall.py[line: 137] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:44:51,568 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:44:51,573 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:51,574 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:44:51" WHERE executed_history_id = 20160720164449 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:51,578 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:51,579 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 16:44:51,582 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:44:51,583 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 16:44:51,584 wechatno_wemall.py[line: 187] INFO: 正在发起GET请求...
2016-07-20 16:44:51,584 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 16:44:51,601 wechatno_wemall.py[line: 193] INFO: 正在解析返回结果:[{'id': 15768, 'shopBranchId': None, 'mallGoodsStandard': None, 'mallGoods': {'delFlag': None, 'shopId': None, 'isSku': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'standardTopPrice': 0.0, 'meituanSyncStatus': None, 'transientPrice': 0.0, 'price': 1, 'id': 26838, 'hasActivity': 0, 'elemeSyncStatus': None, 'standardAllSku': None, 'goodsCopyId': None, 'servicePhone': None, 'branch': None, 'mallGoodsStandards': None, 'cannotUseTime': None, 'soldCount': 0, 'name': '接口-测试商品1', 'istop': 0, 'useTime': None, 'oriPrice': 0, 'outerId': None, 'detail': None, 'cateName': None, 'dishCount': None, 'standardLowPrice': 0.0, 'mallGoodsCate': None, 'business': None, 'relType': None, 'lunchBoxCount': None, 'status': 1, 'soldAllCount': 0, 'cwId': None, 'rules': None, 'cateId': 0, 'standard': 1, 'rank': None, 'syncStatus': 0, 'transientOriPrice': 0.0, 'preRemind': None, 'baiduSyncStatus': None, 'shop': None, 'description': '接口测试专用,烦请勿删,勿操作', 'waimaiChannel': None, 'mallGoodsCatagoryId': None, 'expirTime': None, 'skuQuantity': None, 'relBranchList': None, 'createTime': None}, 'customer': None, 'cateringType': None, 'amount': 2, 'closed': None, 'shop': None}]
2016-07-20 16:44:51,602 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:51,602 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:44:51" WHERE executed_history_id = 20160720164449 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:51,609 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 16:44:51,609 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:44:51,610 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:44:51" WHERE executed_history_id = 20160720164449 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:51,749 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 16:44:52,095 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:44:52,096 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:44:52,097 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 16:44:52,097 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:52,097 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 16:44:52,098 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:44:52,098 casestep.py[line: 63] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 16:44:52,098 wechatno_wemall.py[line: 87] INFO: 正在发起GET请求...
2016-07-20 16:44:52,098 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 16:44:52,232 wechatno_wemall.py[line: 93] INFO: 正在解析返回结果:200
2016-07-20 16:44:52,232 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:52,232 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:44:52" WHERE executed_history_id = 20160720164449 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:52,234 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 16:44:52,234 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:44:52,234 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:44:52" WHERE executed_history_id = 20160720164449 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:52,355 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 16:44:52,710 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:44:52,710 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:44:52,711 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 16:44:52,711 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:52,711 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 16:44:52,712 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:44:52,712 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:44:52,712 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:52,716 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:44:52,817 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:52,821 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 16:44:52,826 wechatno_wemall.py[line: 130] INFO: 正在发起POST请求...
2016-07-20 16:44:52,827 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:44:53,001 wechatno_wemall.py[line: 137] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:44:53,001 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:44:53,008 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:53,008 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:44:52" WHERE executed_history_id = 20160720164449 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:53,031 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 16:44:53,031 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:44:53,032 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:44:52" WHERE executed_history_id = 20160720164449 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:53,163 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 16:44:53,534 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 16:44:53,534 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 16:44:53,535 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 16:44:53,535 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:53,535 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 16:44:53,536 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 16:44:53,536 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 16:44:53,536 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:53,541 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 16:44:53,684 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 16:44:53,688 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 16:44:53,692 wechatno_wemall.py[line: 130] INFO: 正在发起POST请求...
2016-07-20 16:44:53,693 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 16:44:53,803 wechatno_wemall.py[line: 137] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:44:53,804 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 16:44:53,809 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:53,809 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 16:44:53" WHERE executed_history_id = 20160720164449 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:53,815 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 16:44:53,815 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720164449', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"var"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 16:44:53,817 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 16:44:53,817 casestep.py[line: 63] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 16:44:53,818 wechatno_wemall.py[line: 163] INFO: 正在发起POST请求...
2016-07-20 16:44:53,818 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 16:44:53,903 wechatno_wemall.py[line: 170] INFO: 正在解析返回结果:{'attach': None, 'message': None, 'success': True}
2016-07-20 16:44:53,904 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15768,)
2016-07-20 16:44:53,909 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 16:44:53,910 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 16:44:53" WHERE executed_history_id = 20160720164449 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:53,916 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 16:44:53,917 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 16:44:53,917 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 16:44:53" WHERE executed_history_id = 20160720164449 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 16:44:54,073 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 16:44:54,212 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 16:44:54,212 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 16:44:54,213 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 16:44:54,213 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720164449',)
2016-07-20 16:44:54,215 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 16:44:54,215 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720164449')
2016-07-20 16:44:54,216 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 16:44:54,217 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720164449')
2016-07-20 16:44:54,218 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 16:44:54,219 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720164449')
2016-07-20 16:44:54,220 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 16:44:54,220 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720164449')
2016-07-20 16:44:54,221 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 16:44:54,221 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720164449',)
2016-07-20 16:44:54,223 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 16:44:54,223 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720164449')
2016-07-20 16:44:54,225 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 16:44:54,225 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 16:44:54,226 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720164449',)
2016-07-20 16:44:54,227 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 16:44:54,227 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720164449')
2016-07-20 16:44:54,229 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 16:44:54,229 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720164449')
2016-07-20 16:44:54,232 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 16:44:54,233 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720164449')
2016-07-20 16:44:54,236 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 16:44:54,236 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720164449')
2016-07-20 16:44:54,239 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 16:44:54,239 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720164449')
2016-07-20 16:44:54,241 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 16:44:54,242 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720164449')
2016-07-20 16:44:54,244 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 16:44:54,244 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720164449.html
2016-07-20 16:44:54,244 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 16:44:54,246 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 16:44:54,469 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720164449.html
2016-07-20 16:44:54,469 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 16:44:54,469 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:02:59,395 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:02:59,404 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:02:59,414 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:02:59,465 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:02:59,466 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:02:59,467 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:02:59,467 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:02:59,469 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:02:59,470 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 17:02:59,470 main.py[line: 107] INFO: 运行指定项目
2016-07-20 17:02:59,578 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 17:02:59,578 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 17:02:59,579 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 17:02:59,579 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 17:02:59,695 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 17:02:59,803 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 17:02:59,804 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 17:02:59,931 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['98', '102', '88', '76', '80', '93'])
2016-07-20 17:03:00,197 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:03:00,197 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170259', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:03:00,199 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 17:03:00,200 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:03:00,200 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170259', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 17:03:00,202 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:03:00,202 casestep.py[line: 63] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:03:00,202 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:03:00,206 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:03:00,211 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:03:00,214 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:03:00,217 wechatno_wemall.py[line: 131] INFO: 正在发起POST请求...
2016-07-20 17:03:00,218 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:03:00,416 wechatno_wemall.py[line: 138] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 17:03:00,416 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:03:00,421 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:03:00,421 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:03:00" WHERE executed_history_id = 20160720170259 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:03:00,424 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:03:00,425 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170259', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 17:03:00,426 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 17:03:00,427 casestep.py[line: 63] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 17:03:00,427 wechatno_wemall.py[line: 188] INFO: 正在发起GET请求...
2016-07-20 17:03:00,427 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 17:03:00,444 wechatno_wemall.py[line: 194] INFO: 正在解析返回结果:[{'shopBranchId': None, 'mallGoodsStandard': None, 'mallGoods': {'skuQuantity': None, 'rank': None, 'baiduSyncStatus': None, 'cannotUseTime': None, 'waimaiChannel': None, 'expirTime': None, 'mallGoodsStandards': None, 'standard': 1, 'id': 26838, 'syncStatus': 0, 'createTime': None, 'standardAllSku': None, 'transientPrice': 0.0, 'soldCount': 0, 'shopId': None, 'standardLowPrice': 0.0, 'cateName': None, 'relType': None, 'cateId': 0, 'istop': 0, 'relBranchList': None, 'mallGoodsCate': None, 'cwId': None, 'dishCount': None, 'price': 1, 'outerId': None, 'transientOriPrice': 0.0, 'shop': None, 'branch': None, 'preRemind': None, 'goodsCopyId': None, 'rules': None, 'name': '接口-测试商品1', 'soldAllCount': 0, 'isSku': 0, 'mallGoodsCatagoryId': None, 'standardTopPrice': 0.0, 'delFlag': None, 'servicePhone': None, 'business': None, 'lunchBoxCount': None, 'hasActivity': 0, 'elemeSyncStatus': None, 'meituanSyncStatus': None, 'detail': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'description': '接口测试专用,烦请勿删,勿操作', 'useTime': None, 'oriPrice': 0, 'status': 1}, 'shop': None, 'amount': 2, 'id': 15769, 'cateringType': None, 'customer': None, 'closed': None}]
2016-07-20 17:03:00,444 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:03:00,444 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:03:00" WHERE executed_history_id = 20160720170259 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:03:00,446 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 17:03:00,446 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:03:00,447 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:03:00" WHERE executed_history_id = 20160720170259 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:03:00,564 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 17:03:00,928 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:03:00,928 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170259', 102, 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:03:00,930 testplan.py[line: 60] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:03:00,930 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:03:00,930 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170259', 102, 'test-n-模拟点击立即购买按钮', 'plan1_of_wecharno', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:03:00,931 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:03:00,931 casestep.py[line: 63] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:08:11,673 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:08:11,682 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:08:11,687 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:08:11,741 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:08:11,741 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:08:11,742 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:08:11,742 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:08:11,743 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:08:11,744 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 17:08:11,744 main.py[line: 107] INFO: 运行指定项目
2016-07-20 17:08:11,865 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 17:08:11,865 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 17:08:11,866 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 17:08:11,866 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 17:08:11,987 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 17:08:12,099 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 17:08:12,100 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 17:08:12,231 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['88', '102', '98', '80', '76', '93'])
2016-07-20 17:08:12,490 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:12,490 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170811', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:12,492 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 17:08:12,492 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:12,492 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170811', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 17:08:12,494 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:12,494 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:08:12,494 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:12,498 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:08:12,644 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:12,649 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:08:12,654 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:08:12,654 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:08:12,893 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'success': True, 'message': None, 'attach': None}
2016-07-20 17:08:12,893 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:08:12,897 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:12,897 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:08:12" WHERE executed_history_id = 20160720170811 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:12,900 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 17:08:12,900 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:12,900 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:12" WHERE executed_history_id = 20160720170811 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:13,029 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 17:08:13,394 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:13,394 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170811', 102, 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:13,395 testplan.py[line: 60] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:08:13,395 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:13,395 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170811', 102, 'test-n-模拟点击立即购买按钮', 'plan1_of_wecharno', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:08:13,396 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:13,396 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:08:40,089 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:08:40,100 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:08:40,105 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:08:40,155 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:08:40,155 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:08:40,156 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:08:40,156 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:08:40,157 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:08:40,158 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 17:08:40,159 main.py[line: 107] INFO: 运行指定项目
2016-07-20 17:08:40,277 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 17:08:40,277 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 17:08:40,278 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 17:08:40,279 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 17:08:40,393 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 17:08:40,509 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 17:08:40,509 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 17:08:40,628 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['88', '76', '98', '102', '80', '93'])
2016-07-20 17:08:40,866 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:40,867 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:40,869 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 17:08:40,869 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:40,869 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 17:08:40,870 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:40,870 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:08:40,871 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:40,874 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:08:40,958 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:40,963 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:08:40,968 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:08:40,968 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:08:41,203 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 17:08:41,203 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:08:41,208 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:41,208 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:08:40" WHERE executed_history_id = 20160720170840 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:41,212 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 17:08:41,212 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:41,212 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:40" WHERE executed_history_id = 20160720170840 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:41,346 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 17:08:41,718 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:41,718 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:41,720 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 17:08:41,721 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:41,721 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"var","name":""}}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 17:08:41,722 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:41,722 casestep.py[line: 64] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 17:08:41,722 wechatno_wemall.py[line: 29] INFO: 正在发起POST请求...
2016-07-20 17:08:41,722 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 17:08:41,780 wechatno_wemall.py[line: 38] INFO: 正在解析返回结果:{'dataList': [{'meituanSyncStatus': None, 'price': 1000, 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'orderNum': None, 'goodsAmount': 0, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260, 'shop': None, 'name': None, 'delFlag': None}, 'soldAllCount': 274, 'shop': {'email': None, 'suffixShop': None, 'createTime': None, 'fullName': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'printAdUrl': None, 'printAdText': None, 'id': 42, 'parent': None}, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '100', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '插线板更名后', 'elemeSyncStatus': None, 'soldCount': 268, 'id': 26189, 'mallGoodsStandards': None, 'standard': 1, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': 0, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 0.0, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}, {'meituanSyncStatus': None, 'price': 100000000, 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'orderNum': None, 'goodsAmount': 0, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 260, 'shop': None, 'name': None, 'delFlag': None}, 'soldAllCount': 72, 'shop': {'email': None, 'suffixShop': None, 'createTime': None, 'fullName': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'printAdUrl': None, 'printAdText': None, 'id': 42, 'parent': None}, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '阿斯达', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '水淀粉', 'elemeSyncStatus': None, 'soldCount': 72, 'id': 26188, 'mallGoodsStandards': None, 'standard': 1, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': 9265759, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 0.0, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}, {'meituanSyncStatus': None, 'price': 0, 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'orderNum': None, 'goodsAmount': 0, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268, 'shop': None, 'name': None, 'delFlag': None}, 'soldAllCount': 35, 'shop': {'email': None, 'suffixShop': None, 'createTime': None, 'fullName': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'printAdUrl': None, 'printAdText': None, 'id': 42, 'parent': None}, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '接口测试专用,勿动', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '接口-测试商品2', 'elemeSyncStatus': None, 'soldCount': 0, 'id': 26839, 'mallGoodsStandards': None, 'standard': 2, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 0.01, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}, {'meituanSyncStatus': None, 'price': 1, 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'orderNum': None, 'goodsAmount': 0, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 268, 'shop': None, 'name': None, 'delFlag': None}, 'soldAllCount': 5, 'shop': {'email': None, 'suffixShop': None, 'createTime': None, 'fullName': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'printAdUrl': None, 'printAdText': None, 'id': 42, 'parent': None}, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '接口测试专用,烦请勿删,勿操作', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '接口-测试商品1', 'elemeSyncStatus': None, 'soldCount': 5, 'id': 26838, 'mallGoodsStandards': None, 'standard': 1, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': 999995, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 0.0, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}, {'meituanSyncStatus': None, 'price': 0, 'servicePhone': None, 'mallGoodsCate': {'branchId': None, 'orderNum': None, 'goodsAmount': 0, 'oldName': None, 'goodsSoldOutAmount': 0, 'id': 259, 'shop': None, 'name': None, 'delFlag': None}, 'soldAllCount': 9, 'shop': {'email': None, 'suffixShop': None, 'createTime': None, 'fullName': None, 'name': None, 'phoneNumber': None, 'logoUrl': None, 'thirdAppId': None, 'serial': None, 'printAdUrl': None, 'printAdText': None, 'id': 42, 'parent': None}, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '啊啊啊啊啊', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '多规格冗余测试', 'elemeSyncStatus': None, 'soldCount': 0, 'id': 26836, 'mallGoodsStandards': None, 'standard': 2, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 1.0, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}], 'pageInfo': {'totalRows': 5, 'hasNextPage': False, 'pageStartRow': 0, 'pageEndRow': 5, 'hasPreviousPage': False, 'pageSize': 10, 'totalPages': 1, 'currentPage': 1, 'pagination': True, 'params': None}}
2016-07-20 17:08:41,784 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 17:08:41,798 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 17:08:41,802 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 17:08:41,806 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:41,806 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:08:41" WHERE executed_history_id = 20160720170840 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:41,808 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 17:08:41,808 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:41,808 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:41" WHERE executed_history_id = 20160720170840 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:41,936 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 17:08:42,331 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:42,332 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:42,333 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 17:08:42,333 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:42,333 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 17:08:42,334 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:42,334 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:08:42,334 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:42,338 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:08:42,452 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:42,457 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:08:42,461 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:08:42,462 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:08:42,679 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 17:08:42,679 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:08:42,684 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:42,685 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:08:42" WHERE executed_history_id = 20160720170840 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:42,689 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:42,689 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 17:08:42,691 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 17:08:42,692 casestep.py[line: 64] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 17:08:42,692 wechatno_wemall.py[line: 189] INFO: 正在发起GET请求...
2016-07-20 17:08:42,692 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?serial=10549840601068216320&openId=ous64uFCCLMyXYDJ-MkNilyCI5CY
2016-07-20 17:08:42,708 wechatno_wemall.py[line: 195] INFO: 正在解析返回结果:[{'shopBranchId': None, 'amount': 2, 'mallGoodsStandard': None, 'closed': None, 'id': 15769, 'shop': None, 'mallGoods': {'meituanSyncStatus': None, 'price': 1, 'servicePhone': None, 'mallGoodsCate': None, 'soldAllCount': 0, 'shop': None, 'transientPrice': 0.0, 'transientOriPrice': 0.0, 'relType': None, 'description': '接口测试专用,烦请勿删,勿操作', 'business': None, 'lunchBoxCount': None, 'dishCount': None, 'syncStatus': 0, 'baiduSyncStatus': None, 'rank': None, 'standardAllSku': None, 'preRemind': None, 'goodsCopyId': None, 'waimaiChannel': None, 'useTime': None, 'name': '接口-测试商品1', 'elemeSyncStatus': None, 'soldCount': 0, 'id': 26838, 'mallGoodsStandards': None, 'standard': 1, 'branch': None, 'hasActivity': 0, 'delFlag': None, 'status': 1, 'standardTopPrice': 0.0, 'cannotUseTime': None, 'skuQuantity': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'mallGoodsCatagoryId': None, 'shopId': None, 'cateId': 0, 'cateName': None, 'cwId': None, 'standardLowPrice': 0.0, 'oriPrice': 0, 'istop': 0, 'createTime': None, 'rules': None, 'detail': None, 'isSku': 0, 'expirTime': None, 'outerId': None, 'relBranchList': None}, 'cateringType': None, 'customer': None}]
2016-07-20 17:08:42,709 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:42,709 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:08:42" WHERE executed_history_id = 20160720170840 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:42,713 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 17:08:42,714 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:42,714 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:42" WHERE executed_history_id = 20160720170840 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:42,848 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 17:08:43,226 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:43,226 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 102, 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:43,227 testplan.py[line: 60] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:08:43,228 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:43,228 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 102, 'test-n-模拟点击立即购买按钮', 'plan1_of_wecharno', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:08:43,229 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:43,229 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:08:43,229 wechatno_wemall.py[line: 206] INFO: 正在发起GET请求...
2016-07-20 17:08:43,229 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?mallGoodsId=26838&type=1&serial=10549840601068216320&amount=1
2016-07-20 17:08:43,240 wechatno_wemall.py[line: 212] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:08:43,240 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:08:43,284 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:08:43,284 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:08:43,285 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 216, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:08:43" WHERE executed_history_id = 20160720170840 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:43,313 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:43,314 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:08:43" WHERE executed_history_id = 20160720170840 AND testcase_id = 102 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:43,445 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=102]的执行结果
2016-07-20 17:08:43,807 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:43,808 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:43,810 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:08:43,810 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:43,811 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:08:43,813 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:43,814 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:08:43,814 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:08:43,814 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 17:08:43,964 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:08:43,965 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:43,966 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:08:43" WHERE executed_history_id = 20160720170840 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:43,969 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:08:43,970 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:43,970 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:43" WHERE executed_history_id = 20160720170840 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:44,111 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 17:08:44,468 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:08:44,468 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:08:44,469 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 17:08:44,469 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:44,469 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 17:08:44,471 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:08:44,471 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:08:44,471 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:44,475 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:08:44,614 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:08:44,618 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:08:44,622 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:08:44,623 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:08:44,776 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 17:08:44,776 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:08:44,780 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:44,780 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:08:44" WHERE executed_history_id = 20160720170840 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:44,782 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:08:44,782 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720170840', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"var"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 17:08:44,783 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 17:08:44,784 casestep.py[line: 64] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 17:08:44,784 wechatno_wemall.py[line: 165] INFO: 正在发起POST请求...
2016-07-20 17:08:44,784 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 17:08:44,858 wechatno_wemall.py[line: 172] INFO: 正在解析返回结果:{'message': None, 'attach': None, 'success': True}
2016-07-20 17:08:44,858 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15769,)
2016-07-20 17:08:44,862 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:08:44,862 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:08:44" WHERE executed_history_id = 20160720170840 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:44,864 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 17:08:44,864 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:08:44,864 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:08:44" WHERE executed_history_id = 20160720170840 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:08:45,020 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 17:08:45,149 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 17:08:45,150 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:08:45,150 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:08:45,150 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720170840',)
2016-07-20 17:08:45,151 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:08:45,152 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720170840')
2016-07-20 17:08:45,153 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:08:45,153 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720170840')
2016-07-20 17:08:45,154 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:08:45,154 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720170840')
2016-07-20 17:08:45,154 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:08:45,155 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720170840')
2016-07-20 17:08:45,155 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:08:45,155 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720170840',)
2016-07-20 17:08:45,157 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 17:08:45,157 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720170840')
2016-07-20 17:08:45,158 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 17:08:45,159 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:08:45,159 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720170840',)
2016-07-20 17:08:45,160 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 17:08:45,160 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720170840')
2016-07-20 17:08:45,161 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 17:08:45,161 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720170840')
2016-07-20 17:08:45,163 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 17:08:45,163 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720170840')
2016-07-20 17:08:45,164 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 17:08:45,165 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720170840')
2016-07-20 17:08:45,166 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:08:45,166 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 102, '20160720170840')
2016-07-20 17:08:45,168 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:08:45,168 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720170840')
2016-07-20 17:08:45,170 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 17:08:45,170 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720170840')
2016-07-20 17:08:45,172 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:08:45,172 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720170840.html
2016-07-20 17:08:45,172 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:08:45,173 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:08:46,439 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720170840.html
2016-07-20 17:08:46,439 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:08:46,439 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:11:32,538 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:11:32,548 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:11:32,554 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:11:32,607 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:11:32,608 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:11:32,609 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:11:32,609 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:11:32,610 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:11:32,611 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 17:11:32,611 main.py[line: 107] INFO: 运行指定项目
2016-07-20 17:11:32,799 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 17:11:32,799 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 17:11:32,800 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 17:11:32,800 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 17:11:32,932 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 17:11:33,063 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 17:11:33,064 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 17:11:33,185 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['98', '102', '80', '93', '76', '88'])
2016-07-20 17:11:33,539 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:33,540 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 98, 'test-n-查看购物车商品列表', '微商城-查看购物车商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:33,541 testplan.py[line: 60] INFO: 开始执行测试用例[id=98，name=test-n-查看购物车商品列表]
2016-07-20 17:11:33,541 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:33,542 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 100, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 17:11:33,543 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:33,543 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:11:33,543 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:33,547 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:11:33,552 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:33,557 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:11:33,561 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:11:33,562 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:11:33,738 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 17:11:33,738 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:11:33,744 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:33,744 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:11:33" WHERE executed_history_id = 20160720171132 AND testcase_id = 98 AND step_id = 100 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:33,750 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:33,750 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 98, 'test-n-查看购物车商品列表', 'plan1_of_wecharno', 'pj_wecharno', 101, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"CartList","function":"test_view_cart_list","method":"get","url":"/cartlist?","params":{"serial":"var","openId":"var"}} ', '{"amount":2,"goodsID":26838}', 'Block', '', '')
2016-07-20 17:11:33,753 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 17:11:33,753 casestep.py[line: 64] INFO: 调用的方法为：CartList.test_view_cart_list
2016-07-20 17:11:33,754 wechatno_wemall.py[line: 189] INFO: 正在发起GET请求...
2016-07-20 17:11:33,754 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/cartlist?openId=ous64uFCCLMyXYDJ-MkNilyCI5CY&serial=10549840601068216320
2016-07-20 17:11:33,770 wechatno_wemall.py[line: 195] INFO: 正在解析返回结果:[{'customer': None, 'shop': None, 'closed': None, 'cateringType': None, 'mallGoods': {'soldAllCount': 0, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg,', 'elemeSyncStatus': None, 'skuQuantity': None, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 0, 'waimaiChannel': None, 'description': '接口测试专用,烦请勿删,勿操作', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '接口-测试商品1', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': None, 'preRemind': None, 'outerId': None, 'mallGoodsCate': None, 'cateName': None, 'isSku': 0, 'standardLowPrice': 0.0, 'price': 1, 'shopId': None, 'standard': 1, 'id': 26838, 'cannotUseTime': None, 'syncStatus': 0}, 'mallGoodsStandard': None, 'id': 15770, 'amount': 2, 'shopBranchId': None}]
2016-07-20 17:11:33,771 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:33,771 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:11:33" WHERE executed_history_id = 20160720171132 AND testcase_id = 98 AND step_id = 101 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:33,775 testcase.py[line: 101] INFO: 测试用例[id=98, name=test-n-查看购物车商品列表]执行成功
2016-07-20 17:11:33,776 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:33,776 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:11:33" WHERE executed_history_id = 20160720171132 AND testcase_id = 98 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:33,918 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=98]的执行结果
2016-07-20 17:11:34,296 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:34,297 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 102, 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:34,298 testplan.py[line: 60] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:11:34,298 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:34,299 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 102, 'test-n-模拟点击立即购买按钮', 'plan1_of_wecharno', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:11:34,300 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:34,300 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:11:34,301 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:11:34,301 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?type=1&amount=1&mallGoodsId=26838&serial=10549840601068216320
2016-07-20 17:11:34,311 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:11:34,312 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:11:34,313 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:11:34,313 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:11:34,313 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:11:34" WHERE executed_history_id = 20160720171132 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:34,316 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:34,317 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:11:34" WHERE executed_history_id = 20160720171132 AND testcase_id = 102 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:34,448 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=102]的执行结果
2016-07-20 17:11:34,831 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:34,831 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:34,832 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:11:34,832 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:34,833 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:11:34,834 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:34,834 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:11:34,834 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:11:34,834 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 17:11:35,001 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:11:35,002 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:35,003 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:11:34" WHERE executed_history_id = 20160720171132 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:35,013 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:11:35,013 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:35,014 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:11:34" WHERE executed_history_id = 20160720171132 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:35,171 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 17:11:35,556 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:35,556 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 93, 'test-n-把商品移出购物车', '微商城-把商品移出购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:35,557 testplan.py[line: 60] INFO: 开始执行测试用例[id=93，name=test-n-把商品移出购物车]
2016-07-20 17:11:35,558 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:35,558 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 95, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}} ', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":"var", "closed":1}', 'Block', '', '')
2016-07-20 17:11:35,559 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:35,559 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:11:35,559 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:35,564 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:11:35,640 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:35,646 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:11:35,650 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:11:35,651 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:11:35,746 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 17:11:35,747 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:11:35,753 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:35,753 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:11:35" WHERE executed_history_id = 20160720171132 AND testcase_id = 93 AND step_id = 95 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:35,764 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:35,765 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 93, 'test-n-把商品移出购物车', 'plan1_of_wecharno', 'pj_wecharno', 96, 2, '', 'http', 'm.test.saofu.cn', 80, '{"class":"DelFromCart","function":"test_del_from_cart","method":"get","url":"/delfromcart?","params":{"strIds":"var","serial":"var"}}', '{"success":"True"}', 'Block', '', '')
2016-07-20 17:11:35,770 testcase.py[line: 60] INFO: 开始执行步骤操作[第2步]
2016-07-20 17:11:35,771 casestep.py[line: 64] INFO: 调用的方法为：DelFromCart.test_del_from_cart
2016-07-20 17:11:35,771 wechatno_wemall.py[line: 165] INFO: 正在发起POST请求...
2016-07-20 17:11:35,772 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/delfromcart?
2016-07-20 17:11:35,861 wechatno_wemall.py[line: 172] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 17:11:35,862 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE id=%s  data：(15770,)
2016-07-20 17:11:35,867 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:35,867 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:11:35" WHERE executed_history_id = 20160720171132 AND testcase_id = 93 AND step_id = 96 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:35,869 testcase.py[line: 101] INFO: 测试用例[id=93, name=test-n-把商品移出购物车]执行成功
2016-07-20 17:11:35,870 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:35,870 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:11:35" WHERE executed_history_id = 20160720171132 AND testcase_id = 93 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:35,981 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=93]的执行结果
2016-07-20 17:11:36,388 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:36,388 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:36,390 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 17:11:36,390 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:36,390 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"var","name":""}}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 17:11:36,392 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:36,392 casestep.py[line: 64] INFO: 调用的方法为：PList.test_plist_default
2016-07-20 17:11:36,392 wechatno_wemall.py[line: 29] INFO: 正在发起POST请求...
2016-07-20 17:11:36,393 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/plist
2016-07-20 17:11:36,443 wechatno_wemall.py[line: 38] INFO: 正在解析返回结果:{'pageInfo': {'params': None, 'pagination': True, 'currentPage': 1, 'totalPages': 1, 'pageEndRow': 5, 'totalRows': 5, 'hasPreviousPage': False, 'pageStartRow': 0, 'hasNextPage': False, 'pageSize': 10}, 'dataList': [{'soldAllCount': 274, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/bef60928-a428-4dde-85b1-17fff4005959.jpg', 'elemeSyncStatus': None, 'skuQuantity': 0, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 268, 'waimaiChannel': None, 'description': '100', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '插线板更名后', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': {'createTime': None, 'thirdAppId': None, 'suffixShop': None, 'logoUrl': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'name': None, 'parent': None, 'email': None, 'phoneNumber': None, 'printAdText': None, 'id': 42}, 'preRemind': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'delFlag': None, 'name': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None}, 'cateName': None, 'isSku': 0, 'standardLowPrice': 0.0, 'price': 1000, 'shopId': None, 'standard': 1, 'id': 26189, 'cannotUseTime': None, 'syncStatus': 0}, {'soldAllCount': 72, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/04/25/7a59f0ca-ccb6-41ec-a1ab-27a854237d2f.jpg', 'elemeSyncStatus': None, 'skuQuantity': 9265759, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 72, 'waimaiChannel': None, 'description': '阿斯达', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '水淀粉', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': {'createTime': None, 'thirdAppId': None, 'suffixShop': None, 'logoUrl': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'name': None, 'parent': None, 'email': None, 'phoneNumber': None, 'printAdText': None, 'id': 42}, 'preRemind': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'delFlag': None, 'name': None, 'orderNum': None, 'id': 260, 'goodsSoldOutAmount': 0, 'branchId': None}, 'cateName': None, 'isSku': 0, 'standardLowPrice': 0.0, 'price': 100000000, 'shopId': None, 'standard': 1, 'id': 26188, 'cannotUseTime': None, 'syncStatus': 0}, {'soldAllCount': 35, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg', 'elemeSyncStatus': None, 'skuQuantity': None, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 0, 'waimaiChannel': None, 'description': '接口测试专用,勿动', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '接口-测试商品2', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': {'createTime': None, 'thirdAppId': None, 'suffixShop': None, 'logoUrl': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'name': None, 'parent': None, 'email': None, 'phoneNumber': None, 'printAdText': None, 'id': 42}, 'preRemind': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'delFlag': None, 'name': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None}, 'cateName': None, 'isSku': 0, 'standardLowPrice': 0.01, 'price': 0, 'shopId': None, 'standard': 2, 'id': 26839, 'cannotUseTime': None, 'syncStatus': 0}, {'soldAllCount': 5, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg', 'elemeSyncStatus': None, 'skuQuantity': 999995, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 5, 'waimaiChannel': None, 'description': '接口测试专用,烦请勿删,勿操作', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '接口-测试商品1', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': {'createTime': None, 'thirdAppId': None, 'suffixShop': None, 'logoUrl': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'name': None, 'parent': None, 'email': None, 'phoneNumber': None, 'printAdText': None, 'id': 42}, 'preRemind': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'delFlag': None, 'name': None, 'orderNum': None, 'id': 268, 'goodsSoldOutAmount': 0, 'branchId': None}, 'cateName': None, 'isSku': 0, 'standardLowPrice': 0.0, 'price': 1, 'shopId': None, 'standard': 1, 'id': 26838, 'cannotUseTime': None, 'syncStatus': 0}, {'soldAllCount': 9, 'relBranchList': None, 'delFlag': None, 'branch': None, 'standardTopPrice': 0.0, 'transientPrice': 0.0, 'status': 1, 'baiduSyncStatus': None, 'meituanSyncStatus': None, 'cwId': None, 'rank': None, 'iconUrl': 'http://res.test.saofu.cn/saofu/upload/file/2016/07/13/f99f5e55-d23c-4d73-980e-031b0e1643ea.png', 'elemeSyncStatus': None, 'skuQuantity': None, 'dishCount': None, 'lunchBoxCount': None, 'business': None, 'relType': None, 'transientOriPrice': 0.0, 'expirTime': None, 'cateId': 0, 'soldCount': 0, 'waimaiChannel': None, 'description': '啊啊啊啊啊', 'detail': None, 'createTime': None, 'rules': None, 'standardAllSku': None, 'istop': 0, 'goodsCopyId': None, 'servicePhone': None, 'mallGoodsCatagoryId': None, 'hasActivity': 0, 'name': '多规格冗余测试', 'mallGoodsStandards': None, 'oriPrice': 0, 'useTime': None, 'shop': {'createTime': None, 'thirdAppId': None, 'suffixShop': None, 'logoUrl': None, 'serial': None, 'printAdUrl': None, 'fullName': None, 'name': None, 'parent': None, 'email': None, 'phoneNumber': None, 'printAdText': None, 'id': 42}, 'preRemind': None, 'outerId': None, 'mallGoodsCate': {'goodsAmount': 0, 'shop': None, 'oldName': None, 'delFlag': None, 'name': None, 'orderNum': None, 'id': 259, 'goodsSoldOutAmount': 0, 'branchId': None}, 'cateName': None, 'isSku': 0, 'standardLowPrice': 1.0, 'price': 0, 'shopId': None, 'standard': 2, 'id': 26836, 'cannotUseTime': None, 'syncStatus': 0}]}
2016-07-20 17:11:36,448 mydb.py[line: 77] INFO: query：SELECT COUNT(*) FROM mall_goods AS mg JOIN mall_goods_cate AS mgc ON mg.cate_id=mgc.id JOIN template_cate AS tc ON tc.cate_id=mgc.id AND tc.template_id=1 AND tc.status=1 WHERE mg.shop_id=%s AND mg.del_flag=%s AND mg.status=%s AND mg.business_id NOT IN (%s, %s)  data：(42, 0, 1, 1, 2)
2016-07-20 17:11:36,462 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26838,)
2016-07-20 17:11:36,466 mydb.py[line: 77] INFO: query：SELECT sku_quantity FROM mall_goods WHERE id=%s  data：(26839,)
2016-07-20 17:11:36,470 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:36,470 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:11:36" WHERE executed_history_id = 20160720171132 AND testcase_id = 76 AND step_id = 78 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:36,477 testcase.py[line: 101] INFO: 测试用例[id=76, name=test-n-显示默认页面]执行成功
2016-07-20 17:11:36,477 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:36,478 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:11:36" WHERE executed_history_id = 20160720171132 AND testcase_id = 76 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:36,623 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=76]的执行结果
2016-07-20 17:11:36,977 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:11:36,977 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 88, 'test-n-把商品加入购物车', '微商城-把商品加入购物车接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:11:36,978 testplan.py[line: 60] INFO: 开始执行测试用例[id=88，name=test-n-把商品加入购物车]
2016-07-20 17:11:36,978 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:11:36,978 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171132', 88, 'test-n-把商品加入购物车', 'plan1_of_wecharno', 'pj_wecharno', 90, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"AddToCart","function":"test_add_to_cart","method":"post","url":"/addtocart","params":{"mallGoodsId":26838,"standardId":"undefined","amount":2,"serial":"var","openId":"var"}}', '{"success":"True", "amount":2, "mall_goods_id":26838,"shop_id":42, "closed":1}', 'Block', '', '')
2016-07-20 17:11:36,979 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:11:36,979 casestep.py[line: 64] INFO: 调用的方法为：AddToCart.test_add_to_cart
2016-07-20 17:11:36,979 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:36,983 mydb.py[line: 63] INFO: query：UPDATE mall_shopping_cart SET amount = 0 WHERE customer_id = 6840 and closed=1
2016-07-20 17:11:36,991 mydb.py[line: 77] INFO: query：SELECT id FROM customer WHERE channel_serial=%s  data：('ous64uFCCLMyXYDJ-MkNilyCI5CY',)
2016-07-20 17:11:36,996 mydb.py[line: 77] INFO: query：SELECT id FROM shop WHERE serial=%s  data：('10549840601068216320',)
2016-07-20 17:11:37,001 wechatno_wemall.py[line: 132] INFO: 正在发起POST请求...
2016-07-20 17:11:37,001 httpprotocol.py[line: 67] INFO: 发起的请求为：http://m.test.saofu.cn:80/addtocart
2016-07-20 17:11:37,097 wechatno_wemall.py[line: 139] INFO: 正在解析返回结果:{'success': True, 'attach': None, 'message': None}
2016-07-20 17:11:37,097 mydb.py[line: 77] INFO: query：SELECT amount, mall_goods_id, shop_id, closed, id FROM mall_shopping_cart WHERE customer_id = %s and closed=%s ORDER BY id DESC LIMIT 1  data：(6840, 1)
2016-07-20 17:11:37,102 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:11:37,102 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="post", runtime="2016-07-20 17:11:36" WHERE executed_history_id = 20160720171132 AND testcase_id = 88 AND step_id = 90 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:37,107 testcase.py[line: 101] INFO: 测试用例[id=88, name=test-n-把商品加入购物车]执行成功
2016-07-20 17:11:37,107 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:11:37,107 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:11:36" WHERE executed_history_id = 20160720171132 AND testcase_id = 88 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:11:37,235 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=88]的执行结果
2016-07-20 17:11:37,391 testplan.py[line: 85] INFO: 测试计划[project=pj_wecharno ,testplan=plan1_of_wecharno]已执行完
2016-07-20 17:11:37,391 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:11:37,392 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:11:37,392 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720171132',)
2016-07-20 17:11:37,394 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:11:37,394 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720171132')
2016-07-20 17:11:37,395 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:11:37,395 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720171132')
2016-07-20 17:11:37,397 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:11:37,397 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720171132')
2016-07-20 17:11:37,398 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:11:37,398 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720171132')
2016-07-20 17:11:37,399 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:11:37,400 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171132',)
2016-07-20 17:11:37,401 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例执行结果
2016-07-20 17:11:37,401 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720171132')
2016-07-20 17:11:37,403 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]的测试用例运行结果到测试报告
2016-07-20 17:11:37,404 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:11:37,404 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171132',)
2016-07-20 17:11:37,405 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：plan1_of_wecharno]已运行的测试用例
2016-07-20 17:11:37,405 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', 'plan1_of_wecharno', '20160720171132')
2016-07-20 17:11:37,407 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=98]步骤运行结果
2016-07-20 17:11:37,407 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 98, '20160720171132')
2016-07-20 17:11:37,410 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:11:37,410 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 102, '20160720171132')
2016-07-20 17:11:37,412 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:11:37,413 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 80, '20160720171132')
2016-07-20 17:11:37,415 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=93]步骤运行结果
2016-07-20 17:11:37,415 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 93, '20160720171132')
2016-07-20 17:11:37,417 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=76]步骤运行结果
2016-07-20 17:11:37,417 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 76, '20160720171132')
2016-07-20 17:11:37,419 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=88]步骤运行结果
2016-07-20 17:11:37,420 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', 'plan1_of_wecharno', 88, '20160720171132')
2016-07-20 17:11:37,422 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:11:37,422 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720171132.html
2016-07-20 17:11:37,422 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:11:37,424 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:11:37,628 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720171132.html
2016-07-20 17:11:37,629 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:11:37,629 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:12:36,140 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:12:36,152 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:12:36,157 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:12:36,226 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:12:36,227 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:12:36,228 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:12:36,228 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:12:36,229 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:12:36,231 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 17:12:36,231 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-20 17:12:36,461 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-20 17:12:36,462 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-20 17:12:36,462 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-20 17:12:36,711 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:12:36,712 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171236', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:12:36,713 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:12:36,713 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:12:36,713 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171236', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:12:36,714 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:12:36,714 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:12:36,714 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:12:36,715 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 17:12:36,909 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:12:36,910 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:12:36,910 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:12:36" WHERE executed_history_id = 20160720171236 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:12:36,929 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:12:36,930 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:12:36,930 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:12:36" WHERE executed_history_id = 20160720171236 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:12:37,107 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:12:37,108 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171236', '102', 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:12:37,109 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:12:37,109 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:12:37,110 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171236', '102', 'test-n-模拟点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:12:37,111 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:12:37,111 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:12:37,112 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:12:37,112 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?serial=10549840601068216320&mallGoodsId=26838&amount=1&type=1
2016-07-20 17:12:37,122 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:12:37,122 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:12:37,124 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:12:37,124 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:12:37,124 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:12:37" WHERE executed_history_id = 20160720171236 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:12:37,128 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:12:37,128 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:12:37" WHERE executed_history_id = 20160720171236 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:12:37,130 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-20 17:12:37,130 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:12:37,131 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:12:37,131 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720171236',)
2016-07-20 17:12:37,132 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:12:37,132 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720171236')
2016-07-20 17:12:37,133 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:12:37,134 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720171236')
2016-07-20 17:12:37,135 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:12:37,135 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720171236')
2016-07-20 17:12:37,137 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:12:37,137 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720171236')
2016-07-20 17:12:37,140 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:12:37,140 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171236',)
2016-07-20 17:12:37,144 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 17:12:37,144 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720171236')
2016-07-20 17:12:37,145 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 17:12:37,146 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:12:37,146 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171236',)
2016-07-20 17:12:37,147 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 17:12:37,147 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720171236')
2016-07-20 17:12:37,149 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:12:37,149 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160720171236')
2016-07-20 17:12:37,151 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:12:37,151 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160720171236')
2016-07-20 17:12:37,153 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:12:37,153 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720171236.html
2016-07-20 17:12:37,154 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:12:37,155 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:12:37,361 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720171236.html
2016-07-20 17:12:37,361 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:12:37,362 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:19:50,823 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:19:50,833 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:19:50,838 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:19:50,888 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:19:50,888 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:19:50,889 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:19:50,889 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:19:50,890 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:19:50,891 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 17:19:50,891 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-20 17:19:51,219 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-20 17:19:51,220 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-20 17:19:51,220 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-20 17:19:51,476 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:19:51,476 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171950', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:19:51,477 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:19:51,477 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:19:51,477 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171950', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:19:51,478 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:19:51,478 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:19:51,479 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:19:51,479 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 17:19:51,691 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:19:51,692 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:19:51,693 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:19:51" WHERE executed_history_id = 20160720171950 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:19:51,705 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:19:51,705 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:19:51,706 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:19:51" WHERE executed_history_id = 20160720171950 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:19:51,859 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:19:51,859 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171950', '102', 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:19:51,860 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:19:51,861 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:19:51,861 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720171950', '102', 'test-n-模拟点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:19:51,862 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:19:51,862 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:19:51,862 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:19:51,862 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?amount=1&type=1&serial=10549840601068216320&mallGoodsId=26838
2016-07-20 17:19:51,875 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:19:51,875 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:19:51,876 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:19:51,876 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:19:51,876 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:19:51" WHERE executed_history_id = 20160720171950 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:19:51,879 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:19:51,879 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:19:51" WHERE executed_history_id = 20160720171950 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:19:51,881 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-20 17:19:51,881 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:19:51,881 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:19:51,882 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720171950',)
2016-07-20 17:19:51,882 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:19:51,883 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720171950')
2016-07-20 17:19:51,883 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:19:51,884 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720171950')
2016-07-20 17:19:51,884 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:19:51,884 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720171950')
2016-07-20 17:19:51,885 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:19:51,885 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720171950')
2016-07-20 17:19:51,886 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:19:51,886 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171950',)
2016-07-20 17:19:51,887 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 17:19:51,887 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720171950')
2016-07-20 17:19:51,889 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 17:19:51,889 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:19:51,889 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720171950',)
2016-07-20 17:19:51,891 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 17:19:51,891 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720171950')
2016-07-20 17:19:51,892 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:19:51,892 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160720171950')
2016-07-20 17:19:51,893 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:19:51,893 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160720171950')
2016-07-20 17:19:51,895 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:19:51,895 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720171950.html
2016-07-20 17:19:51,895 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:19:51,896 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:19:53,133 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720171950.html
2016-07-20 17:19:53,134 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:19:53,135 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:21:33,475 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:21:33,486 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:21:33,491 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:21:33,543 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:21:33,543 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:21:33,544 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:21:33,544 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:21:33,545 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:21:33,546 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 17:21:33,546 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-20 17:21:33,811 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-20 17:21:33,812 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-20 17:21:33,812 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-20 17:21:34,058 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:21:34,058 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172133', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:21:34,059 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:21:34,059 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:21:34,060 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172133', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:21:34,060 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:21:34,061 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:21:34,061 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:21:34,061 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 17:21:34,230 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:21:34,231 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:21:34,231 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:21:34" WHERE executed_history_id = 20160720172133 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:21:34,233 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:21:34,233 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:21:34,233 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:21:34" WHERE executed_history_id = 20160720172133 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:21:34,365 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:21:34,365 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172133', '102', 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:21:34,366 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:21:34,367 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:21:34,367 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172133', '102', 'test-n-模拟点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:21:34,368 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:21:34,368 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:21:34,368 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:21:34,368 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?amount=1&type=1&serial=10549840601068216320&mallGoodsId=26838
2016-07-20 17:21:34,379 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:21:34,380 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:21:34,381 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:21:34,381 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:21:34,381 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:21:34" WHERE executed_history_id = 20160720172133 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:21:34,383 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:21:34,383 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:21:34" WHERE executed_history_id = 20160720172133 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:21:34,385 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-20 17:21:34,385 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:21:34,385 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:21:34,386 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720172133',)
2016-07-20 17:21:34,386 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:21:34,387 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720172133')
2016-07-20 17:21:34,387 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:21:34,388 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720172133')
2016-07-20 17:21:34,388 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:21:34,388 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720172133')
2016-07-20 17:21:34,389 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:21:34,389 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720172133')
2016-07-20 17:21:34,390 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:21:34,390 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172133',)
2016-07-20 17:21:34,391 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 17:21:34,392 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172133')
2016-07-20 17:21:34,393 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 17:21:34,393 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:21:34,393 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172133',)
2016-07-20 17:21:34,394 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 17:21:34,394 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172133')
2016-07-20 17:21:34,395 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:21:34,395 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160720172133')
2016-07-20 17:21:34,397 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:21:34,397 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160720172133')
2016-07-20 17:21:34,398 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:21:34,398 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720172133.html
2016-07-20 17:21:34,399 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:21:34,399 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:21:34,605 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720172133.html
2016-07-20 17:21:34,605 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:21:34,606 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:23:21,315 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:23:21,325 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:23:21,330 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:23:21,383 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:23:21,383 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:23:21,384 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:23:21,384 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:23:21,386 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:23:21,387 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 17:23:21,387 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-20 17:23:21,625 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-20 17:23:21,626 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-20 17:23:21,627 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-20 17:23:21,864 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:23:21,865 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172321', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:23:21,866 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:23:21,866 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:23:21,866 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172321', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:23:21,867 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:23:21,867 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:23:21,868 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:23:21,868 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 17:23:21,967 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:23:21,968 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:23:21,968 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:23:21" WHERE executed_history_id = 20160720172321 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:21,978 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:23:21,979 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:23:21,979 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:23:21" WHERE executed_history_id = 20160720172321 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:22,177 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:23:22,177 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172321', '102', 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:23:22,178 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:23:22,179 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:23:22,179 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172321', '102', 'test-n-模拟点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:23:22,180 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:23:22,180 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:23:22,181 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:23:22,181 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?type=1&serial=10549840601068216320&amount=1&mallGoodsId=26838
2016-07-20 17:23:22,192 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:[b'\r\n\r\n\r\n\r\n\r\n\r\n<!DOCTYPE html>\r\n<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  \r\n<!DOCTYPE html>\r\n<html>\r\n    <head>\r\n        <meta charset="UTF-8">\r\n        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">\r\n        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">\r\n        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">\r\n        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">\r\n        <title>\xe5\x93\x8e\xe5\x93\x9f~\xe5\x87\xba\xe9\x94\x99\xe5\x95\xa6~</title>\r\n    </head>\r\n    <body>\r\n        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>\r\n        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>\r\n        <script type="text/javascript">\r\n        Zepto(function($){\r\n\t\t\tfunction myAlert(content) {\r\n\t\t    \t$.dialog({\r\n\t\t    \t\tcontent : content,\r\n\t\t    \t\ttitle : "alert"\r\n\t\t    \t});\r\n\t\t    }\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tmyAlert("\xe5\x99\xa2...\xe5\x87\xba\xe9\x94\x99\xe4\xba\x86!\xe8\xaf\xb7\xe7\xad\x89\xe5\xbe\x85\xe7\xae\xa1\xe7\x90\x86\xe5\x91\x98\xe5\xa4\x84\xe7\x90\x86,\xe7\xa8\x8d\xe5\x90\x8e\xe9\x87\x8d\xe8\xaf\x95");\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n        });\r\n        </script>\r\n    </body>\r\n</html>\r\n', [('Server', 'nginx/1.8.0'), ('Date', 'Wed, 20 Jul 2016 09:23:14 GMT'), ('Content-Type', 'text/html;charset=UTF-8'), ('Content-Length', '1099'), ('Connection', 'close'), ('Set-Cookie', 'JSESSIONID=1E95CEE8F0BAE3D2DCC7D907416E4FDF; Path=/; HttpOnly'), ('Content-Language', 'en-US')], 200]
2016-07-20 17:23:22,193 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:23:22,193 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:23:22,193 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 144, in feed    self.rawdata = self.rawdata + dataTypeError: Cant convert list object to str implicitly", protocol_method="get", runtime="2016-07-20 17:23:22" WHERE executed_history_id = 20160720172321 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:22,196 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:23:22,196 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:23:22" WHERE executed_history_id = 20160720172321 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:22,198 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-20 17:23:22,198 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:23:22,199 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:23:22,199 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720172321',)
2016-07-20 17:23:22,200 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:23:22,200 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720172321')
2016-07-20 17:23:22,202 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:23:22,202 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720172321')
2016-07-20 17:23:22,203 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:23:22,203 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720172321')
2016-07-20 17:23:22,205 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:23:22,205 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720172321')
2016-07-20 17:23:22,207 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:23:22,207 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172321',)
2016-07-20 17:23:22,209 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 17:23:22,209 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172321')
2016-07-20 17:23:22,211 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 17:23:22,211 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:23:22,211 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172321',)
2016-07-20 17:23:22,213 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 17:23:22,213 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172321')
2016-07-20 17:23:22,215 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:23:22,215 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160720172321')
2016-07-20 17:23:22,217 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:23:22,218 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160720172321')
2016-07-20 17:23:22,219 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:23:22,220 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720172321.html
2016-07-20 17:23:22,220 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:23:22,221 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:23:22,450 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720172321.html
2016-07-20 17:23:22,451 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:23:22,451 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:23:31,862 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:23:31,874 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:23:31,879 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:23:31,928 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:23:31,928 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:23:31,929 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:23:31,930 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:23:31,930 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:23:31,932 main.py[line: 187] INFO: 按套件运行测试
2016-07-20 17:23:31,932 main.py[line: 189] INFO: 已获取配置的套件id列表：[79]
2016-07-20 17:23:32,168 main.py[line: 205] INFO: 正在读取套件[id=79，name=微商城-模拟点击页面跳转]的协议，host，端口配置...
2016-07-20 17:23:32,169 main.py[line: 223] INFO: 正在执行测试套件[id=79 ,name=微商城-模拟点击页面跳转]
2016-07-20 17:23:32,169 testsuite.py[line: 42] INFO: 正在获取套件[id=79，name=微商城-模拟点击页面跳转]的测试用例...
2016-07-20 17:23:32,428 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:23:32,428 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172331', '80', 'test-n-点击商品', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:23:32,429 testsuite.py[line: 63] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:23:32,429 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:23:32,430 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172331', '80', 'test-n-点击商品', '无计划', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:23:32,430 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:23:32,431 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:23:32,431 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:23:32,431 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?id=26838&serial=10549840601068216320
2016-07-20 17:23:32,571 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:23:32,572 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:23:32,572 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:23:32" WHERE executed_history_id = 20160720172331 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:32,581 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:23:32,582 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:23:32,582 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:23:32" WHERE executed_history_id = 20160720172331 and testcase_id = 80 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:32,746 testsuite.py[line: 60] INFO: 记录测试用例到到测试用例报表
2016-07-20 17:23:32,746 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172331', '102', 'test-n-模拟点击立即购买按钮', '微商城-模拟点击页面跳转', '无计划', 'pj_wecharno', 'Block', '')
2016-07-20 17:23:32,747 testsuite.py[line: 63] INFO: 开始执行测试用例[id=102，name=test-n-模拟点击立即购买按钮]
2016-07-20 17:23:32,747 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:23:32,747 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720172331', '102', 'test-n-模拟点击立即购买按钮', '无计划', 'pj_wecharno', 104, 1, '', 'http', 'm.test.saofu.cn', '80', '{"class":"ToBuyGoods","function":"test_to_buy_goods","method":"get","url":"/mall/tobuy/1?","params":{"mallGoodsId":"26838","amount":1,"type":1,"serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:23:32,748 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:23:32,748 casestep.py[line: 64] INFO: 调用的方法为：ToBuyGoods.test_to_buy_goods
2016-07-20 17:23:32,748 wechatno_wemall.py[line: 209] INFO: 正在发起GET请求...
2016-07-20 17:23:32,749 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/mall/tobuy/1?type=1&amount=1&mallGoodsId=26838&serial=10549840601068216320
2016-07-20 17:23:32,759 wechatno_wemall.py[line: 215] INFO: 正在解析返回结果:





<!DOCTYPE html>
<link rel="stylesheet" href="/css/bind/banner.css?v=3.4.0-f5bd5" />  
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" href="/css/skin-nr-min.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" href="/css/cpn.css?v=3.4.0-f5bd5">
        <link rel="stylesheet" type="text/css" href="/css/zepto.alert.css?v=3.4.0-f5bd5">
        <title>哎哟~出错啦~</title>
    </head>
    <body>
        <script type="text/javascript" src="/js/zepto.min.js?v=3.4.0-f5bd5" ></script>
        <script type="text/javascript" src="/js/zepto.alert.min.js?v=3.4.0-f5bd5"></script>
        <script type="text/javascript">
        Zepto(function($){
			function myAlert(content) {
		    	$.dialog({
		    		content : content,
		    		title : "alert"
		    	});
		    }
			
				
				
					myAlert("噢...出错了!请等待管理员处理,稍后重试");					
				
			
        });
        </script>
    </body>
</html>

2016-07-20 17:23:32,760 htmlparser.py[line: 28] INFO: Data 






2016-07-20 17:23:32,761 testcase.py[line: 69] ERROR: 步骤[1]执行出错,停止执行用例[id=102, name=test-n-模拟点击立即购买按钮]
2016-07-20 17:23:32,761 testcase.py[line: 75] INFO: 正在更新步骤执行结果
2016-07-20 17:23:32,761 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File E:\Projects\interface_project\interface\wechatno_wemall.py, line 219, in test_to_buy_goods    parser.feed(response)  File D:\Program Files\python33\lib\html\parser.py, line 145, in feed    self.goahead(0)  File D:\Program Files\python33\lib\html\parser.py, line 200, in goahead    k = self.parse_html_declaration(i)  File D:\Program Files\python33\lib\html\parser.py, line 290, in parse_html_declaration    self.handle_decl(rawdata[i+2:gtpos])  File E:\Projects\interface_project\htmlparser.py, line 47, in handle_decl    logger.info(Decl： % data)TypeError: not all arguments converted during string formatting", protocol_method="get", runtime="2016-07-20 17:23:32" WHERE executed_history_id = 20160720172331 AND testcase_id = 102 AND step_id = 104 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:32,763 testsuite.py[line: 67] INFO: 正在更新用例执行结果
2016-07-20 17:23:32,763 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2016-07-20 17:23:32" WHERE executed_history_id = 20160720172331 and testcase_id = 102 AND project='pj_wecharno' AND testplan='无计划'
2016-07-20 17:23:32,765 testsuite.py[line: 74] INFO: 测试套件[id=79 ,name=微商城-模拟点击页面跳转]已执行完
2016-07-20 17:23:32,765 main.py[line: 229] INFO: 接口测试已执行完成，正在关闭数据库连接
2016-07-20 17:23:32,766 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2016-07-20 17:23:32,766 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20160720172331',)
2016-07-20 17:23:32,767 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2016-07-20 17:23:32,767 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20160720172331')
2016-07-20 17:23:32,768 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2016-07-20 17:23:32,768 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20160720172331')
2016-07-20 17:23:32,768 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2016-07-20 17:23:32,768 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20160720172331')
2016-07-20 17:23:32,769 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2016-07-20 17:23:32,769 mydb.py[line: 77] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20160720172331')
2016-07-20 17:23:32,770 htmlreporter.py[line: 72] INFO: 正在查询已运的测试计划
2016-07-20 17:23:32,770 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172331',)
2016-07-20 17:23:32,772 htmlreporter.py[line: 98] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]的测试用例执行结果
2016-07-20 17:23:32,772 mydb.py[line: 93] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172331')
2016-07-20 17:23:32,773 htmlreporter.py[line: 105] INFO: 正在记录测试测试计划[project：pj_wecharno, testplan：无计划]的测试用例运行结果到测试报告
2016-07-20 17:23:32,773 htmlreporter.py[line: 115] INFO: 正在查询已运的测试计划
2016-07-20 17:23:32,773 mydb.py[line: 93] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20160720172331',)
2016-07-20 17:23:32,774 htmlreporter.py[line: 127] INFO: 正在查询测试计划[project：pj_wecharno, testplan：无计划]已运行的测试用例
2016-07-20 17:23:32,774 mydb.py[line: 93] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('pj_wecharno', '无计划', '20160720172331')
2016-07-20 17:23:32,775 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=80]步骤运行结果
2016-07-20 17:23:32,776 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 80, '20160720172331')
2016-07-20 17:23:32,777 htmlreporter.py[line: 158] INFO: 正在查询测试用例[id=102]步骤运行结果
2016-07-20 17:23:32,777 mydb.py[line: 93] INFO: query：SELECT step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, cstb.runresult, reason, cstb.runtime FROM case_step_report_tb AS cstb JOIN testcase_report_tb AS tstb ON cstb.testcase_id =  tstb.testcase_id AND cstb.project=tstb.project AND cstb.testplan=tstb.testplan AND cstb.executed_history_id = tstb.executed_history_id WHERE tstb.project= %s AND tstb.testplan=%s AND cstb.testcase_id=%s AND cstb.executed_history_id = %s  data：('pj_wecharno', '无计划', 102, '20160720172331')
2016-07-20 17:23:32,778 htmlreporter.py[line: 177] INFO: 正在设置测试报告结果文件名
2016-07-20 17:23:32,779 htmlreporter.py[line: 187] INFO: 测试报告文件名所在路径为：E:\\Projects\\report\\test_report20160720172331.html
2016-07-20 17:23:32,779 htmlreporter.py[line: 180] INFO: 正在生成测试报告
2016-07-20 17:23:32,780 main.py[line: 252] INFO: 生成测试报告成功
2016-07-20 17:23:32,993 main.py[line: 259] INFO: E:\\Projects\\report\\test_report20160720172331.html
2016-07-20 17:23:32,993 main.py[line: 262] INFO: 正在发送测试报告邮件...
2016-07-20 17:23:32,993 main.py[line: 266] INFO: 发送邮件成功
2016-07-20 17:32:28,893 globalpy.py[line: 14] INFO: 正在初始化数据库[名称：TESTDB]对象
2016-07-20 17:32:28,903 globalpy.py[line: 17] INFO: 正在初始化数据库[名称：SAOFUDB]对象
2016-07-20 17:32:28,908 globalpy.py[line: 20] INFO: 正在获取testlink
2016-07-20 17:32:28,957 main.py[line: 60] INFO: 正在创建测试用例报告报表
2016-07-20 17:32:28,957 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2016-07-20 17:32:28,958 main.py[line: 63] INFO: 正在创建测试步骤报告报表
2016-07-20 17:32:28,958 mydb.py[line: 37] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2016-07-20 17:32:28,959 main.py[line: 66] INFO: 正在读取运行模式配置
2016-07-20 17:32:28,961 main.py[line: 71] INFO: 按项目运行测试
2016-07-20 17:32:28,961 main.py[line: 107] INFO: 运行指定项目
2016-07-20 17:32:29,134 main.py[line: 123] INFO: 正在读取测项目[id：73, project：pj_wecharno]的协议，host，端口配置...
2016-07-20 17:32:29,134 main.py[line: 126] INFO: 成功读取配置信息：{"protocol":"http","host":"m.test.saofu.cn","port":80} 
2016-07-20 17:32:29,135 main.py[line: 142] INFO: 正在执行测试项目[id：73, project：pj_wecharno]
2016-07-20 17:32:29,135 testproject.py[line: 23] INFO: 正在获取测试项目[id：73, name：pj_wecharno]对应对应的测试计划名称列表
2016-07-20 17:32:29,260 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plan1_of_wecharno']]
2016-07-20 17:32:29,386 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：pj_wecharno，testplan：plan1_of_wecharno]
2016-07-20 17:32:29,386 testplan.py[line: 29] INFO: 正在获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例
2016-07-20 17:32:29,514 testplan.py[line: 35] INFO: 成功获取测试计划[project=pj_wecharno，name=plan1_of_wecharno]的测试用例id：dict_keys(['80', '76', '102', '98', '88', '93'])
2016-07-20 17:32:29,780 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:32:29,780 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720173228', 80, 'test-n-点击商品', '微商城-模拟点击页面跳转', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:32:29,782 testplan.py[line: 60] INFO: 开始执行测试用例[id=80，name=test-n-点击商品]
2016-07-20 17:32:29,782 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:32:29,782 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720173228', 80, 'test-n-点击商品', 'plan1_of_wecharno', 'pj_wecharno', 82, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"Goods","function":"test_click_goods","method":"get","url":"/goods/item?","params":{"id":26838, "serial":"var"}}', '{"status":200}', 'Block', '', '')
2016-07-20 17:32:29,783 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:32:29,783 casestep.py[line: 64] INFO: 调用的方法为：Goods.test_click_goods
2016-07-20 17:32:29,784 wechatno_wemall.py[line: 89] INFO: 正在发起GET请求...
2016-07-20 17:32:29,784 httpprotocol.py[line: 50] INFO: 发起的请求为：http://m.test.saofu.cn:80/goods/item?serial=10549840601068216320&id=26838
2016-07-20 17:32:30,035 wechatno_wemall.py[line: 95] INFO: 正在解析返回结果:200
2016-07-20 17:32:30,035 testcase.py[line: 98] INFO: 正在更新步骤执行结果
2016-07-20 17:32:30,036 mydb.py[line: 63] INFO: query：UPDATE case_step_report_tb SET runresult="Pass",reason="", protocol_method="get", runtime="2016-07-20 17:32:29" WHERE executed_history_id = 20160720173228 AND testcase_id = 80 AND step_id = 82 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:32:30,043 testcase.py[line: 101] INFO: 测试用例[id=80, name=test-n-点击商品]执行成功
2016-07-20 17:32:30,044 testplan.py[line: 64] INFO: 正在更新用例执行结果
2016-07-20 17:32:30,044 mydb.py[line: 63] INFO: query：UPDATE testcase_report_tb SET runresult="Pass", runtime="2016-07-20 17:32:29" WHERE executed_history_id = 20160720173228 AND testcase_id = 80 AND project='pj_wecharno' AND testplan='plan1_of_wecharno'
2016-07-20 17:32:30,186 testplan.py[line: 75] INFO: 正在更新testlink上测试计划[testplan_id=74, bulid_version=v1.0.0],对应用例[testcase_id=80]的执行结果
2016-07-20 17:32:30,540 testplan.py[line: 57] INFO: 记录测试用例到测试用例报表
2016-07-20 17:32:30,540 mydb.py[line: 50] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720173228', 76, 'test-n-显示默认页面', '微商城-显示商品列表接口', 'plan1_of_wecharno', 'pj_wecharno', 'Block', '')
2016-07-20 17:32:30,541 testplan.py[line: 60] INFO: 开始执行测试用例[id=76，name=test-n-显示默认页面]
2016-07-20 17:32:30,542 testcase.py[line: 48] INFO: 记录测试步骤到测试步骤报告表
2016-07-20 17:32:30,542 mydb.py[line: 50] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20160720173228', 76, 'test-n-显示默认页面', 'plan1_of_wecharno', 'pj_wecharno', 78, 1, '', 'http', 'm.test.saofu.cn', 80, '{"class":"PList","function":"test_plist_default","method":"post","url":"/goods/plist","params":{"page_size":"10","page_no":"1","cateIds":"","orderBy":"","serial":"var","name":""}}', '{"currentPage":1,"pageSize":10,"pageStartRow":0,"pagination":"True","totalPages":"var","totalRows":"var","goodsinfo":[{"id": 26838,"name": "接口-测试商品1","price": 1,"description": "接口测试专用,烦请勿删,勿操作","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/352c9a44-5fe7-4546-9786-563d8700a773.jpg","skuQuantity":"var","standard": 1},{"id": 26839,"name": "接口-测试商品2","price": 0,"description": "接口测试专用,勿动","iconUrl": "http://res.test.saofu.cn/saofu/upload/image/2016/07/18/2c2ebeef-8d4f-483f-8ff4-ebcd5d209bb7.jpg","skuQuantity":"var","standard": 2}]}', 'Block', '', '')
2016-07-20 17:32:30,543 testcase.py[line: 60] INFO: 开始执行步骤操作[第1步]
2016-07-20 17:32:30,543 casestep.py[line: 64] INFO: 调用的方法为：PList.test_plist_default
